
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp._opam.lib.coq.user-contrib.mathcomp.ssreflect.order</title>
<meta name="description" content="Documentation of Coq module mathcomp._opam.lib.coq.user-contrib.mathcomp.ssreflect.order" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="rocqnavi.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="rocqnavi.js"> </script>
</head>

<body onload="init()">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="Corelib"><summary>Corelib</summary>
          <ul>
          <li><details id="Corelib.Array"><summary>Array</summary>
          <ul>
          <li><a href="Corelib.Array.ArrayAxioms.html">ArrayAxioms</a></li>
<li><a href="Corelib.Array.PrimArray.html">PrimArray</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.BinNums"><summary>BinNums</summary>
          <ul>
          <li><a href="Corelib.BinNums.IntDef.html">IntDef</a></li>
<li><a href="Corelib.BinNums.NatDef.html">NatDef</a></li>
<li><a href="Corelib.BinNums.PosDef.html">PosDef</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Classes"><summary>Classes</summary>
          <ul>
          <li><a href="Corelib.Classes.CMorphisms.html">CMorphisms</a></li>
<li><a href="Corelib.Classes.CRelationClasses.html">CRelationClasses</a></li>
<li><a href="Corelib.Classes.Equivalence.html">Equivalence</a></li>
<li><a href="Corelib.Classes.Init.html">Init</a></li>
<li><a href="Corelib.Classes.Morphisms.html">Morphisms</a></li>
<li><a href="Corelib.Classes.Morphisms_Prop.html">Morphisms_Prop</a></li>
<li><a href="Corelib.Classes.RelationClasses.html">RelationClasses</a></li>
<li><a href="Corelib.Classes.SetoidTactics.html">SetoidTactics</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Compat"><summary>Compat</summary>
          <ul>
          <li><a href="Corelib.Compat.Coq818.html">Coq818</a></li>
<li><a href="Corelib.Compat.Coq819.html">Coq819</a></li>
<li><a href="Corelib.Compat.Coq820.html">Coq820</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Floats"><summary>Floats</summary>
          <ul>
          <li><a href="Corelib.Floats.FloatAxioms.html">FloatAxioms</a></li>
<li><a href="Corelib.Floats.FloatClass.html">FloatClass</a></li>
<li><a href="Corelib.Floats.FloatOps.html">FloatOps</a></li>
<li><a href="Corelib.Floats.PrimFloat.html">PrimFloat</a></li>
<li><a href="Corelib.Floats.SpecFloat.html">SpecFloat</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Init"><summary>Init</summary>
          <ul>
          <li><a href="Corelib.Init.Byte.html">Byte</a></li>
<li><a href="Corelib.Init.Datatypes.html">Datatypes</a></li>
<li><a href="Corelib.Init.Decimal.html">Decimal</a></li>
<li><a href="Corelib.Init.Hexadecimal.html">Hexadecimal</a></li>
<li><a href="Corelib.Init.Logic.html">Logic</a></li>
<li><a href="Corelib.Init.Ltac.html">Ltac</a></li>
<li><a href="Corelib.Init.Nat.html">Nat</a></li>
<li><a href="Corelib.Init.Notations.html">Notations</a></li>
<li><a href="Corelib.Init.Number.html">Number</a></li>
<li><a href="Corelib.Init.Peano.html">Peano</a></li>
<li><a href="Corelib.Init.Prelude.html">Prelude</a></li>
<li><a href="Corelib.Init.Specif.html">Specif</a></li>
<li><a href="Corelib.Init.Sumbool.html">Sumbool</a></li>
<li><a href="Corelib.Init.Tactics.html">Tactics</a></li>
<li><a href="Corelib.Init.Tauto.html">Tauto</a></li>
<li><a href="Corelib.Init.Wf.html">Wf</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Lists"><summary>Lists</summary>
          <ul>
          <li><a href="Corelib.Lists.ListDef.html">ListDef</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Numbers"><summary>Numbers</summary>
          <ul>
          <li><details id="Corelib.Numbers.Cyclic"><summary>Cyclic</summary>
          <ul>
          <li><details id="Corelib.Numbers.Cyclic.Int63"><summary>Int63</summary>
          <ul>
          <li><a href="Corelib.Numbers.Cyclic.Int63.CarryType.html">CarryType</a></li>
<li><a href="Corelib.Numbers.Cyclic.Int63.PrimInt63.html">PrimInt63</a></li>
<li><a href="Corelib.Numbers.Cyclic.Int63.Sint63Axioms.html">Sint63Axioms</a></li>
<li><a href="Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html">Uint63Axioms</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><a href="Corelib.Numbers.BinNums.html">BinNums</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Program"><summary>Program</summary>
          <ul>
          <li><a href="Corelib.Program.Basics.html">Basics</a></li>
<li><a href="Corelib.Program.Tactics.html">Tactics</a></li>
<li><a href="Corelib.Program.Utils.html">Utils</a></li>
<li><a href="Corelib.Program.Wf.html">Wf</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Relations"><summary>Relations</summary>
          <ul>
          <li><a href="Corelib.Relations.Relation_Definitions.html">Relation_Definitions</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Setoids"><summary>Setoids</summary>
          <ul>
          <li><a href="Corelib.Setoids.Setoid.html">Setoid</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.Strings"><summary>Strings</summary>
          <ul>
          <li><a href="Corelib.Strings.PrimString.html">PrimString</a></li>
<li><a href="Corelib.Strings.PrimStringAxioms.html">PrimStringAxioms</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.derive"><summary>derive</summary>
          <ul>
          <li><a href="Corelib.derive.Derive.html">Derive</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.extraction"><summary>extraction</summary>
          <ul>
          <li><a href="Corelib.extraction.ExtrHaskellBasic.html">ExtrHaskellBasic</a></li>
<li><a href="Corelib.extraction.ExtrOcamlBasic.html">ExtrOcamlBasic</a></li>
<li><a href="Corelib.extraction.Extraction.html">Extraction</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.ssr"><summary>ssr</summary>
          <ul>
          <li><a href="Corelib.ssr.ssrbool.html">ssrbool</a></li>
<li><a href="Corelib.ssr.ssrclasses.html">ssrclasses</a></li>
<li><a href="Corelib.ssr.ssreflect.html">ssreflect</a></li>
<li><a href="Corelib.ssr.ssrfun.html">ssrfun</a></li>
<li><a href="Corelib.ssr.ssrsetoid.html">ssrsetoid</a></li>
<li><a href="Corelib.ssr.ssrunder.html">ssrunder</a></li>
          </ul>
          </details>
          </li>
<li><details id="Corelib.ssrmatching"><summary>ssrmatching</summary>
          <ul>
          <li><a href="Corelib.ssrmatching.ssrmatching.html">ssrmatching</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="HB"><summary>HB</summary>
          <ul>
          <li><a href="HB.structures.html">structures</a></li>
          </ul>
          </details>
          </li>
<li><details id="Ltac2"><summary>Ltac2</summary>
          <ul>
          <li><details id="Ltac2.Compat"><summary>Compat</summary>
          <ul>
          <li><a href="Ltac2.Compat.Coq818.html">Coq818</a></li>
<li><a href="Ltac2.Compat.Coq819.html">Coq819</a></li>
          </ul>
          </details>
          </li>
<li><a href="Ltac2.Array.html">Array</a></li>
<li><a href="Ltac2.Bool.html">Bool</a></li>
<li><a href="Ltac2.Char.html">Char</a></li>
<li><a href="Ltac2.Constant.html">Constant</a></li>
<li><a href="Ltac2.Constr.html">Constr</a></li>
<li><a href="Ltac2.Constructor.html">Constructor</a></li>
<li><a href="Ltac2.Control.html">Control</a></li>
<li><a href="Ltac2.Env.html">Env</a></li>
<li><a href="Ltac2.Evar.html">Evar</a></li>
<li><a href="Ltac2.FMap.html">FMap</a></li>
<li><a href="Ltac2.FSet.html">FSet</a></li>
<li><a href="Ltac2.Float.html">Float</a></li>
<li><a href="Ltac2.Fresh.html">Fresh</a></li>
<li><a href="Ltac2.Ident.html">Ident</a></li>
<li><a href="Ltac2.Ind.html">Ind</a></li>
<li><a href="Ltac2.Init.html">Init</a></li>
<li><a href="Ltac2.Int.html">Int</a></li>
<li><a href="Ltac2.Lazy.html">Lazy</a></li>
<li><a href="Ltac2.List.html">List</a></li>
<li><a href="Ltac2.Ltac1.html">Ltac1</a></li>
<li><a href="Ltac2.Ltac2.html">Ltac2</a></li>
<li><a href="Ltac2.Message.html">Message</a></li>
<li><a href="Ltac2.Meta.html">Meta</a></li>
<li><a href="Ltac2.Notations.html">Notations</a></li>
<li><a href="Ltac2.Option.html">Option</a></li>
<li><a href="Ltac2.Pattern.html">Pattern</a></li>
<li><a href="Ltac2.Printf.html">Printf</a></li>
<li><a href="Ltac2.Proj.html">Proj</a></li>
<li><a href="Ltac2.Pstring.html">Pstring</a></li>
<li><a href="Ltac2.RedFlags.html">RedFlags</a></li>
<li><a href="Ltac2.Ref.html">Ref</a></li>
<li><a href="Ltac2.Std.html">Std</a></li>
<li><a href="Ltac2.String.html">String</a></li>
<li><a href="Ltac2.TransparentState.html">TransparentState</a></li>
<li><a href="Ltac2.Uint63.html">Uint63</a></li>
<li><a href="Ltac2.Unification.html">Unification</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib"><summary>Stdlib</summary>
          <ul>
          <li><details id="Stdlib.All"><summary>All</summary>
          <ul>
          <li><a href="Stdlib.All.All.html">All</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Arith"><summary>Arith</summary>
          <ul>
          <li><a href="Stdlib.Arith.Arith.html">Arith</a></li>
<li><a href="Stdlib.Arith.Arith_base.html">Arith_base</a></li>
<li><a href="Stdlib.Arith.Between.html">Between</a></li>
<li><a href="Stdlib.Arith.Bool_nat.html">Bool_nat</a></li>
<li><a href="Stdlib.Arith.Cantor.html">Cantor</a></li>
<li><a href="Stdlib.Arith.Compare.html">Compare</a></li>
<li><a href="Stdlib.Arith.Compare_dec.html">Compare_dec</a></li>
<li><a href="Stdlib.Arith.EqNat.html">EqNat</a></li>
<li><a href="Stdlib.Arith.Euclid.html">Euclid</a></li>
<li><a href="Stdlib.Arith.Factorial.html">Factorial</a></li>
<li><a href="Stdlib.Arith.PeanoNat.html">PeanoNat</a></li>
<li><a href="Stdlib.Arith.Peano_dec.html">Peano_dec</a></li>
<li><a href="Stdlib.Arith.Wf_nat.html">Wf_nat</a></li>
<li><a href="Stdlib.Arith.Zerob.html">Zerob</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Array"><summary>Array</summary>
          <ul>
          <li><a href="Stdlib.Array.ArrayAxioms.html">ArrayAxioms</a></li>
<li><a href="Stdlib.Array.PArray.html">PArray</a></li>
<li><a href="Stdlib.Array.PrimArray.html">PrimArray</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.BinNums"><summary>BinNums</summary>
          <ul>
          <li><a href="Stdlib.BinNums.IntDef.html">IntDef</a></li>
<li><a href="Stdlib.BinNums.NatDef.html">NatDef</a></li>
<li><a href="Stdlib.BinNums.PosDef.html">PosDef</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Bool"><summary>Bool</summary>
          <ul>
          <li><a href="Stdlib.Bool.Bool.html">Bool</a></li>
<li><a href="Stdlib.Bool.BoolEq.html">BoolEq</a></li>
<li><a href="Stdlib.Bool.DecBool.html">DecBool</a></li>
<li><a href="Stdlib.Bool.IfProp.html">IfProp</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Classes"><summary>Classes</summary>
          <ul>
          <li><a href="Stdlib.Classes.CEquivalence.html">CEquivalence</a></li>
<li><a href="Stdlib.Classes.CMorphisms.html">CMorphisms</a></li>
<li><a href="Stdlib.Classes.CRelationClasses.html">CRelationClasses</a></li>
<li><a href="Stdlib.Classes.DecidableClass.html">DecidableClass</a></li>
<li><a href="Stdlib.Classes.EquivDec.html">EquivDec</a></li>
<li><a href="Stdlib.Classes.Equivalence.html">Equivalence</a></li>
<li><a href="Stdlib.Classes.Init.html">Init</a></li>
<li><a href="Stdlib.Classes.Morphisms.html">Morphisms</a></li>
<li><a href="Stdlib.Classes.Morphisms_Prop.html">Morphisms_Prop</a></li>
<li><a href="Stdlib.Classes.Morphisms_Relations.html">Morphisms_Relations</a></li>
<li><a href="Stdlib.Classes.RelationClasses.html">RelationClasses</a></li>
<li><a href="Stdlib.Classes.RelationPairs.html">RelationPairs</a></li>
<li><a href="Stdlib.Classes.SetoidClass.html">SetoidClass</a></li>
<li><a href="Stdlib.Classes.SetoidDec.html">SetoidDec</a></li>
<li><a href="Stdlib.Classes.SetoidTactics.html">SetoidTactics</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Compat"><summary>Compat</summary>
          <ul>
          <li><a href="Stdlib.Compat.AdmitAxiom.html">AdmitAxiom</a></li>
<li><a href="Stdlib.Compat.Coq818.html">Coq818</a></li>
<li><a href="Stdlib.Compat.Coq819.html">Coq819</a></li>
<li><a href="Stdlib.Compat.Coq820.html">Coq820</a></li>
<li><a href="Stdlib.Compat.Stdlib818.html">Stdlib818</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.FSets"><summary>FSets</summary>
          <ul>
          <li><a href="Stdlib.FSets.FMapAVL.html">FMapAVL</a></li>
<li><a href="Stdlib.FSets.FMapFacts.html">FMapFacts</a></li>
<li><a href="Stdlib.FSets.FMapFullAVL.html">FMapFullAVL</a></li>
<li><a href="Stdlib.FSets.FMapInterface.html">FMapInterface</a></li>
<li><a href="Stdlib.FSets.FMapList.html">FMapList</a></li>
<li><a href="Stdlib.FSets.FMapPositive.html">FMapPositive</a></li>
<li><a href="Stdlib.FSets.FMapWeakList.html">FMapWeakList</a></li>
<li><a href="Stdlib.FSets.FMaps.html">FMaps</a></li>
<li><a href="Stdlib.FSets.FSetAVL.html">FSetAVL</a></li>
<li><a href="Stdlib.FSets.FSetBridge.html">FSetBridge</a></li>
<li><a href="Stdlib.FSets.FSetCompat.html">FSetCompat</a></li>
<li><a href="Stdlib.FSets.FSetDecide.html">FSetDecide</a></li>
<li><a href="Stdlib.FSets.FSetEqProperties.html">FSetEqProperties</a></li>
<li><a href="Stdlib.FSets.FSetFacts.html">FSetFacts</a></li>
<li><a href="Stdlib.FSets.FSetInterface.html">FSetInterface</a></li>
<li><a href="Stdlib.FSets.FSetList.html">FSetList</a></li>
<li><a href="Stdlib.FSets.FSetPositive.html">FSetPositive</a></li>
<li><a href="Stdlib.FSets.FSetProperties.html">FSetProperties</a></li>
<li><a href="Stdlib.FSets.FSetToFiniteSet.html">FSetToFiniteSet</a></li>
<li><a href="Stdlib.FSets.FSetWeakList.html">FSetWeakList</a></li>
<li><a href="Stdlib.FSets.FSets.html">FSets</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Floats"><summary>Floats</summary>
          <ul>
          <li><a href="Stdlib.Floats.FloatAxioms.html">FloatAxioms</a></li>
<li><a href="Stdlib.Floats.FloatClass.html">FloatClass</a></li>
<li><a href="Stdlib.Floats.FloatLemmas.html">FloatLemmas</a></li>
<li><a href="Stdlib.Floats.FloatOps.html">FloatOps</a></li>
<li><a href="Stdlib.Floats.Floats.html">Floats</a></li>
<li><a href="Stdlib.Floats.PrimFloat.html">PrimFloat</a></li>
<li><a href="Stdlib.Floats.SpecFloat.html">SpecFloat</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Init"><summary>Init</summary>
          <ul>
          <li><a href="Stdlib.Init.Byte.html">Byte</a></li>
<li><a href="Stdlib.Init.Datatypes.html">Datatypes</a></li>
<li><a href="Stdlib.Init.Decimal.html">Decimal</a></li>
<li><a href="Stdlib.Init.Hexadecimal.html">Hexadecimal</a></li>
<li><a href="Stdlib.Init.Logic.html">Logic</a></li>
<li><a href="Stdlib.Init.Ltac.html">Ltac</a></li>
<li><a href="Stdlib.Init.Nat.html">Nat</a></li>
<li><a href="Stdlib.Init.Notations.html">Notations</a></li>
<li><a href="Stdlib.Init.Number.html">Number</a></li>
<li><a href="Stdlib.Init.Peano.html">Peano</a></li>
<li><a href="Stdlib.Init.Prelude.html">Prelude</a></li>
<li><a href="Stdlib.Init.Specif.html">Specif</a></li>
<li><a href="Stdlib.Init.Sumbool.html">Sumbool</a></li>
<li><a href="Stdlib.Init.Tactics.html">Tactics</a></li>
<li><a href="Stdlib.Init.Tauto.html">Tauto</a></li>
<li><a href="Stdlib.Init.Wf.html">Wf</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Lists"><summary>Lists</summary>
          <ul>
          <li><a href="Stdlib.Lists.List.html">List</a></li>
<li><a href="Stdlib.Lists.ListDec.html">ListDec</a></li>
<li><a href="Stdlib.Lists.ListDef.html">ListDef</a></li>
<li><a href="Stdlib.Lists.ListSet.html">ListSet</a></li>
<li><a href="Stdlib.Lists.ListTactics.html">ListTactics</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Logic"><summary>Logic</summary>
          <ul>
          <li><a href="Stdlib.Logic.Adjointification.html">Adjointification</a></li>
<li><a href="Stdlib.Logic.Berardi.html">Berardi</a></li>
<li><a href="Stdlib.Logic.ChoiceFacts.html">ChoiceFacts</a></li>
<li><a href="Stdlib.Logic.Classical.html">Classical</a></li>
<li><a href="Stdlib.Logic.ClassicalChoice.html">ClassicalChoice</a></li>
<li><a href="Stdlib.Logic.ClassicalDescription.html">ClassicalDescription</a></li>
<li><a href="Stdlib.Logic.ClassicalEpsilon.html">ClassicalEpsilon</a></li>
<li><a href="Stdlib.Logic.ClassicalFacts.html">ClassicalFacts</a></li>
<li><a href="Stdlib.Logic.ClassicalUniqueChoice.html">ClassicalUniqueChoice</a></li>
<li><a href="Stdlib.Logic.Classical_Pred_Type.html">Classical_Pred_Type</a></li>
<li><a href="Stdlib.Logic.Classical_Prop.html">Classical_Prop</a></li>
<li><a href="Stdlib.Logic.ConstructiveEpsilon.html">ConstructiveEpsilon</a></li>
<li><a href="Stdlib.Logic.Decidable.html">Decidable</a></li>
<li><a href="Stdlib.Logic.Description.html">Description</a></li>
<li><a href="Stdlib.Logic.Diaconescu.html">Diaconescu</a></li>
<li><a href="Stdlib.Logic.Epsilon.html">Epsilon</a></li>
<li><a href="Stdlib.Logic.Eqdep.html">Eqdep</a></li>
<li><a href="Stdlib.Logic.EqdepFacts.html">EqdepFacts</a></li>
<li><a href="Stdlib.Logic.Eqdep_dec.html">Eqdep_dec</a></li>
<li><a href="Stdlib.Logic.ExtensionalFunctionRepresentative.html">ExtensionalFunctionRepresentative</a></li>
<li><a href="Stdlib.Logic.ExtensionalityFacts.html">ExtensionalityFacts</a></li>
<li><a href="Stdlib.Logic.FunctionalExtensionality.html">FunctionalExtensionality</a></li>
<li><a href="Stdlib.Logic.HLevels.html">HLevels</a></li>
<li><a href="Stdlib.Logic.Hurkens.html">Hurkens</a></li>
<li><a href="Stdlib.Logic.IndefiniteDescription.html">IndefiniteDescription</a></li>
<li><a href="Stdlib.Logic.JMeq.html">JMeq</a></li>
<li><a href="Stdlib.Logic.ProofIrrelevance.html">ProofIrrelevance</a></li>
<li><a href="Stdlib.Logic.ProofIrrelevanceFacts.html">ProofIrrelevanceFacts</a></li>
<li><a href="Stdlib.Logic.PropExtensionality.html">PropExtensionality</a></li>
<li><a href="Stdlib.Logic.PropExtensionalityFacts.html">PropExtensionalityFacts</a></li>
<li><a href="Stdlib.Logic.PropFacts.html">PropFacts</a></li>
<li><a href="Stdlib.Logic.RelationalChoice.html">RelationalChoice</a></li>
<li><a href="Stdlib.Logic.SetIsType.html">SetIsType</a></li>
<li><a href="Stdlib.Logic.SetoidChoice.html">SetoidChoice</a></li>
<li><a href="Stdlib.Logic.StrictProp.html">StrictProp</a></li>
<li><a href="Stdlib.Logic.WKL.html">WKL</a></li>
<li><a href="Stdlib.Logic.WeakFan.html">WeakFan</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.MSets"><summary>MSets</summary>
          <ul>
          <li><a href="Stdlib.MSets.MSetAVL.html">MSetAVL</a></li>
<li><a href="Stdlib.MSets.MSetDecide.html">MSetDecide</a></li>
<li><a href="Stdlib.MSets.MSetEqProperties.html">MSetEqProperties</a></li>
<li><a href="Stdlib.MSets.MSetFacts.html">MSetFacts</a></li>
<li><a href="Stdlib.MSets.MSetGenTree.html">MSetGenTree</a></li>
<li><a href="Stdlib.MSets.MSetInterface.html">MSetInterface</a></li>
<li><a href="Stdlib.MSets.MSetList.html">MSetList</a></li>
<li><a href="Stdlib.MSets.MSetPositive.html">MSetPositive</a></li>
<li><a href="Stdlib.MSets.MSetProperties.html">MSetProperties</a></li>
<li><a href="Stdlib.MSets.MSetRBT.html">MSetRBT</a></li>
<li><a href="Stdlib.MSets.MSetToFiniteSet.html">MSetToFiniteSet</a></li>
<li><a href="Stdlib.MSets.MSetWeakList.html">MSetWeakList</a></li>
<li><a href="Stdlib.MSets.MSets.html">MSets</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.NArith"><summary>NArith</summary>
          <ul>
          <li><a href="Stdlib.NArith.BinNat.html">BinNat</a></li>
<li><a href="Stdlib.NArith.BinNatDef.html">BinNatDef</a></li>
<li><a href="Stdlib.NArith.NArith.html">NArith</a></li>
<li><a href="Stdlib.NArith.NArith_base.html">NArith_base</a></li>
<li><a href="Stdlib.NArith.Ndec.html">Ndec</a></li>
<li><a href="Stdlib.NArith.Ndiv_def.html">Ndiv_def</a></li>
<li><a href="Stdlib.NArith.Ngcd_def.html">Ngcd_def</a></li>
<li><a href="Stdlib.NArith.Nnat.html">Nnat</a></li>
<li><a href="Stdlib.NArith.Nsqrt_def.html">Nsqrt_def</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers"><summary>Numbers</summary>
          <ul>
          <li><details id="Stdlib.Numbers.Cyclic"><summary>Cyclic</summary>
          <ul>
          <li><details id="Stdlib.Numbers.Cyclic.Abstract"><summary>Abstract</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Cyclic.Abstract.CyclicAxioms.html">CyclicAxioms</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Abstract.DoubleType.html">DoubleType</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Abstract.NZCyclic.html">NZCyclic</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Cyclic.Int63"><summary>Int63</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Cyclic.Int63.CarryType.html">CarryType</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Cyclic63.html">Cyclic63</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.PrimInt63.html">PrimInt63</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Ring63.html">Ring63</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Sint63.html">Sint63</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Sint63Axioms.html">Sint63Axioms</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Uint63.html">Uint63</a></li>
<li><a href="Stdlib.Numbers.Cyclic.Int63.Uint63Axioms.html">Uint63Axioms</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Integer"><summary>Integer</summary>
          <ul>
          <li><details id="Stdlib.Numbers.Integer.Abstract"><summary>Abstract</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Integer.Abstract.ZAdd.html">ZAdd</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZAddOrder.html">ZAddOrder</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZAxioms.html">ZAxioms</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZBase.html">ZBase</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZBits.html">ZBits</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZDivEucl.html">ZDivEucl</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZDivFloor.html">ZDivFloor</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZDivTrunc.html">ZDivTrunc</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZGcd.html">ZGcd</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZLcm.html">ZLcm</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZLt.html">ZLt</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZMaxMin.html">ZMaxMin</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZMul.html">ZMul</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZMulOrder.html">ZMulOrder</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZParity.html">ZParity</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZPow.html">ZPow</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZProperties.html">ZProperties</a></li>
<li><a href="Stdlib.Numbers.Integer.Abstract.ZSgnAbs.html">ZSgnAbs</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Integer.Binary"><summary>Binary</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Integer.Binary.ZBinary.html">ZBinary</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Integer.NatPairs"><summary>NatPairs</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Integer.NatPairs.ZNatPairs.html">ZNatPairs</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.NatInt"><summary>NatInt</summary>
          <ul>
          <li><a href="Stdlib.Numbers.NatInt.NZAdd.html">NZAdd</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZAddOrder.html">NZAddOrder</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZAxioms.html">NZAxioms</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZBase.html">NZBase</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZBits.html">NZBits</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZDiv.html">NZDiv</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZDomain.html">NZDomain</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZGcd.html">NZGcd</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZLog.html">NZLog</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZMul.html">NZMul</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZMulOrder.html">NZMulOrder</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZOrder.html">NZOrder</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZParity.html">NZParity</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZPow.html">NZPow</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZProperties.html">NZProperties</a></li>
<li><a href="Stdlib.Numbers.NatInt.NZSqrt.html">NZSqrt</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Natural"><summary>Natural</summary>
          <ul>
          <li><details id="Stdlib.Numbers.Natural.Abstract"><summary>Abstract</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Natural.Abstract.NAdd.html">NAdd</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NAddOrder.html">NAddOrder</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NAxioms.html">NAxioms</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NBase.html">NBase</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NBits.html">NBits</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NDefOps.html">NDefOps</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NDiv.html">NDiv</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NDiv0.html">NDiv0</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NGcd.html">NGcd</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NIso.html">NIso</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NLcm.html">NLcm</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NLcm0.html">NLcm0</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NLog.html">NLog</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NMaxMin.html">NMaxMin</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NMulOrder.html">NMulOrder</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NOrder.html">NOrder</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NParity.html">NParity</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NPow.html">NPow</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NProperties.html">NProperties</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NSqrt.html">NSqrt</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NStrongRec.html">NStrongRec</a></li>
<li><a href="Stdlib.Numbers.Natural.Abstract.NSub.html">NSub</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Numbers.Natural.Binary"><summary>Binary</summary>
          <ul>
          <li><a href="Stdlib.Numbers.Natural.Binary.NBinary.html">NBinary</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><a href="Stdlib.Numbers.AltBinNotations.html">AltBinNotations</a></li>
<li><a href="Stdlib.Numbers.BinNums.html">BinNums</a></li>
<li><a href="Stdlib.Numbers.DecimalFacts.html">DecimalFacts</a></li>
<li><a href="Stdlib.Numbers.DecimalN.html">DecimalN</a></li>
<li><a href="Stdlib.Numbers.DecimalNat.html">DecimalNat</a></li>
<li><a href="Stdlib.Numbers.DecimalPos.html">DecimalPos</a></li>
<li><a href="Stdlib.Numbers.DecimalQ.html">DecimalQ</a></li>
<li><a href="Stdlib.Numbers.DecimalR.html">DecimalR</a></li>
<li><a href="Stdlib.Numbers.DecimalString.html">DecimalString</a></li>
<li><a href="Stdlib.Numbers.DecimalZ.html">DecimalZ</a></li>
<li><a href="Stdlib.Numbers.HexadecimalFacts.html">HexadecimalFacts</a></li>
<li><a href="Stdlib.Numbers.HexadecimalN.html">HexadecimalN</a></li>
<li><a href="Stdlib.Numbers.HexadecimalNat.html">HexadecimalNat</a></li>
<li><a href="Stdlib.Numbers.HexadecimalPos.html">HexadecimalPos</a></li>
<li><a href="Stdlib.Numbers.HexadecimalQ.html">HexadecimalQ</a></li>
<li><a href="Stdlib.Numbers.HexadecimalR.html">HexadecimalR</a></li>
<li><a href="Stdlib.Numbers.HexadecimalString.html">HexadecimalString</a></li>
<li><a href="Stdlib.Numbers.HexadecimalZ.html">HexadecimalZ</a></li>
<li><a href="Stdlib.Numbers.NaryFunctions.html">NaryFunctions</a></li>
<li><a href="Stdlib.Numbers.NumPrelude.html">NumPrelude</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.PArith"><summary>PArith</summary>
          <ul>
          <li><a href="Stdlib.PArith.BinPos.html">BinPos</a></li>
<li><a href="Stdlib.PArith.BinPosDef.html">BinPosDef</a></li>
<li><a href="Stdlib.PArith.PArith.html">PArith</a></li>
<li><a href="Stdlib.PArith.POrderedType.html">POrderedType</a></li>
<li><a href="Stdlib.PArith.Pnat.html">Pnat</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Program"><summary>Program</summary>
          <ul>
          <li><a href="Stdlib.Program.Basics.html">Basics</a></li>
<li><a href="Stdlib.Program.Combinators.html">Combinators</a></li>
<li><a href="Stdlib.Program.Equality.html">Equality</a></li>
<li><a href="Stdlib.Program.Program.html">Program</a></li>
<li><a href="Stdlib.Program.Subset.html">Subset</a></li>
<li><a href="Stdlib.Program.Syntax.html">Syntax</a></li>
<li><a href="Stdlib.Program.Tactics.html">Tactics</a></li>
<li><a href="Stdlib.Program.Utils.html">Utils</a></li>
<li><a href="Stdlib.Program.Wf.html">Wf</a></li>
<li><a href="Stdlib.Program.WfExtensionality.html">WfExtensionality</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.QArith"><summary>QArith</summary>
          <ul>
          <li><a href="Stdlib.QArith.QArith.html">QArith</a></li>
<li><a href="Stdlib.QArith.QArith_base.html">QArith_base</a></li>
<li><a href="Stdlib.QArith.QOrderedType.html">QOrderedType</a></li>
<li><a href="Stdlib.QArith.Qabs.html">Qabs</a></li>
<li><a href="Stdlib.QArith.Qcabs.html">Qcabs</a></li>
<li><a href="Stdlib.QArith.Qcanon.html">Qcanon</a></li>
<li><a href="Stdlib.QArith.Qfield.html">Qfield</a></li>
<li><a href="Stdlib.QArith.Qminmax.html">Qminmax</a></li>
<li><a href="Stdlib.QArith.Qpower.html">Qpower</a></li>
<li><a href="Stdlib.QArith.Qreduction.html">Qreduction</a></li>
<li><a href="Stdlib.QArith.Qring.html">Qring</a></li>
<li><a href="Stdlib.QArith.Qround.html">Qround</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Reals"><summary>Reals</summary>
          <ul>
          <li><details id="Stdlib.Reals.Abstract"><summary>Abstract</summary>
          <ul>
          <li><a href="Stdlib.Reals.Abstract.ConstructiveAbs.html">ConstructiveAbs</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveLUB.html">ConstructiveLUB</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveLimits.html">ConstructiveLimits</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveMinMax.html">ConstructiveMinMax</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructivePower.html">ConstructivePower</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveReals.html">ConstructiveReals</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveRealsMorphisms.html">ConstructiveRealsMorphisms</a></li>
<li><a href="Stdlib.Reals.Abstract.ConstructiveSum.html">ConstructiveSum</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Reals.Cauchy"><summary>Cauchy</summary>
          <ul>
          <li><a href="Stdlib.Reals.Cauchy.ConstructiveCauchyAbs.html">ConstructiveCauchyAbs</a></li>
<li><a href="Stdlib.Reals.Cauchy.ConstructiveCauchyReals.html">ConstructiveCauchyReals</a></li>
<li><a href="Stdlib.Reals.Cauchy.ConstructiveCauchyRealsMult.html">ConstructiveCauchyRealsMult</a></li>
<li><a href="Stdlib.Reals.Cauchy.ConstructiveExtra.html">ConstructiveExtra</a></li>
<li><a href="Stdlib.Reals.Cauchy.ConstructiveRcomplete.html">ConstructiveRcomplete</a></li>
<li><a href="Stdlib.Reals.Cauchy.PosExtra.html">PosExtra</a></li>
<li><a href="Stdlib.Reals.Cauchy.QExtra.html">QExtra</a></li>
          </ul>
          </details>
          </li>
<li><a href="Stdlib.Reals.Alembert.html">Alembert</a></li>
<li><a href="Stdlib.Reals.AltSeries.html">AltSeries</a></li>
<li><a href="Stdlib.Reals.ArithProp.html">ArithProp</a></li>
<li><a href="Stdlib.Reals.Binomial.html">Binomial</a></li>
<li><a href="Stdlib.Reals.Cauchy_prod.html">Cauchy_prod</a></li>
<li><a href="Stdlib.Reals.ClassicalConstructiveReals.html">ClassicalConstructiveReals</a></li>
<li><a href="Stdlib.Reals.ClassicalDedekindReals.html">ClassicalDedekindReals</a></li>
<li><a href="Stdlib.Reals.Cos_plus.html">Cos_plus</a></li>
<li><a href="Stdlib.Reals.Cos_rel.html">Cos_rel</a></li>
<li><a href="Stdlib.Reals.DiscrR.html">DiscrR</a></li>
<li><a href="Stdlib.Reals.Exp_prop.html">Exp_prop</a></li>
<li><a href="Stdlib.Reals.Integration.html">Integration</a></li>
<li><a href="Stdlib.Reals.MVT.html">MVT</a></li>
<li><a href="Stdlib.Reals.Machin.html">Machin</a></li>
<li><a href="Stdlib.Reals.NewtonInt.html">NewtonInt</a></li>
<li><a href="Stdlib.Reals.Nsatz.html">Nsatz</a></li>
<li><a href="Stdlib.Reals.PSeries_reg.html">PSeries_reg</a></li>
<li><a href="Stdlib.Reals.PartSum.html">PartSum</a></li>
<li><a href="Stdlib.Reals.Qreals.html">Qreals</a></li>
<li><a href="Stdlib.Reals.RIneq.html">RIneq</a></li>
<li><a href="Stdlib.Reals.RList.html">RList</a></li>
<li><a href="Stdlib.Reals.ROrderedType.html">ROrderedType</a></li>
<li><a href="Stdlib.Reals.R_Ifp.html">R_Ifp</a></li>
<li><a href="Stdlib.Reals.R_sqr.html">R_sqr</a></li>
<li><a href="Stdlib.Reals.R_sqrt.html">R_sqrt</a></li>
<li><a href="Stdlib.Reals.Ranalysis.html">Ranalysis</a></li>
<li><a href="Stdlib.Reals.Ranalysis1.html">Ranalysis1</a></li>
<li><a href="Stdlib.Reals.Ranalysis2.html">Ranalysis2</a></li>
<li><a href="Stdlib.Reals.Ranalysis3.html">Ranalysis3</a></li>
<li><a href="Stdlib.Reals.Ranalysis4.html">Ranalysis4</a></li>
<li><a href="Stdlib.Reals.Ranalysis5.html">Ranalysis5</a></li>
<li><a href="Stdlib.Reals.Ranalysis_reg.html">Ranalysis_reg</a></li>
<li><a href="Stdlib.Reals.Ratan.html">Ratan</a></li>
<li><a href="Stdlib.Reals.Raxioms.html">Raxioms</a></li>
<li><a href="Stdlib.Reals.Rbase.html">Rbase</a></li>
<li><a href="Stdlib.Reals.Rbasic_fun.html">Rbasic_fun</a></li>
<li><a href="Stdlib.Reals.Rcomplete.html">Rcomplete</a></li>
<li><a href="Stdlib.Reals.Rdefinitions.html">Rdefinitions</a></li>
<li><a href="Stdlib.Reals.Rderiv.html">Rderiv</a></li>
<li><a href="Stdlib.Reals.Reals.html">Reals</a></li>
<li><a href="Stdlib.Reals.Rfunctions.html">Rfunctions</a></li>
<li><a href="Stdlib.Reals.Rgeom.html">Rgeom</a></li>
<li><a href="Stdlib.Reals.RiemannInt.html">RiemannInt</a></li>
<li><a href="Stdlib.Reals.RiemannInt_SF.html">RiemannInt_SF</a></li>
<li><a href="Stdlib.Reals.Rlimit.html">Rlimit</a></li>
<li><a href="Stdlib.Reals.Rlogic.html">Rlogic</a></li>
<li><a href="Stdlib.Reals.Rminmax.html">Rminmax</a></li>
<li><a href="Stdlib.Reals.Rpow_def.html">Rpow_def</a></li>
<li><a href="Stdlib.Reals.Rpower.html">Rpower</a></li>
<li><a href="Stdlib.Reals.Rprod.html">Rprod</a></li>
<li><a href="Stdlib.Reals.Rregisternames.html">Rregisternames</a></li>
<li><a href="Stdlib.Reals.Rseries.html">Rseries</a></li>
<li><a href="Stdlib.Reals.Rsigma.html">Rsigma</a></li>
<li><a href="Stdlib.Reals.Rsqrt_def.html">Rsqrt_def</a></li>
<li><a href="Stdlib.Reals.Rtopology.html">Rtopology</a></li>
<li><a href="Stdlib.Reals.Rtrigo.html">Rtrigo</a></li>
<li><a href="Stdlib.Reals.Rtrigo1.html">Rtrigo1</a></li>
<li><a href="Stdlib.Reals.Rtrigo_alt.html">Rtrigo_alt</a></li>
<li><a href="Stdlib.Reals.Rtrigo_calc.html">Rtrigo_calc</a></li>
<li><a href="Stdlib.Reals.Rtrigo_def.html">Rtrigo_def</a></li>
<li><a href="Stdlib.Reals.Rtrigo_facts.html">Rtrigo_facts</a></li>
<li><a href="Stdlib.Reals.Rtrigo_fun.html">Rtrigo_fun</a></li>
<li><a href="Stdlib.Reals.Rtrigo_reg.html">Rtrigo_reg</a></li>
<li><a href="Stdlib.Reals.Runcountable.html">Runcountable</a></li>
<li><a href="Stdlib.Reals.SeqProp.html">SeqProp</a></li>
<li><a href="Stdlib.Reals.SeqSeries.html">SeqSeries</a></li>
<li><a href="Stdlib.Reals.SplitAbsolu.html">SplitAbsolu</a></li>
<li><a href="Stdlib.Reals.SplitRmult.html">SplitRmult</a></li>
<li><a href="Stdlib.Reals.Sqrt_reg.html">Sqrt_reg</a></li>
<li><a href="Stdlib.Reals.Zfloor.html">Zfloor</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Relations"><summary>Relations</summary>
          <ul>
          <li><a href="Stdlib.Relations.Operators_Properties.html">Operators_Properties</a></li>
<li><a href="Stdlib.Relations.Relation_Definitions.html">Relation_Definitions</a></li>
<li><a href="Stdlib.Relations.Relation_Operators.html">Relation_Operators</a></li>
<li><a href="Stdlib.Relations.Relations.html">Relations</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Setoids"><summary>Setoids</summary>
          <ul>
          <li><a href="Stdlib.Setoids.Setoid.html">Setoid</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Sets"><summary>Sets</summary>
          <ul>
          <li><a href="Stdlib.Sets.Classical_sets.html">Classical_sets</a></li>
<li><a href="Stdlib.Sets.Constructive_sets.html">Constructive_sets</a></li>
<li><a href="Stdlib.Sets.Cpo.html">Cpo</a></li>
<li><a href="Stdlib.Sets.Ensembles.html">Ensembles</a></li>
<li><a href="Stdlib.Sets.Finite_sets.html">Finite_sets</a></li>
<li><a href="Stdlib.Sets.Finite_sets_facts.html">Finite_sets_facts</a></li>
<li><a href="Stdlib.Sets.Image.html">Image</a></li>
<li><a href="Stdlib.Sets.Infinite_sets.html">Infinite_sets</a></li>
<li><a href="Stdlib.Sets.Integers.html">Integers</a></li>
<li><a href="Stdlib.Sets.Multiset.html">Multiset</a></li>
<li><a href="Stdlib.Sets.Partial_Order.html">Partial_Order</a></li>
<li><a href="Stdlib.Sets.Permut.html">Permut</a></li>
<li><a href="Stdlib.Sets.Powerset.html">Powerset</a></li>
<li><a href="Stdlib.Sets.Powerset_Classical_facts.html">Powerset_Classical_facts</a></li>
<li><a href="Stdlib.Sets.Powerset_facts.html">Powerset_facts</a></li>
<li><a href="Stdlib.Sets.Relations_1.html">Relations_1</a></li>
<li><a href="Stdlib.Sets.Relations_1_facts.html">Relations_1_facts</a></li>
<li><a href="Stdlib.Sets.Relations_2.html">Relations_2</a></li>
<li><a href="Stdlib.Sets.Relations_2_facts.html">Relations_2_facts</a></li>
<li><a href="Stdlib.Sets.Relations_3.html">Relations_3</a></li>
<li><a href="Stdlib.Sets.Relations_3_facts.html">Relations_3_facts</a></li>
<li><a href="Stdlib.Sets.Uniset.html">Uniset</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Sorting"><summary>Sorting</summary>
          <ul>
          <li><a href="Stdlib.Sorting.CPermutation.html">CPermutation</a></li>
<li><a href="Stdlib.Sorting.Heap.html">Heap</a></li>
<li><a href="Stdlib.Sorting.Mergesort.html">Mergesort</a></li>
<li><a href="Stdlib.Sorting.PermutEq.html">PermutEq</a></li>
<li><a href="Stdlib.Sorting.PermutSetoid.html">PermutSetoid</a></li>
<li><a href="Stdlib.Sorting.Permutation.html">Permutation</a></li>
<li><a href="Stdlib.Sorting.SetoidList.html">SetoidList</a></li>
<li><a href="Stdlib.Sorting.SetoidPermutation.html">SetoidPermutation</a></li>
<li><a href="Stdlib.Sorting.Sorted.html">Sorted</a></li>
<li><a href="Stdlib.Sorting.Sorting.html">Sorting</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Streams"><summary>Streams</summary>
          <ul>
          <li><a href="Stdlib.Streams.StreamMemo.html">StreamMemo</a></li>
<li><a href="Stdlib.Streams.Streams.html">Streams</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Strings"><summary>Strings</summary>
          <ul>
          <li><a href="Stdlib.Strings.Ascii.html">Ascii</a></li>
<li><a href="Stdlib.Strings.BinaryString.html">BinaryString</a></li>
<li><a href="Stdlib.Strings.Byte.html">Byte</a></li>
<li><a href="Stdlib.Strings.HexString.html">HexString</a></li>
<li><a href="Stdlib.Strings.OctalString.html">OctalString</a></li>
<li><a href="Stdlib.Strings.PString.html">PString</a></li>
<li><a href="Stdlib.Strings.PrimString.html">PrimString</a></li>
<li><a href="Stdlib.Strings.PrimStringAxioms.html">PrimStringAxioms</a></li>
<li><a href="Stdlib.Strings.String.html">String</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Structures"><summary>Structures</summary>
          <ul>
          <li><a href="Stdlib.Structures.BoolOrder.html">BoolOrder</a></li>
<li><a href="Stdlib.Structures.DecidableType.html">DecidableType</a></li>
<li><a href="Stdlib.Structures.DecidableTypeEx.html">DecidableTypeEx</a></li>
<li><a href="Stdlib.Structures.Equalities.html">Equalities</a></li>
<li><a href="Stdlib.Structures.EqualitiesFacts.html">EqualitiesFacts</a></li>
<li><a href="Stdlib.Structures.GenericMinMax.html">GenericMinMax</a></li>
<li><a href="Stdlib.Structures.OrderedType.html">OrderedType</a></li>
<li><a href="Stdlib.Structures.OrderedTypeAlt.html">OrderedTypeAlt</a></li>
<li><a href="Stdlib.Structures.OrderedTypeEx.html">OrderedTypeEx</a></li>
<li><a href="Stdlib.Structures.Orders.html">Orders</a></li>
<li><a href="Stdlib.Structures.OrdersAlt.html">OrdersAlt</a></li>
<li><a href="Stdlib.Structures.OrdersEx.html">OrdersEx</a></li>
<li><a href="Stdlib.Structures.OrdersFacts.html">OrdersFacts</a></li>
<li><a href="Stdlib.Structures.OrdersLists.html">OrdersLists</a></li>
<li><a href="Stdlib.Structures.OrdersTac.html">OrdersTac</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Unicode"><summary>Unicode</summary>
          <ul>
          <li><a href="Stdlib.Unicode.Utf8.html">Utf8</a></li>
<li><a href="Stdlib.Unicode.Utf8_core.html">Utf8_core</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Vectors"><summary>Vectors</summary>
          <ul>
          <li><a href="Stdlib.Vectors.Bvector.html">Bvector</a></li>
<li><a href="Stdlib.Vectors.Fin.html">Fin</a></li>
<li><a href="Stdlib.Vectors.FinFun.html">FinFun</a></li>
<li><a href="Stdlib.Vectors.Vector.html">Vector</a></li>
<li><a href="Stdlib.Vectors.VectorDef.html">VectorDef</a></li>
<li><a href="Stdlib.Vectors.VectorEq.html">VectorEq</a></li>
<li><a href="Stdlib.Vectors.VectorSpec.html">VectorSpec</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.Wellfounded"><summary>Wellfounded</summary>
          <ul>
          <li><a href="Stdlib.Wellfounded.Disjoint_Union.html">Disjoint_Union</a></li>
<li><a href="Stdlib.Wellfounded.Inclusion.html">Inclusion</a></li>
<li><a href="Stdlib.Wellfounded.Inverse_Image.html">Inverse_Image</a></li>
<li><a href="Stdlib.Wellfounded.Lexicographic_Exponentiation.html">Lexicographic_Exponentiation</a></li>
<li><a href="Stdlib.Wellfounded.Lexicographic_Product.html">Lexicographic_Product</a></li>
<li><a href="Stdlib.Wellfounded.List_Extension.html">List_Extension</a></li>
<li><a href="Stdlib.Wellfounded.Transitive_Closure.html">Transitive_Closure</a></li>
<li><a href="Stdlib.Wellfounded.Union.html">Union</a></li>
<li><a href="Stdlib.Wellfounded.Well_Ordering.html">Well_Ordering</a></li>
<li><a href="Stdlib.Wellfounded.Wellfounded.html">Wellfounded</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.ZArith"><summary>ZArith</summary>
          <ul>
          <li><a href="Stdlib.ZArith.BinInt.html">BinInt</a></li>
<li><a href="Stdlib.ZArith.BinIntDef.html">BinIntDef</a></li>
<li><a href="Stdlib.ZArith.Int.html">Int</a></li>
<li><a href="Stdlib.ZArith.Wf_Z.html">Wf_Z</a></li>
<li><a href="Stdlib.ZArith.ZArith.html">ZArith</a></li>
<li><a href="Stdlib.ZArith.ZArith_base.html">ZArith_base</a></li>
<li><a href="Stdlib.ZArith.ZArith_dec.html">ZArith_dec</a></li>
<li><a href="Stdlib.ZArith.Zabs.html">Zabs</a></li>
<li><a href="Stdlib.ZArith.Zbitwise.html">Zbitwise</a></li>
<li><a href="Stdlib.ZArith.Zbool.html">Zbool</a></li>
<li><a href="Stdlib.ZArith.Zcompare.html">Zcompare</a></li>
<li><a href="Stdlib.ZArith.Zcomplements.html">Zcomplements</a></li>
<li><a href="Stdlib.ZArith.Zdiv.html">Zdiv</a></li>
<li><a href="Stdlib.ZArith.Zdiv_facts.html">Zdiv_facts</a></li>
<li><a href="Stdlib.ZArith.Zeuclid.html">Zeuclid</a></li>
<li><a href="Stdlib.ZArith.Zeven.html">Zeven</a></li>
<li><a href="Stdlib.ZArith.Zgcd_alt.html">Zgcd_alt</a></li>
<li><a href="Stdlib.ZArith.Zhints.html">Zhints</a></li>
<li><a href="Stdlib.ZArith.Zmax.html">Zmax</a></li>
<li><a href="Stdlib.ZArith.Zmin.html">Zmin</a></li>
<li><a href="Stdlib.ZArith.Zminmax.html">Zminmax</a></li>
<li><a href="Stdlib.ZArith.Zmisc.html">Zmisc</a></li>
<li><a href="Stdlib.ZArith.Znat.html">Znat</a></li>
<li><a href="Stdlib.ZArith.Znumtheory.html">Znumtheory</a></li>
<li><a href="Stdlib.ZArith.Zorder.html">Zorder</a></li>
<li><a href="Stdlib.ZArith.Zpow_alt.html">Zpow_alt</a></li>
<li><a href="Stdlib.ZArith.Zpow_def.html">Zpow_def</a></li>
<li><a href="Stdlib.ZArith.Zpow_facts.html">Zpow_facts</a></li>
<li><a href="Stdlib.ZArith.Zpower.html">Zpower</a></li>
<li><a href="Stdlib.ZArith.Zquot.html">Zquot</a></li>
<li><a href="Stdlib.ZArith.Zwf.html">Zwf</a></li>
<li><a href="Stdlib.ZArith.auxiliary.html">auxiliary</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.btauto"><summary>btauto</summary>
          <ul>
          <li><a href="Stdlib.btauto.Algebra.html">Algebra</a></li>
<li><a href="Stdlib.btauto.Btauto.html">Btauto</a></li>
<li><a href="Stdlib.btauto.Reflect.html">Reflect</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.derive"><summary>derive</summary>
          <ul>
          <li><a href="Stdlib.derive.Derive.html">Derive</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.extraction"><summary>extraction</summary>
          <ul>
          <li><a href="Stdlib.extraction.ExtrHaskellBasic.html">ExtrHaskellBasic</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellNatInt.html">ExtrHaskellNatInt</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellNatInteger.html">ExtrHaskellNatInteger</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellNatNum.html">ExtrHaskellNatNum</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellString.html">ExtrHaskellString</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellZInt.html">ExtrHaskellZInt</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellZInteger.html">ExtrHaskellZInteger</a></li>
<li><a href="Stdlib.extraction.ExtrHaskellZNum.html">ExtrHaskellZNum</a></li>
<li><a href="Stdlib.extraction.ExtrOCamlFloats.html">ExtrOCamlFloats</a></li>
<li><a href="Stdlib.extraction.ExtrOCamlInt63.html">ExtrOCamlInt63</a></li>
<li><a href="Stdlib.extraction.ExtrOCamlPArray.html">ExtrOCamlPArray</a></li>
<li><a href="Stdlib.extraction.ExtrOCamlPString.html">ExtrOCamlPString</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlBasic.html">ExtrOcamlBasic</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlChar.html">ExtrOcamlChar</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlIntConv.html">ExtrOcamlIntConv</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlNatBigInt.html">ExtrOcamlNatBigInt</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlNatInt.html">ExtrOcamlNatInt</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlNativeString.html">ExtrOcamlNativeString</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlString.html">ExtrOcamlString</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlZBigInt.html">ExtrOcamlZBigInt</a></li>
<li><a href="Stdlib.extraction.ExtrOcamlZInt.html">ExtrOcamlZInt</a></li>
<li><a href="Stdlib.extraction.Extraction.html">Extraction</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.funind"><summary>funind</summary>
          <ul>
          <li><a href="Stdlib.funind.FunInd.html">FunInd</a></li>
<li><a href="Stdlib.funind.Recdef.html">Recdef</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.micromega"><summary>micromega</summary>
          <ul>
          <li><a href="Stdlib.micromega.DeclConstant.html">DeclConstant</a></li>
<li><a href="Stdlib.micromega.DeclConstantZ.html">DeclConstantZ</a></li>
<li><a href="Stdlib.micromega.Env.html">Env</a></li>
<li><a href="Stdlib.micromega.EnvRing.html">EnvRing</a></li>
<li><a href="Stdlib.micromega.Fourier.html">Fourier</a></li>
<li><a href="Stdlib.micromega.Fourier_util.html">Fourier_util</a></li>
<li><a href="Stdlib.micromega.Lia.html">Lia</a></li>
<li><a href="Stdlib.micromega.Lqa.html">Lqa</a></li>
<li><a href="Stdlib.micromega.Lra.html">Lra</a></li>
<li><a href="Stdlib.micromega.OrderedRing.html">OrderedRing</a></li>
<li><a href="Stdlib.micromega.Psatz.html">Psatz</a></li>
<li><a href="Stdlib.micromega.QMicromega.html">QMicromega</a></li>
<li><a href="Stdlib.micromega.RMicromega.html">RMicromega</a></li>
<li><a href="Stdlib.micromega.Refl.html">Refl</a></li>
<li><a href="Stdlib.micromega.RingMicromega.html">RingMicromega</a></li>
<li><a href="Stdlib.micromega.Tauto.html">Tauto</a></li>
<li><a href="Stdlib.micromega.VarMap.html">VarMap</a></li>
<li><a href="Stdlib.micromega.ZArith_hints.html">ZArith_hints</a></li>
<li><a href="Stdlib.micromega.ZCoeff.html">ZCoeff</a></li>
<li><a href="Stdlib.micromega.ZMicromega.html">ZMicromega</a></li>
<li><a href="Stdlib.micromega.Zify.html">Zify</a></li>
<li><a href="Stdlib.micromega.ZifyBool.html">ZifyBool</a></li>
<li><a href="Stdlib.micromega.ZifyClasses.html">ZifyClasses</a></li>
<li><a href="Stdlib.micromega.ZifyComparison.html">ZifyComparison</a></li>
<li><a href="Stdlib.micromega.ZifyInst.html">ZifyInst</a></li>
<li><a href="Stdlib.micromega.ZifyN.html">ZifyN</a></li>
<li><a href="Stdlib.micromega.ZifyNat.html">ZifyNat</a></li>
<li><a href="Stdlib.micromega.ZifyPow.html">ZifyPow</a></li>
<li><a href="Stdlib.micromega.ZifySint63.html">ZifySint63</a></li>
<li><a href="Stdlib.micromega.ZifyUint63.html">ZifyUint63</a></li>
<li><a href="Stdlib.micromega.Ztac.html">Ztac</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.nsatz"><summary>nsatz</summary>
          <ul>
          <li><a href="Stdlib.nsatz.NsatzTactic.html">NsatzTactic</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.omega"><summary>omega</summary>
          <ul>
          <li><a href="Stdlib.omega.OmegaLemmas.html">OmegaLemmas</a></li>
<li><a href="Stdlib.omega.PreOmega.html">PreOmega</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.rtauto"><summary>rtauto</summary>
          <ul>
          <li><a href="Stdlib.rtauto.Bintree.html">Bintree</a></li>
<li><a href="Stdlib.rtauto.Rtauto.html">Rtauto</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.setoid_ring"><summary>setoid_ring</summary>
          <ul>
          <li><a href="Stdlib.setoid_ring.Algebra_syntax.html">Algebra_syntax</a></li>
<li><a href="Stdlib.setoid_ring.ArithRing.html">ArithRing</a></li>
<li><a href="Stdlib.setoid_ring.BinList.html">BinList</a></li>
<li><a href="Stdlib.setoid_ring.Cring.html">Cring</a></li>
<li><a href="Stdlib.setoid_ring.Field.html">Field</a></li>
<li><a href="Stdlib.setoid_ring.Field_tac.html">Field_tac</a></li>
<li><a href="Stdlib.setoid_ring.Field_theory.html">Field_theory</a></li>
<li><a href="Stdlib.setoid_ring.InitialRing.html">InitialRing</a></li>
<li><a href="Stdlib.setoid_ring.Integral_domain.html">Integral_domain</a></li>
<li><a href="Stdlib.setoid_ring.NArithRing.html">NArithRing</a></li>
<li><a href="Stdlib.setoid_ring.Ncring.html">Ncring</a></li>
<li><a href="Stdlib.setoid_ring.Ncring_initial.html">Ncring_initial</a></li>
<li><a href="Stdlib.setoid_ring.Ncring_polynom.html">Ncring_polynom</a></li>
<li><a href="Stdlib.setoid_ring.Ncring_tac.html">Ncring_tac</a></li>
<li><a href="Stdlib.setoid_ring.RealField.html">RealField</a></li>
<li><a href="Stdlib.setoid_ring.Ring.html">Ring</a></li>
<li><a href="Stdlib.setoid_ring.Ring_base.html">Ring_base</a></li>
<li><a href="Stdlib.setoid_ring.Ring_polynom.html">Ring_polynom</a></li>
<li><a href="Stdlib.setoid_ring.Ring_tac.html">Ring_tac</a></li>
<li><a href="Stdlib.setoid_ring.Ring_theory.html">Ring_theory</a></li>
<li><a href="Stdlib.setoid_ring.Rings_Q.html">Rings_Q</a></li>
<li><a href="Stdlib.setoid_ring.Rings_R.html">Rings_R</a></li>
<li><a href="Stdlib.setoid_ring.Rings_Z.html">Rings_Z</a></li>
<li><a href="Stdlib.setoid_ring.ZArithRing.html">ZArithRing</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.ssr"><summary>ssr</summary>
          <ul>
          <li><a href="Stdlib.ssr.ssrbool.html">ssrbool</a></li>
<li><a href="Stdlib.ssr.ssrclasses.html">ssrclasses</a></li>
<li><a href="Stdlib.ssr.ssreflect.html">ssreflect</a></li>
<li><a href="Stdlib.ssr.ssrfun.html">ssrfun</a></li>
<li><a href="Stdlib.ssr.ssrsetoid.html">ssrsetoid</a></li>
<li><a href="Stdlib.ssr.ssrunder.html">ssrunder</a></li>
          </ul>
          </details>
          </li>
<li><details id="Stdlib.ssrmatching"><summary>ssrmatching</summary>
          <ul>
          <li><a href="Stdlib.ssrmatching.ssrmatching.html">ssrmatching</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="elpi"><summary>elpi</summary>
          <ul>
          <li><details id="elpi.apps"><summary>apps</summary>
          <ul>
          <li><details id="elpi.apps.NES"><summary>NES</summary>
          <ul>
          <li><details id="elpi.apps.NES.elpi"><summary>elpi</summary>
          <ul>
          <li><a href="elpi.apps.NES.elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.apps.NES.NES.html">NES</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.coercion"><summary>coercion</summary>
          <ul>
          <li><a href="elpi.apps.coercion.coercion.html">coercion</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.cs"><summary>cs</summary>
          <ul>
          <li><a href="elpi.apps.cs.cs.html">cs</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.derive"><summary>derive</summary>
          <ul>
          <li><details id="elpi.apps.derive.derive"><summary>derive</summary>
          <ul>
          <li><a href="elpi.apps.derive.derive.EqdepFacts.html">EqdepFacts</a></li>
<li><a href="elpi.apps.derive.derive.bcongr.html">bcongr</a></li>
<li><a href="elpi.apps.derive.derive.cast.html">cast</a></li>
<li><a href="elpi.apps.derive.derive.eq.html">eq</a></li>
<li><a href="elpi.apps.derive.derive.eqK.html">eqK</a></li>
<li><a href="elpi.apps.derive.derive.eqOK.html">eqOK</a></li>
<li><a href="elpi.apps.derive.derive.eqType_ast.html">eqType_ast</a></li>
<li><a href="elpi.apps.derive.derive.eqb.html">eqb</a></li>
<li><a href="elpi.apps.derive.derive.eqbOK.html">eqbOK</a></li>
<li><a href="elpi.apps.derive.derive.eqb_core_defs.html">eqb_core_defs</a></li>
<li><a href="elpi.apps.derive.derive.eqbcorrect.html">eqbcorrect</a></li>
<li><a href="elpi.apps.derive.derive.eqcorrect.html">eqcorrect</a></li>
<li><a href="elpi.apps.derive.derive.experimental.html">experimental</a></li>
<li><a href="elpi.apps.derive.derive.fields.html">fields</a></li>
<li><a href="elpi.apps.derive.derive.idx2inv.html">idx2inv</a></li>
<li><a href="elpi.apps.derive.derive.induction.html">induction</a></li>
<li><a href="elpi.apps.derive.derive.invert.html">invert</a></li>
<li><a href="elpi.apps.derive.derive.isK.html">isK</a></li>
<li><a href="elpi.apps.derive.derive.legacy.html">legacy</a></li>
<li><a href="elpi.apps.derive.derive.lens.html">lens</a></li>
<li><a href="elpi.apps.derive.derive.lens_laws.html">lens_laws</a></li>
<li><a href="elpi.apps.derive.derive.map.html">map</a></li>
<li><a href="elpi.apps.derive.derive.param1.html">param1</a></li>
<li><a href="elpi.apps.derive.derive.param1_congr.html">param1_congr</a></li>
<li><a href="elpi.apps.derive.derive.param1_functor.html">param1_functor</a></li>
<li><a href="elpi.apps.derive.derive.param1_trivial.html">param1_trivial</a></li>
<li><a href="elpi.apps.derive.derive.param2.html">param2</a></li>
<li><a href="elpi.apps.derive.derive.projK.html">projK</a></li>
<li><a href="elpi.apps.derive.derive.std.html">std</a></li>
<li><a href="elpi.apps.derive.derive.tag.html">tag</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.derive.elpi"><summary>elpi</summary>
          <ul>
          <li><a href="elpi.apps.derive.elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.apps.derive.derive.html">derive</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.eltac"><summary>eltac</summary>
          <ul>
          <li><a href="elpi.apps.eltac.apply.html">apply</a></li>
<li><a href="elpi.apps.eltac.assumption.html">assumption</a></li>
<li><a href="elpi.apps.eltac.case.html">case</a></li>
<li><a href="elpi.apps.eltac.clear.html">clear</a></li>
<li><a href="elpi.apps.eltac.constructor.html">constructor</a></li>
<li><a href="elpi.apps.eltac.cycle.html">cycle</a></li>
<li><a href="elpi.apps.eltac.discriminate.html">discriminate</a></li>
<li><a href="elpi.apps.eltac.fail.html">fail</a></li>
<li><a href="elpi.apps.eltac.generalize.html">generalize</a></li>
<li><a href="elpi.apps.eltac.injection.html">injection</a></li>
<li><a href="elpi.apps.eltac.intro.html">intro</a></li>
<li><a href="elpi.apps.eltac.rewrite.html">rewrite</a></li>
<li><a href="elpi.apps.eltac.tactics.html">tactics</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.locker"><summary>locker</summary>
          <ul>
          <li><details id="elpi.apps.locker.elpi"><summary>elpi</summary>
          <ul>
          <li><a href="elpi.apps.locker.elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.apps.locker.locker.html">locker</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.rbuild"><summary>rbuild</summary>
          <ul>
          <li><details id="elpi.apps.rbuild.elpi"><summary>elpi</summary>
          <ul>
          <li><a href="elpi.apps.rbuild.elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.apps.rbuild.rbuild.html">rbuild</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi.apps.tc"><summary>tc</summary>
          <ul>
          <li><details id="elpi.apps.tc.elpi"><summary>elpi</summary>
          <ul>
          <li><a href="elpi.apps.tc.elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.apps.tc.add_commands.html">add_commands</a></li>
<li><a href="elpi.apps.tc.db.html">db</a></li>
<li><a href="elpi.apps.tc.tc.html">tc</a></li>
<li><a href="elpi.apps.tc.wip.html">wip</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
<li><details id="elpi.core"><summary>core</summary>
          <ul>
          <li><a href="elpi.core.Bool.html">Bool</a></li>
<li><a href="elpi.core.ListDef.html">ListDef</a></li>
<li><a href="elpi.core.Morphisms.html">Morphisms</a></li>
<li><a href="elpi.core.PosDef.html">PosDef</a></li>
<li><a href="elpi.core.PrimFloat.html">PrimFloat</a></li>
<li><a href="elpi.core.PrimInt63.html">PrimInt63</a></li>
<li><a href="elpi.core.PrimString.html">PrimString</a></li>
<li><a href="elpi.core.PrimStringAxioms.html">PrimStringAxioms</a></li>
<li><a href="elpi.core.RelationClasses.html">RelationClasses</a></li>
<li><a href="elpi.core.Setoid.html">Setoid</a></li>
<li><a href="elpi.core.Uint63Axioms.html">Uint63Axioms</a></li>
<li><a href="elpi.core.ssrbool.html">ssrbool</a></li>
<li><a href="elpi.core.ssreflect.html">ssreflect</a></li>
<li><a href="elpi.core.ssrfun.html">ssrfun</a></li>
          </ul>
          </details>
          </li>
<li><a href="elpi.elpi.html">elpi</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi_elpi"><summary>elpi_elpi</summary>
          <ul>
          <li><a href="elpi_elpi.dummy.html">dummy</a></li>
          </ul>
          </details>
          </li>
<li><details id="elpi_examples"><summary>elpi_examples</summary>
          <ul>
          <li><a href="elpi_examples.example_abs_evars.html">example_abs_evars</a></li>
<li><a href="elpi_examples.example_curry_howard_tactics.html">example_curry_howard_tactics</a></li>
<li><a href="elpi_examples.example_data_base.html">example_data_base</a></li>
<li><a href="elpi_examples.example_fuzzer.html">example_fuzzer</a></li>
<li><a href="elpi_examples.example_generalize.html">example_generalize</a></li>
<li><a href="elpi_examples.example_import_projections.html">example_import_projections</a></li>
<li><a href="elpi_examples.example_record_expansion.html">example_record_expansion</a></li>
<li><a href="elpi_examples.example_record_to_sigma.html">example_record_to_sigma</a></li>
<li><a href="elpi_examples.example_reduction_surgery.html">example_reduction_surgery</a></li>
<li><a href="elpi_examples.tutorial_coq_elpi_HOAS.html">tutorial_coq_elpi_HOAS</a></li>
<li><a href="elpi_examples.tutorial_coq_elpi_command.html">tutorial_coq_elpi_command</a></li>
<li><a href="elpi_examples.tutorial_coq_elpi_tactic.html">tutorial_coq_elpi_tactic</a></li>
<li><a href="elpi_examples.tutorial_elpi_lang.html">tutorial_elpi_lang</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp"><summary>mathcomp</summary>
          <ul>
          <li><details id="mathcomp.algebra"><summary>algebra</summary>
          <ul>
          <li><a href="mathcomp.algebra.all_algebra.html">all_algebra</a></li>
<li><a href="mathcomp.algebra.archimedean.html">archimedean</a></li>
<li><a href="mathcomp.algebra.countalg.html">countalg</a></li>
<li><a href="mathcomp.algebra.finalg.html">finalg</a></li>
<li><a href="mathcomp.algebra.fraction.html">fraction</a></li>
<li><a href="mathcomp.algebra.intdiv.html">intdiv</a></li>
<li><a href="mathcomp.algebra.interval.html">interval</a></li>
<li><a href="mathcomp.algebra.interval_inference.html">interval_inference</a></li>
<li><a href="mathcomp.algebra.matrix.html">matrix</a></li>
<li><a href="mathcomp.algebra.mxalgebra.html">mxalgebra</a></li>
<li><a href="mathcomp.algebra.mxpoly.html">mxpoly</a></li>
<li><a href="mathcomp.algebra.mxred.html">mxred</a></li>
<li><a href="mathcomp.algebra.poly.html">poly</a></li>
<li><a href="mathcomp.algebra.polyXY.html">polyXY</a></li>
<li><a href="mathcomp.algebra.polydiv.html">polydiv</a></li>
<li><a href="mathcomp.algebra.qpoly.html">qpoly</a></li>
<li><a href="mathcomp.algebra.rat.html">rat</a></li>
<li><a href="mathcomp.algebra.ring_quotient.html">ring_quotient</a></li>
<li><a href="mathcomp.algebra.sesquilinear.html">sesquilinear</a></li>
<li><a href="mathcomp.algebra.spectral.html">spectral</a></li>
<li><a href="mathcomp.algebra.ssralg.html">ssralg</a></li>
<li><a href="mathcomp.algebra.ssrint.html">ssrint</a></li>
<li><a href="mathcomp.algebra.ssrnum.html">ssrnum</a></li>
<li><a href="mathcomp.algebra.vector.html">vector</a></li>
<li><a href="mathcomp.algebra.zmodp.html">zmodp</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis"><summary>analysis</summary>
          <ul>
          <li><details id="mathcomp.analysis.homotopy_theory"><summary>homotopy_theory</summary>
          <ul>
          <li><a href="mathcomp.analysis.homotopy_theory.continuous_path.html">continuous_path</a></li>
<li><a href="mathcomp.analysis.homotopy_theory.homotopy.html">homotopy</a></li>
<li><a href="mathcomp.analysis.homotopy_theory.wedge_sigT.html">wedge_sigT</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis.lebesgue_integral_theory"><summary>lebesgue_integral_theory</summary>
          <ul>
          <li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_Rintegral.html">lebesgue_Rintegral</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integrable.html">lebesgue_integrable</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral.html">lebesgue_integral</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_definition.html">lebesgue_integral_definition</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_differentiation.html">lebesgue_integral_differentiation</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_dominated_convergence.html">lebesgue_integral_dominated_convergence</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_fubini.html">lebesgue_integral_fubini</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_monotone_convergence.html">lebesgue_integral_monotone_convergence</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_nonneg.html">lebesgue_integral_nonneg</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.lebesgue_integral_under.html">lebesgue_integral_under</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.measurable_fun_approximation.html">measurable_fun_approximation</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral_theory.simple_functions.html">simple_functions</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis.measure_theory"><summary>measure_theory</summary>
          <ul>
          <li><a href="mathcomp.analysis.measure_theory.counting_measure.html">counting_measure</a></li>
<li><a href="mathcomp.analysis.measure_theory.dirac_measure.html">dirac_measure</a></li>
<li><a href="mathcomp.analysis.measure_theory.measurable_function.html">measurable_function</a></li>
<li><a href="mathcomp.analysis.measure_theory.measurable_structure.html">measurable_structure</a></li>
<li><a href="mathcomp.analysis.measure_theory.measure.html">measure</a></li>
<li><a href="mathcomp.analysis.measure_theory.measure_extension.html">measure_extension</a></li>
<li><a href="mathcomp.analysis.measure_theory.measure_function.html">measure_function</a></li>
<li><a href="mathcomp.analysis.measure_theory.measure_negligible.html">measure_negligible</a></li>
<li><a href="mathcomp.analysis.measure_theory.probability_measure.html">probability_measure</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis.normedtype_theory"><summary>normedtype_theory</summary>
          <ul>
          <li><a href="mathcomp.analysis.normedtype_theory.complete_normed_module.html">complete_normed_module</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.ereal_normedtype.html">ereal_normedtype</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.matrix_normedtype.html">matrix_normedtype</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.normed_module.html">normed_module</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.normedtype.html">normedtype</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.num_normedtype.html">num_normedtype</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.pseudometric_normed_Zmodule.html">pseudometric_normed_Zmodule</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.urysohn.html">urysohn</a></li>
<li><a href="mathcomp.analysis.normedtype_theory.vitali_lemma.html">vitali_lemma</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis.showcase"><summary>showcase</summary>
          <ul>
          <li><a href="mathcomp.analysis.showcase.pnt.html">pnt</a></li>
<li><a href="mathcomp.analysis.showcase.summability.html">summability</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis.topology_theory"><summary>topology_theory</summary>
          <ul>
          <li><a href="mathcomp.analysis.topology_theory.bool_topology.html">bool_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.compact.html">compact</a></li>
<li><a href="mathcomp.analysis.topology_theory.connected.html">connected</a></li>
<li><a href="mathcomp.analysis.topology_theory.discrete_topology.html">discrete_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.matrix_topology.html">matrix_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.nat_topology.html">nat_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.num_topology.html">num_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.one_point_compactification.html">one_point_compactification</a></li>
<li><a href="mathcomp.analysis.topology_theory.order_topology.html">order_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.product_topology.html">product_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.pseudometric_structure.html">pseudometric_structure</a></li>
<li><a href="mathcomp.analysis.topology_theory.quotient_topology.html">quotient_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.separation_axioms.html">separation_axioms</a></li>
<li><a href="mathcomp.analysis.topology_theory.sigT_topology.html">sigT_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.subspace_topology.html">subspace_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.subtype_topology.html">subtype_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.supremum_topology.html">supremum_topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.topology.html">topology</a></li>
<li><a href="mathcomp.analysis.topology_theory.topology_structure.html">topology_structure</a></li>
<li><a href="mathcomp.analysis.topology_theory.uniform_structure.html">uniform_structure</a></li>
<li><a href="mathcomp.analysis.topology_theory.weak_topology.html">weak_topology</a></li>
          </ul>
          </details>
          </li>
<li><a href="mathcomp.analysis.all_analysis.html">all_analysis</a></li>
<li><a href="mathcomp.analysis.borel_hierarchy.html">borel_hierarchy</a></li>
<li><a href="mathcomp.analysis.cantor.html">cantor</a></li>
<li><a href="mathcomp.analysis.charge.html">charge</a></li>
<li><a href="mathcomp.analysis.convex.html">convex</a></li>
<li><a href="mathcomp.analysis.derive.html">derive</a></li>
<li><a href="mathcomp.analysis.ereal.html">ereal</a></li>
<li><a href="mathcomp.analysis.ess_sup_inf.html">ess_sup_inf</a></li>
<li><a href="mathcomp.analysis.esum.html">esum</a></li>
<li><a href="mathcomp.analysis.exp.html">exp</a></li>
<li><a href="mathcomp.analysis.ftc.html">ftc</a></li>
<li><a href="mathcomp.analysis.function_spaces.html">function_spaces</a></li>
<li><a href="mathcomp.analysis.gauss_integral.html">gauss_integral</a></li>
<li><a href="mathcomp.analysis.hoelder.html">hoelder</a></li>
<li><a href="mathcomp.analysis.kernel.html">kernel</a></li>
<li><a href="mathcomp.analysis.landau.html">landau</a></li>
<li><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></li>
<li><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></li>
<li><a href="mathcomp.analysis.measurable_realfun.html">measurable_realfun</a></li>
<li><a href="mathcomp.analysis.numfun.html">numfun</a></li>
<li><a href="mathcomp.analysis.pi_irrational.html">pi_irrational</a></li>
<li><a href="mathcomp.analysis.probability.html">probability</a></li>
<li><a href="mathcomp.analysis.realfun.html">realfun</a></li>
<li><a href="mathcomp.analysis.sequences.html">sequences</a></li>
<li><a href="mathcomp.analysis.trigo.html">trigo</a></li>
<li><a href="mathcomp.analysis.tvs.html">tvs</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.analysis_stdlib"><summary>analysis_stdlib</summary>
          <ul>
          <li><details id="mathcomp.analysis_stdlib.showcase"><summary>showcase</summary>
          <ul>
          <li><a href="mathcomp.analysis_stdlib.showcase.uniform_bigO.html">uniform_bigO</a></li>
          </ul>
          </details>
          </li>
<li><a href="mathcomp.analysis_stdlib.Rstruct_topology.html">Rstruct_topology</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.bigenough"><summary>bigenough</summary>
          <ul>
          <li><a href="mathcomp.bigenough.bigenough.html">bigenough</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.classical"><summary>classical</summary>
          <ul>
          <li><a href="mathcomp.classical.all_classical.html">all_classical</a></li>
<li><a href="mathcomp.classical.boolp.html">boolp</a></li>
<li><a href="mathcomp.classical.cardinality.html">cardinality</a></li>
<li><a href="mathcomp.classical.classical_orders.html">classical_orders</a></li>
<li><a href="mathcomp.classical.classical_sets.html">classical_sets</a></li>
<li><a href="mathcomp.classical.contra.html">contra</a></li>
<li><a href="mathcomp.classical.filter.html">filter</a></li>
<li><a href="mathcomp.classical.fsbigop.html">fsbigop</a></li>
<li><a href="mathcomp.classical.functions.html">functions</a></li>
<li><a href="mathcomp.classical.internal_Eqdep_dec.html">internal_Eqdep_dec</a></li>
<li><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></li>
<li><a href="mathcomp.classical.set_interval.html">set_interval</a></li>
<li><a href="mathcomp.classical.unstable.html">unstable</a></li>
<li><a href="mathcomp.classical.wochoice.html">wochoice</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.experimental_reals"><summary>experimental_reals</summary>
          <ul>
          <li><a href="mathcomp.experimental_reals.discrete.html">discrete</a></li>
<li><a href="mathcomp.experimental_reals.distr.html">distr</a></li>
<li><a href="mathcomp.experimental_reals.realseq.html">realseq</a></li>
<li><a href="mathcomp.experimental_reals.realsum.html">realsum</a></li>
<li><a href="mathcomp.experimental_reals.xfinmap.html">xfinmap</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.field"><summary>field</summary>
          <ul>
          <li><a href="mathcomp.field.algC.html">algC</a></li>
<li><a href="mathcomp.field.algebraics_fundamentals.html">algebraics_fundamentals</a></li>
<li><a href="mathcomp.field.algnum.html">algnum</a></li>
<li><a href="mathcomp.field.all_field.html">all_field</a></li>
<li><a href="mathcomp.field.closed_field.html">closed_field</a></li>
<li><a href="mathcomp.field.cyclotomic.html">cyclotomic</a></li>
<li><a href="mathcomp.field.falgebra.html">falgebra</a></li>
<li><a href="mathcomp.field.fieldext.html">fieldext</a></li>
<li><a href="mathcomp.field.finfield.html">finfield</a></li>
<li><a href="mathcomp.field.galois.html">galois</a></li>
<li><a href="mathcomp.field.qfpoly.html">qfpoly</a></li>
<li><a href="mathcomp.field.separable.html">separable</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.fingroup"><summary>fingroup</summary>
          <ul>
          <li><a href="mathcomp.fingroup.action.html">action</a></li>
<li><a href="mathcomp.fingroup.all_fingroup.html">all_fingroup</a></li>
<li><a href="mathcomp.fingroup.automorphism.html">automorphism</a></li>
<li><a href="mathcomp.fingroup.fingroup.html">fingroup</a></li>
<li><a href="mathcomp.fingroup.gproduct.html">gproduct</a></li>
<li><a href="mathcomp.fingroup.morphism.html">morphism</a></li>
<li><a href="mathcomp.fingroup.perm.html">perm</a></li>
<li><a href="mathcomp.fingroup.presentation.html">presentation</a></li>
<li><a href="mathcomp.fingroup.quotient.html">quotient</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.finmap"><summary>finmap</summary>
          <ul>
          <li><a href="mathcomp.finmap.finmap.html">finmap</a></li>
<li><a href="mathcomp.finmap.multiset.html">multiset</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.reals"><summary>reals</summary>
          <ul>
          <li><a href="mathcomp.reals.all_reals.html">all_reals</a></li>
<li><a href="mathcomp.reals.constructive_ereal.html">constructive_ereal</a></li>
<li><a href="mathcomp.reals.prodnormedzmodule.html">prodnormedzmodule</a></li>
<li><a href="mathcomp.reals.real_interval.html">real_interval</a></li>
<li><a href="mathcomp.reals.reals.html">reals</a></li>
<li><a href="mathcomp.reals.signed.html">signed</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.reals_stdlib"><summary>reals_stdlib</summary>
          <ul>
          <li><a href="mathcomp.reals_stdlib.Rstruct.html">Rstruct</a></li>
<li><a href="mathcomp.reals_stdlib.nsatz_realtype.html">nsatz_realtype</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.solvable"><summary>solvable</summary>
          <ul>
          <li><a href="mathcomp.solvable.abelian.html">abelian</a></li>
<li><a href="mathcomp.solvable.all_solvable.html">all_solvable</a></li>
<li><a href="mathcomp.solvable.alt.html">alt</a></li>
<li><a href="mathcomp.solvable.burnside_app.html">burnside_app</a></li>
<li><a href="mathcomp.solvable.center.html">center</a></li>
<li><a href="mathcomp.solvable.commutator.html">commutator</a></li>
<li><a href="mathcomp.solvable.cyclic.html">cyclic</a></li>
<li><a href="mathcomp.solvable.extraspecial.html">extraspecial</a></li>
<li><a href="mathcomp.solvable.extremal.html">extremal</a></li>
<li><a href="mathcomp.solvable.finmodule.html">finmodule</a></li>
<li><a href="mathcomp.solvable.frobenius.html">frobenius</a></li>
<li><a href="mathcomp.solvable.gfunctor.html">gfunctor</a></li>
<li><a href="mathcomp.solvable.gseries.html">gseries</a></li>
<li><a href="mathcomp.solvable.hall.html">hall</a></li>
<li><a href="mathcomp.solvable.jordanholder.html">jordanholder</a></li>
<li><a href="mathcomp.solvable.maximal.html">maximal</a></li>
<li><a href="mathcomp.solvable.nilpotent.html">nilpotent</a></li>
<li><a href="mathcomp.solvable.pgroup.html">pgroup</a></li>
<li><a href="mathcomp.solvable.primitive_action.html">primitive_action</a></li>
<li><a href="mathcomp.solvable.sylow.html">sylow</a></li>
          </ul>
          </details>
          </li>
<li><details id="mathcomp.ssreflect"><summary>ssreflect</summary>
          <ul>
          <li><a href="mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></li>
<li><a href="mathcomp.ssreflect.bigop.html">bigop</a></li>
<li><a href="mathcomp.ssreflect.binomial.html">binomial</a></li>
<li><a href="mathcomp.ssreflect.choice.html">choice</a></li>
<li><a href="mathcomp.ssreflect.div.html">div</a></li>
<li><a href="mathcomp.ssreflect.eqtype.html">eqtype</a></li>
<li><a href="mathcomp.ssreflect.finfun.html">finfun</a></li>
<li><a href="mathcomp.ssreflect.fingraph.html">fingraph</a></li>
<li><a href="mathcomp.ssreflect.finset.html">finset</a></li>
<li><a href="mathcomp.ssreflect.fintype.html">fintype</a></li>
<li><a href="mathcomp.ssreflect.generic_quotient.html">generic_quotient</a></li>
<li><a href="mathcomp.ssreflect.order.html">order</a></li>
<li><a href="mathcomp.ssreflect.path.html">path</a></li>
<li><a href="mathcomp.ssreflect.prime.html">prime</a></li>
<li><a href="mathcomp.ssreflect.seq.html">seq</a></li>
<li><a href="mathcomp.ssreflect.ssrAC.html">ssrAC</a></li>
<li><a href="mathcomp.ssreflect.ssrbool.html">ssrbool</a></li>
<li><a href="mathcomp.ssreflect.ssreflect.html">ssreflect</a></li>
<li><a href="mathcomp.ssreflect.ssrfun.html">ssrfun</a></li>
<li><a href="mathcomp.ssreflect.ssrmatching.html">ssrmatching</a></li>
<li><a href="mathcomp.ssreflect.ssrnat.html">ssrnat</a></li>
<li><a href="mathcomp.ssreflect.ssrnotations.html">ssrnotations</a></li>
<li><a href="mathcomp.ssreflect.tuple.html">tuple</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module mathcomp._opam.lib.coq.user-contrib.mathcomp.ssreflect.order</h1>
<span class="vernacular">From</span><span class="id"> HB</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> structures</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> ssreflect</span><span class="id"> ssrfun</span><span class="id"> ssrbool</span><span class="id"> eqtype</span><span class="id"> ssrnat</span><span class="id"> choice</span><span class="id"> seq</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> path</span><span class="id"> fintype</span><span class="id"> tuple</span><span class="id"> bigop</span><span class="id"> finset</span><span class="id"> div</span><span class="id"> prime</span><span class="id"> finfun</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> finset</span>.<br/>
<br/>
<pre class="ssrdoc">
                  Types equipped with order relations

NB: See CONTRIBUTING.md for an introduction to HB concepts and commands.

This files defines types equipped with order relations.

* How to use orders in MathComp?
Use one of the following modules implementing different theories (all
located in the module Order):
  Order.LTheory: partially ordered types and lattices excluding complement
                 and totality related theorems
  Order.CTheory: complemented lattices including Order.LTheory
  Order.TTheory: totally ordered types including Order.LTheory
   Order.Theory: ordered types including all of the above theory modules
To access the definitions, notations, and the theory from, say,
"Order.Xyz", insert "Import Order.Xyz." at the top of your scripts. You can
also "Import Order.Def." to enjoy shorter notations (e.g., min instead of
Order.min, nondecreasing instead of Order.nondecreasing, etc.).

In order to reason about abstract orders, notations are accessible by
opening the scope "order_scope" bound to the delimiting key "O"; however,
when dealing with another notation scope providing order notations for
a concrete instance (e.g., "ring_scope"), it is not recommended to open
"order_scope" at the same time.

* Control of inference (parsing) and printing
One characteristic of ordered types is that one carrier type may have
several orders. For example, natural numbers can be totally or partially
ordered by the less than or equal relation, the divisibility relation, and
their dual relations. Therefore, we need a way to control inference of
ordered type instances and printing of generic relations and operations on
ordered types. As a rule of thumb, we use the carrier type or its "alias"
(named copy) to control inference (using canonical structures), and use a
"display" to control the printing of notations.

Each generic interface and operation for ordered types has, as its first
argument, a "display" of type Order.disp_t. For example, the less than or
equal relation has type:
  Order.le : forall {d : Order.disp_t} {T : porderType d}, rel T,
where porderType d is the structure of partially ordered types with
display d. (@Order.le dvd_display _ m n) is printed as m %| n because
ordered type instances associated to the display dvd_display is intended
to represent natural numbers partially ordered by the divisibility
relation.

We stress that order structure inference can be triggered only from the
carrier type (or its alias), but not the display. For example, writing
m %| n for m and n of type nat does not trigger an inference of the
divisibility relation on natural numbers, which is associated to an alias
natdvd for nat; such an inference should be triggered through the use of
the corresponding alias, i.e., (m : natdvd) %| n. In other words, displays
are merely used to inform the user and the notation mechanism of what the
inference did; they are not additional input for the inference.

See below for various aliases and their associated displays.

NB: algebra/ssrnum.v provides the display ring_display to change the
scope of the usual notations to ring_scope.

Instantiating d with Disp tt tt or an unknown display will lead to a
default display for notations.

Alternative notation displays can be defined by :
1. declaring a new opaque definition of type unit. Using the idiom
   `Fact my_display : Order.disp_t. Proof. exact: Disp tt tt. Qed.`
2. using this symbol to tag canonical porderType structures using
   `HB.instance Definition _ := isPOrder.Build my_display my_type ...`,
3. declaring notations for the main operations of this library, by
   setting the first argument of the definition to the display, e.g.
   `Notation my_syndef_le x y := @Order.le my_display _ x y.` or
   `Notation "x &lt;=&lt; y" := @Order.lt my_display _ x y (at level ...).`
   Non overloaded notations will default to the default display.
We suggest the user to refer to the example of natdvd below as a guideline
example to add their own displays.

* Interfaces
We provide the following interfaces for types equipped with an order:

             porderType d == the type of partially ordered types
                             The HB class is called POrder.
            bPOrderType d == porderType with a bottom element (\bot)
                             The HB class is called BPOrder.
            tPOrderType d == porderType with a top element (\top)
                             The HB class is called TPOrder.
           tbPOrderType d == porderType with both a top and a bottom
                             The HB class is called TBPOrder.
    meetSemilatticeType d == the type of meet semilattices
                             The HB class is called MeetSemilattice.
   bMeetSemilatticeType d == meetSemilatticeType with a bottom element
                             The HB class is called BMeetSemilattice.
   tMeetSemilatticeType d == meetSemilatticeType with a top element
                             The HB class is called TMeetSemilattice.
  tbMeetSemilatticeType d == meetSemilatticeType with both a top and a
                             bottom
                             The HB class is called TBMeetSemilattice.
    joinSemilatticeType d == the type of join semilattices
                             The HB class is called JoinSemilattice.
   bJoinSemilatticeType d == joinSemilatticeType with a bottom element
                             The HB class is called BJoinSemilattice.
   tJoinSemilatticeType d == joinSemilatticeType with a top element
                             The HB class is called TJoinSemilattice.
  tbJoinSemilatticeType d == joinSemilatticeType with both a top and a
                             bottom
                             The HB class is called TBJoinSemilattice.
            latticeType d == the type of lattices
                             The HB class is called Lattice.
           bLatticeType d == latticeType with a bottom element
                             The HB class is called BLattice.
           tLatticeType d == latticeType with a top element
                             The HB class is called TLattice.
          tbLatticeType d == latticeType with both a top and a bottom
                             The HB class is called TBLattice.
       distrLatticeType d == the type of distributive lattices
                             The HB class is called DistrLattice.
      bDistrLatticeType d == distrLatticeType with a bottom element
                             The HB class is called BDistrLattice.
      tDistrLatticeType d == distrLatticeType with a top element
                             The HB class is called TDistrLattice.
     tbDistrLatticeType d == distrLatticeType with both a top and a bottom
                             The HB class is called TBDistrLattice.
              orderType d == the type of totally ordered types
                             The HB class is called Total.
             bOrderType d == orderType with a bottom element
                             The HB class is called BTotal.
             tOrderType d == orderType with a top element
                             The HB class is called TTotal.
            tbOrderType d == orderType with both a top and a bottom
                             The HB class is called TBTotal.
      cDistrLatticeType d == the type of relatively complemented
                             distributive lattices, where each interval
                             [a, b] is equipped with a complement operation
                             The HB class is called CDistrLattice.
     cbDistrLatticeType d == the type of sectionally complemented
                             distributive lattices, equipped with a bottom,
                             a relative complement operation, and a
                             difference operation, i.e., a complement
                             operation for each interval of the form
                             [\bot, b]
                             The HB class is called CBDistrLattice.
     ctDistrLatticeType d == the type of dually sectionally complemented
                             distributive lattices, equipped with a top,
                             a relative complement operation, and a
                             dual difference operation, i.e. a complement
                             operation for each interval of the form
                             [a, \top]
                             The HB class is called CTDistrLattice.
    ctbDistrLatticeType d == the type of complemented distributive
                             lattices, equipped with top, bottom,
                             difference, dual difference, and complement
                             The HB class is called CTBDistrLattice.
          finPOrderType d == the type of partially ordered finite types
                             The HB class is called FinPOrder.
         finBPOrderType d == finPOrderType with a bottom element
                             The HB class is called FinBPOrder.
         finTPOrderType d == finPOrderType with a top element
                             The HB class is called FinTPOrder.
        finTBPOrderType d == finPOrderType with both a top and a bottom
                             The HB class is called FinTBPOrder.
 finMeetSemilatticeType d == the type of finite meet semilattice types
                             The HB class is called FinMeetSemilattice.
finBMeetSemilatticeType d == finMeetSemilatticeType with a bottom element
                             Note that finTMeetSemilatticeType is just
                             finTBLatticeType.
                             The HB class is called FinBMeetSemilattice.
 finJoinSemilatticeType d == the type of finite join semilattice types
                             The HB class is called FinJoinSemilattice.
finTJoinSemilatticeType d == finJoinSemilatticeType with a top element
                             Note that finBJoinSemilatticeType is just
                             finTBLatticeType.
                             The HB class is called FinTJoinSemilattice.
         finLatticeType d == the type of finite lattices
                             The HB class is called FinLattice.
       finTBLatticeType d == the type of nonempty finite lattices
                             The HB class is called FinTBLattice.
    finDistrLatticeType d == the type of finite distributive lattices
                             The HB class is called FinDistrLattice.
  finTBDistrLatticeType d == the type of nonempty finite distributive
                             lattices
                             The HB class is called FinTBDistrLattice.
           finOrderType d == the type of totally ordered finite types
                             The HB class is called FinTotal.
         finTBOrderType d == the type of nonempty totally ordered finite
                             types
                             The HB class is called FinTBTotal.
   finCDistrLatticeType d == the type of finite relatively complemented
                             distributive lattices
                             The HB class is called FinCDistrLattice.
 finCTBDistrLatticeType d == the type of finite complemented distributive
                             lattices
                             The HB class is called FinCTBDistrLattice.

and their joins with subType:

         subPOrder d T P d' == join of porderType d' and subType
                               (P : pred T) such that val is monotonic
                               The HB class is called SubPOrder.
    meetSubLattice d T P d' == join of latticeType d' and subType
                               (P : pred T) such that val is monotonic and
                               a morphism for meet
                               The HB class is called MeetSubLattice.
    joinSubLattice d T P d' == join of latticeType d' and subType
                               (P : pred T) such that val is monotonic and
                               a morphism for join
                               The HB class is called JoinSubLattice.
        subLattice d T P d' == join of JoinSubLattice and MeetSubLattice
                               The HB class is called SubLattice.
   bJoinSubLattice d T P d' == join of JoinSubLattice and BLattice
                               such that val is a morphism for \bot
                               The HB class is called BJoinSubLattice.
   tMeetSubLattice d T P d' == join of MeetSubLattice and TLattice
                               such that val is a morphism for \top
                               The HB class is called TMeetSubLattice.
       bSubLattice d T P d' == join of SubLattice and BLattice
                               such that val is a morphism for \bot
                               The HB class is called BSubLattice.
       tSubLattice d T P d' == join of SubLattice and TLattice
                               such that val is a morphism for \top
                               The HB class is called BSubLattice.
          subOrder d T P d' == join of orderType d' and
                               subLatticeType d T P d'
                               The HB class is called SubOrder.
  subPOrderLattice d T P d' == join of SubPOrder and Lattice
                               The HB class is called SubPOrderLattice.
 subPOrderBLattice d T P d' == join of SubPOrder and BLattice
                               The HB class is called SubPOrderBLattice.
 subPOrderTLattice d T P d' == join of SubPOrder and TLattice
                               The HB class is called SubPOrderTLattice.
subPOrderTBLattice d T P d' == join of SubPOrder and TBLattice
                               The HB class is called SubPOrderTBLattice.
   meetSubBLattice d T P d' == join of MeetSubLattice and BLattice
                               The HB class is called MeetSubBLattice.
   meetSubTLattice d T P d' == join of MeetSubLattice and TLattice
                               The HB class is called MeetSubTLattice.
  meetSubTBLattice d T P d' == join of MeetSubLattice and TBLattice
                               The HB class is called MeetSubTBLattice.
   joinSubBLattice d T P d' == join of JoinSubLattice and BLattice
                               The HB class is called JoinSubBLattice.
   joinSubTLattice d T P d' == join of JoinSubLattice and TLattice
                               The HB class is called JoinSubTLattice.
  joinSubTBLattice d T P d' == join of JoinSubLattice and TBLattice
                               The HB class is called JoinSubTBLattice.
       subBLattice d T P d' == join of SubLattice and BLattice
                               The HB class is called SubBLattice.
       subTLattice d T P d' == join of SubLattice and TLattice
                               The HB class is called SubTLattice.
      subTBLattice d T P d' == join of SubLattice and TBLattice
                               The HB class is called SubTBLattice.
  bJoinSubTLattice d T P d' == join of BJoinSubLattice and TBLattice
                               The HB class is called BJoinSubTLattice.
  tMeetSubBLattice d T P d' == join of TMeetSubLattice and TBLattice
                               The HB class is called TMeetSubBLattice.
      bSubTLattice d T P d' == join of BSubLattice and TBLattice
                               The HB class is called BSubTLattice.
      tSubBLattice d T P d' == join of TSubLattice and TBLattice
                               The HB class is called TSubBLattice.
     tbSubBLattice d T P d' == join of BSubLattice and TSubLattice
                               The HB class is called TBSubLattice.

Morphisms between the above structures:

OrderMorphism.type d T d' T' == nondecreasing function between two porder
                             := {omorphism T -&gt; T'}
MeetLatticeMorphism.type d T d' T',
JoinLatticeMorphism.type d T d' T',
LatticeMorphism.type d T d' T' == nondecreasing function between two
                          lattices which are morphism for meet, join, and
                          meet/join respectively
BLatticeMorphism.type d T d' T' := {blmorphism T -&gt; T'},
TLatticeMorphism.type d T d' T' := {tlmorphism T -&gt; T'},
TBLatticeMorphism.type d T d' T' := {tblmorphism T -&gt; T'}
                       == nondecreasing function between two lattices with
                          bottom/top which are morphism for bottom/top

Closedness predicates for the algebraic structures:

 meetLatticeClosed d T == predicate closed under meet on T : latticeType d
                          The HB class is MeetLatticeClosed.
 joinLatticeClosed d T == predicate closed under join on T : latticeType d
                          The HB class is JoinLatticeClosed.
     latticeClosed d T == predicate closed under meet and join
                          The HB class is JoinLatticeClosed.
    bLatticeClosed d T == predicate that contains bottom
                          The HB class is BLatticeClosed.
    tLatticeClosed d T == predicate that contains top
                          The HB class is TLatticeClosed.
   tbLatticeClosed d T == predicate that contains top and bottom
                          the HB class ie TBLatticeClosed.
bJoinLatticeClosed d T == predicate that contains bottom and is closed
                          under join
                          The HB class is BJoinLatticeClosed.
tMeetLatticeClosed d T == predicate that contains top and is closed under
                          meet
                          The HB class is TMeetLatticeClosed.

* Useful lemmas:
On orderType, leP, ltP, and ltgtP are the three main lemmas for case
analysis.
On porderType, one may use comparableP, comparable_leP, comparable_ltP,
and comparable_ltgtP, which are the four main lemmas for case analysis.

* Order relations and operations:
In general, an overloaded relation or operation on ordered types takes the
following arguments:
1. a display d of type Order.disp_t,
2. an instance T of the minimal structure it operates on, and
3. operands.
Here is the exhaustive list of all such operations together with their
default notation (defined in order_scope unless specified otherwise).

For T of type porderType d, x and y of type T, and C of type bool:
         x &lt;= y :=  @Order.le d T x y
                &lt;-&gt; x is less than or equal to y.
          x &lt; y :=  @Order.lt d T x y
                &lt;-&gt; x is less than y, i.e., (y != x) &amp;&amp; (x &lt;= y).
         x &gt;= y :=  y &lt;= x
                &lt;-&gt; x is greater than or equal to y.
          x &gt; y :=  y &lt; x
                &lt;-&gt; x is greater than y.
        x &gt;=&lt; y :=  @Order.comparable d T x y  (:= (x &lt;= y) || (y &lt;= x))
                &lt;-&gt; x and y are comparable.
         x &gt;&lt; y :=  ~~ x &gt;=&lt; y
                &lt;-&gt; x and y are incomparable.
x &lt;= y ?= iff C :=  @Order.leif d T x y C  (:= (x &lt;= y) * ((x == y) = C))
                &lt;-&gt; x is less than y, or equal iff C is true.
 x &lt; y ?&lt;= if C :=  @Order.lteif d T x y C (:= if C then x &lt;= y else x &lt; y)
                &lt;-&gt; x is smaller than y, and strictly if C is false.
  Order.min x y :=  if x &lt; y then x else y
  Order.max x y :=  if x &lt; y then y else x
       f \min g ==  the function x |-&gt; Order.min (f x) (g x);
                    f \min g simplifies on application.
       f \max g ==  the function x |-&gt; Order.max (f x) (g x);
                    f \max g simplifies on application.
nondecreasing f &lt;-&gt; the function f : T -&gt; T' is nondecreasing,
                    where T and T' are porderType
                :=  {homo f : x y / x &lt;= y}
Unary (partially applied) versions of order notations:
           &gt;= y :=  @Order.le d T y
                ==  a predicate characterizing elements greater than or
                    equal to y
            &gt; y :=  @Order.lt d T y
           &lt;= y :=  @Order.ge d T y
            &lt; y :=  @Order.gt d T y
          &gt;=&lt; y :=  [pred x | @Order.comparable d T x y]
           &gt;&lt; y :=  [pred x | ~~ @Order.comparable d T x y]
0-ary versions of order notations (in function_scope):
           &lt;=%O :=  @Order.le         d T
            &lt;%O :=  @Order.lt         d T
           &gt;=%O :=  @Order.ge         d T
            &gt;%O :=  @Order.gt         d T
          &gt;=&lt;%O :=  @Order.comparable d T
          &lt;?=%O :=  @Order.leif       d T
         &lt;?&lt;=%O :=  @Order.lteif      d T
-&gt; These conventions are compatible with Haskell's,
   where ((&lt; y) x) = (x &lt; y) = ((&lt;) x y),
   except that we write &lt;%O instead of (&lt;).

For T of type bPOrderType d:
           \bot :=  @Order.bottom d T
                ==  the bottom element of type T
\max_&lt;range&gt; e :=  \big[Order.max / Order.bottom]_&lt;range&gt; e
                ==  iterated max of a preorder with a bottom
                    the possible &lt;range&gt;s are documented in bigop.v
For T of type tPOrderType d:
           \top :=  @Order.top d T
                ==  the top element of type T
\min_&lt;range&gt; e :=  \big[Order.max / Order.top]_&lt;range&gt; e
                ==  iterated min of a preorder with a top
                    the possible &lt;range&gt;s are documented in bigop.v

For T of type meetSemilatticeType d, and x, y of type T:
        x `&amp;` y :=  @Order.meet d T x y
                ==  the meet of x and y
For T of type joinSemilatticeType d, and x, y of type T:
        x `|` y :=  @Order.join d T x y
                ==  the join of x and y

For T of type tMeetSemilatticeType d:
\meet_&lt;range&gt; e :=  \big[Order.meet / Order.top]_&lt;range&gt; e
                ==  iterated meet of a meet-semilattice with a top
                    the possible &lt;range&gt;s are documented in bigop.v
For T of type bJoinSemilatticeType d:
\join_&lt;range&gt; e :=  \big[Order.join / Order.bottom]_&lt;range&gt; e
                ==  iterated join of a join-semilattice with a bottom
                    the possible &lt;range&gt;s are documented in bigop.v

For T of type cDistrLatticeType d, and x, y, z of type T:
   rcompl x y z == the (relative) complement of z in [x, y]

For T of type cbDistrLatticeType d, and x, y of type T:
        x `\` y := @Order.diff d T x y
                == the (sectional) complement of y in [\bot, x],
                   i.e., rcompl \bot x y

For T of type ctDistrLatticeType d, and x, y of type T:
     codiff x y == the (dual sectional) complement of y in [x, \top],
                   i.e., rcompl x \top y

For T of type ctbDistrLatticeType d, and x of type T:
           ~` x := @Order.compl d T x
                == the complement of x in [\bot, \top],
                   i.e., rcompl \bot \top x

For porderType we provide the following operations:
  [arg min_(i &lt; i0 | P) M] == a value i : T minimizing M : R, subject to
                     the condition P (i may appear in P and M), and
                     provided P holds for i0.
  [arg max_(i &gt; i0 | P) M] == a value i maximizing M subject to P and
                     provided P holds for i0.
  [arg min_(i &lt; i0 in A) M] == an i \in A minimizing M if i0 \in A.
  [arg max_(i &gt; i0 in A) M] == an i \in A maximizing M if i0 \in A.
  [arg min_(i &lt; i0) M] == an i : T minimizing M, given i0 : T.
  [arg max_(i &gt; i0) M] == an i : T maximizing M, given i0 : T.
with head symbols Order.arg_min and Order.arg_max
The user may use extremumP or extremum_inP to eliminate them.

-&gt; patterns for contextual rewriting:
     leLHS := (X in (X &lt;= _)%O)%pattern
     leRHS := (X in (_ &lt;= X)%O)%pattern
     ltLHS := (X in (X &lt; _)%O)%pattern
     ltRHS := (X in (_ &lt; X)%O)%pattern

We provide aliases for various types and their displays:
           natdvd := nat (associated with display dvd_display)
                  == an alias for nat which is canonically ordered using
                     divisibility predicate dvdn
                     Notation %|, %&lt;|, gcd, lcm are used instead of
                     &lt;=, &lt;, meet and join.
             T^d  := dual T,
                     where dual is a new definition for (fun T =&gt; T)
                     (associated with dual_display d where d is a display)
                  == an alias for T, such that if T is canonically
                     ordered, then T^d is canonically ordered with the
                     dual order, and displayed with an extra ^d in the
                     notation, i.e.,  &lt;=^d, &lt;^d, &gt;=&lt;^d, &gt;&lt;^d, `&amp;`^d, `|`^d
                     are used and displayed instead of
                     &lt;=, &lt;, &gt;=&lt;, &gt;&lt;, `&amp;`, `|`
    T *prod[d] T' := T * T'
                  == an alias for the cartesian product such that,
                     if T and T' are canonically ordered,
                     then T *prod[d] T' is canonically ordered in product
                     order, i.e.,
                     (x1, x2) &lt;= (y1, y2) = (x1 &lt;= y1) &amp;&amp; (x2 &lt;= y2),
                     and displayed in display d
          T *p T' := T *prod[prod_display d d'] T'
                     where d and d' are the displays of T and T',
                     respectively, and prod_display adds an extra ^p to
                     all notations
    T *lexi[d] T' := T * T'
                  == an alias for the cartesian product such that,
                     if T and T' are canonically ordered,
                     then T *lexi[d] T' is canonically ordered in
                     lexicographic order,
                     i.e., (x1, x2) &lt;= (y1, y2) =
                             (x1 &lt;= y1) &amp;&amp; ((x1 &gt;= y1) ==&gt; (x2 &lt;= y2))
                     and   (x1, x2) &lt; (y1, y2) =
                             (x1 &lt;= y1) &amp;&amp; ((x1 &gt;= y1) ==&gt; (x2 &lt; y2))
                     and displayed in display d
          T *l T' := T *lexi[lexi_display d d'] T'
                     where d and d' are the displays of T and T',
                     respectively, and lexi_display adds an extra ^l to
                     all notations
 seqprod_with d T := seq T
                  == an alias for seq, such that if T is canonically
                     ordered, then seqprod_with d T is canonically ordered
                     in product order, i.e.,
                     [:: x1, .., xn] &lt;= [y1, .., yn] =
                       (x1 &lt;= y1) &amp;&amp; ... &amp;&amp; (xn &lt;= yn)
                     and displayed in display d
n.-tupleprod[d] T == same with n.tuple T
        seqprod T := seqprod_with (seqprod_display d) T
                     where d is the display of T, and seqprod_display adds
                     an extra ^sp to all notations
   n.-tupleprod T := n.-tuple[seqprod_display d] T
                     where d is the display of T
 seqlexi_with d T := seq T
                  == an alias for seq, such that if T is canonically
                     ordered, then seqprod_with d T is canonically ordered
                     in lexicographic order, i.e.,
                     [:: x1, .., xn] &lt;= [y1, .., yn] =
                       (x1 &lt;= x2) &amp;&amp; ((x1 &gt;= y1) ==&gt; ((x2 &lt;= y2) &amp;&amp; ...))
                     and displayed in display d
n.-tuplelexi[d] T == same with n.tuple T
        seqlexi T := lexiprod_with (seqlexi_display d) T
                     where d is the display of T, and seqlexi_display adds
                     an extra ^sl to all notations
   n.-tuplelexi T := n.-tuple[seqlexi_display d] T
                     where d is the display of T
    {subset[d] T} := {set T}
                  == an alias for set which is canonically ordered by the
                     subset order and displayed in display d
       {subset T} := {subset[subset_display] T}

The following notations are provided to build substructures:
[SubChoice_isSubPOrder of U by &lt;: with disp] ==
[SubChoice_isSubPOrder of U by &lt;:] == porderType mixin for a subType
                         whose base type is a porderType
[SubPOrder_isSubLattice of U by &lt;: with disp] ==
[SubPOrder_isSubLattice of U by &lt;:] ==
[SubChoice_isSubLattice of U by &lt;: with disp] ==
[SubChoice_isSubLattice of U by &lt;:] == latticeType mixin for a subType
                         whose base type is a latticeType and whose
                         predicate is a latticeClosed
[SubPOrder_isBSubLattice of U by &lt;: with disp] ==
[SubPOrder_isBSubLattice of U by &lt;:] ==
[SubChoice_isBSubLattice of U by &lt;: with disp] ==
[SubChoice_isBSubLattice of U by &lt;:] == blatticeType mixin for a subType
                         whose base type is a blatticeType and whose
                         predicate is both a latticeClosed
                         and a bLatticeClosed
[SubPOrder_isTSubLattice of U by &lt;: with disp] ==
[SubPOrder_isTSubLattice of U by &lt;:] ==
[SubChoice_isTSubLattice of U by &lt;: with disp] ==
[SubChoice_isTSubLattice of U by &lt;:] == tlatticeType mixin for a subType
                         whose base type is a tlatticeType and whose
                         predicate is both a latticeClosed
                         and a tLatticeClosed
[SubPOrder_isTBSubLattice of U by &lt;: with disp] ==
[SubPOrder_isTBSubLattice of U by &lt;:] ==
[SubChoice_isTBSubLattice of U by &lt;: with disp] ==
[SubChoice_isTBSubLattice of U by &lt;:] == tblatticeType mixin for a subType
                         whose base type is a tblatticeType and whose
                         predicate is both a latticeClosed
                         and a tbLatticeClosed
[SubLattice_isSubOrder of U by &lt;: with disp] ==
[SubLattice_isSubOrder of U by &lt;:] ==
[SubPOrder_isSubOrder of U by &lt;: with disp] ==
[SubPOrder_isSubOrder of U by &lt;:] ==
[SubChoice_isSubOrder of U by &lt;: with disp] ==
[SubChoice_isSubOrder of U by &lt;:] == orderType mixin for a subType whose
                         base type is an orderType
  [POrder of U by &lt;:] == porderType mixin for a subType whose base type is
                         a porderType
   [Order of U by &lt;:] == orderType mixin for a subType whose base type is
                         an orderType

We provide expected instances of ordered types for bool, nat (for leq and
and dvdn), 'I_n, 'I_n.+1 (with a top and bottom), nat for dvdn,
T *prod[disp] T', T *lexi[disp] T', {t : T &amp; T' x} (with lexicographic
ordering), seqprod_with d T (using product order), seqlexi_with d T
(with lexicographic ordering), n.-tupleprod[disp] (using product order),
n.-tuplelexi[d] T (with lexicographic ordering), on {subset[disp] T}
(using subset order) and all possible finite type instances.
(Use `HB.about type` to discover the instances on type.)

In order to get a canonical order on prod, seq, tuple or set, one may
import modules DefaultProdOrder or DefaultProdLexiOrder,
DefaultSeqProdOrder or DefaultSeqLexiOrder,
DefaultTupleProdOrder or DefaultTupleLexiOrder,
and DefaultSetSubsetOrder.

We also provide specialized versions of some theorems from path.v.

We provide Order.enum_val, Order.enum_rank, and Order.enum_rank_in, which
are monotonic variations of enum_val, enum_rank, and enum_rank_in
whenever the type is porderType, and their monotonicity is provided if
this order is total. The theory is in the module Order (Order.enum_valK,
Order.enum_rank_inK, etc) but Order.Enum can be imported to shorten these.

We provide an opaque monotonous bijection tagnat.sig / tagnat.rank between
the finite types {i : 'I_n &amp; 'I_(p_ i)} and 'I_(\sum_i p_ i):
 tagnat.sig  : 'I_(\sum_i p_ i) -&gt; {i : 'I_n &amp; 'I_(p_ i)}
 tagnat.rank : {i : 'I_n &amp; 'I_(p_ i)} -&gt; 'I_(\sum_i p_ i)
 tagnat.sig1 : 'I_(\sum_i p_ i) -&gt; 'I_n
 tagnat.sig2 : forall p : 'I_(\sum_i p_ i), 'I_(p_ (tagnat.sig1 p))
 tagnat.Rank : forall i, 'I_(p_ i) -&gt; 'I_(\sum_i p_ i)

Acknowledgments: This file is based on prior work by D. Dreyer, G.
Gonthier, A. Nanevski, P-Y Strub, B. Ziliani
</pre>
<br/>
<span class="gallina-kwd">Set</span><span class="vernacular"> Implicit</span><span class="vernacular"> Arguments</span>.<br/>
<span class="vernacular">Unset</span><span class="vernacular"> Strict</span><span class="vernacular"> Implicit</span>.<br/>
<span class="vernacular">Unset</span><span class="vernacular"> Printing</span><span class="vernacular"> Implicit</span><span class="vernacular"> Defensive</span>.<br/>
<br/>
<span class="vernacular">Declare</span><span class="vernacular"> Scope</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Delimit</span><span class="vernacular"> Scope</span><span class="id"> order_scope</span><span class="gallina-kwd"> with</span><span class="id"> O</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;= y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;= y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt; y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt; y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;= y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;= y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt; y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt; y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt; y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt; y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt; y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt; y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt; x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt; y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;f \min g&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;f \max g&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt; y ?&lt;= 'if' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;  y '/'  ?&lt;=  'if'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt; y ?&lt;= 'if' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;  y '/'  ?&lt;=  'if'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt;^d y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^d x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^d y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y &lt;=^d z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y &lt;=^d z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y &lt;^d z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y &lt;^d z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y ?= 'iff' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^d  y '/'  ?=  'iff'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^d y ?= 'iff' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^d  y '/'  ?=  'iff'  c  :&gt; T ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y ?&lt;= 'if' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;^d  y '/'  ?&lt;=  'if'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^d y ?&lt;= 'if' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;^d  y '/'  ?&lt;=  'if'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot^d&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top^d&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;^d` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|^d` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\^d` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~^d` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^p x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt;^p y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^p x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^p y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y &lt;=^p z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^p y &lt;=^p z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y &lt;^p z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^p y &lt;^p z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y ?= 'iff' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^p  y '/'  ?=  'iff'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^p y ?= 'iff' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^p  y '/'  ?=  'iff'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot^p&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top^p&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;^p` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|^p` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\^p` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~^p` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^sp x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt;^sp y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^sp x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^sp y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y &lt;=^sp z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sp y &lt;=^sp z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y &lt;^sp z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sp y &lt;^sp z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y ?= 'iff' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^sp  y '/'  ?=  'iff'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sp y ?= 'iff' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^sp  y '/'  ?=  'iff'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot^sp&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top^sp&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;^sp` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|^sp` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\^sp` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~^sp` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^l x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt;^l y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^l x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^l y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y &lt;=^l z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^l y &lt;=^l z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y &lt;^l z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^l y &lt;^l z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^l  y '/'  ?=  'iff'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^l  y '/'  ?=  'iff'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot^l&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top^l&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;^l` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|^l` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\^l` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~^l` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;=^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&lt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^sl x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;=&lt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt;^sl y&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^sl x&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;&gt;&lt;^sl y :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> y</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y &lt;=^sl z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sl y &lt;=^sl z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y &lt;^sl z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;^sl y &lt;^sl z&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> z</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y ?= 'iff' c&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^sl  y '/'  ?=  'iff'  c ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;=^sl y ?= 'iff' c :&gt; T&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> y,</span><span class="id"> c</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;x '[hv'  &lt;=^sl  y '/'  ?=  'iff'  c  :&gt; T ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot^sl&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top^sl&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `&amp;^sl` B&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 48,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `|^sl` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 52,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;A `\^sl` B&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 50,</span><span class="id"> left</span><span class="id"> associativity</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;~^sl` A&quot;</span> (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 35,</span><span class="id"> right</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;x %&lt;| y&quot;</span>  (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> no</span><span class="id"> associativity</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\gcd_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \gcd_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\lcm_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \lcm_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^d_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^d_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^d_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^d_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^d_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^d_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^d_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^p_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^p_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^p_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^p_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^p_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^p_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^p_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^p_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^sp_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^sp_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^sp_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^sp_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^sp_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^sp_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^sp_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^sp_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \meet^l_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \join^l_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \min^l_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ i F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 0,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ i '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i &lt;- r | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  &lt;-  r  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i &lt;- r ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> r</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  &lt;-  r ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( m  &lt;=  i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> m,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( m  &lt;=  i  &lt;  n ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i : t | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i : t ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  &lt;  n  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> n</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  &lt;  n )  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A | P ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  'in'  A  |  P ) '/  '  F ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A ) F&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 41,</span><span class="id"> i,</span><span class="id"> A</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 50,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' \max^l_ ( i  'in'  A ) '/  '  F ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'omorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'omorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'mlmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'mlmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'jlmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'jlmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'lmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'lmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'blmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'blmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'tlmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'tlmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'{' 'tblmorphism' U '-&gt;' V '}'&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> U</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 98,</span><span class="id"> V</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 99,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;{ 'tblmorphism'  U  -&gt;  V }&quot;</span>).<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> Order</span>.<br/>
<br/>
<span class="id">#[projections</span>(<span class="id">primitive</span>)<span class="id">]</span><span class="vernacular"> Record</span><span class="id"> disp_t</span><span class="id"> :=</span><span class="id"> Disp</span><span class="id"> {d1</span><span class="id"> :</span><span class="id"> unit;</span><span class="id"> d2</span><span class="id"> :</span><span class="id"> unit}</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isDuallyPOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Equality</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt_def</span>  <span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">gt_def</span>  <span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> lt</span><span class="id"> y</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">le</span><span class="id"> y</span><span class="id"> x</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">le_refl</span> <span class="id"> :</span><span class="id"> reflexive</span>    <span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">ge_refl</span> <span class="id"> :</span><span class="id"> reflexive</span>     (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> le</span><span class="id"> y</span><span class="id"> x</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">le_anti</span> <span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">ge_anti</span> <span class="id"> :</span><span class="id"> antisymmetric</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> le</span><span class="id"> y</span><span class="id"> x</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">le_trans</span><span class="id"> :</span><span class="id"> transitive</span>   <span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">ge_trans</span><span class="id"> :</span><span class="id"> transitive</span>    (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> le</span><span class="id"> y</span><span class="id"> x</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;porderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> POrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Choice</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> isDuallyPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">bottom</span><span class="id"> :</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">le0x</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> le</span><span class="id"> bottom</span><span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">top</span><span class="id"> :</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lex1</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> le</span><span class="id"> x</span><span class="id"> top;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> BPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> POrderExports</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> le_trans</span><span class="id"> {d</span><span class="id"> s}</span><span class="id"> [_</span><span class="id"> _</span><span class="id"> _]</span>.<br/>
<span class="vernacular">End</span><span class="id"> POrderExports</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> POrderExports</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrderDef</span>.<br/>
<br/>
<span class="vernacular">Variable</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>).<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt;= y&quot;</span><span class="id"> :=</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &lt; y&quot;</span><span class="id"> :=</span> (<span class="id">lt</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> comparable</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span><span class="id"> :=</span><span class="gallina-kwd"> fun</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> =&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;=&lt; y&quot;</span><span class="id"> :=</span> (<span class="id">comparable</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;x &gt;&lt; y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> ge</span><span class="id"> :</span><span class="id"> simpl_rel</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> [rel</span><span class="id"> x</span><span class="id"> y</span><span class="id"> |</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x]</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> gt</span><span class="id"> :</span><span class="id"> simpl_rel</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> [rel</span><span class="id"> x</span><span class="id"> y</span><span class="id"> |</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x]</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leif</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :</span><span class="gallina-kwd"> Prop</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> *</span> ((<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> C</span>))<span class="id">%type</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le_of_leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span> (<span class="id">le_xy</span><span class="id"> :</span><span class="id"> @leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :=</span><span class="id"> le_xy</span>.<span class="id">1</span><span class="id"> :</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> lteif</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> C</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> le_xor_gt</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> LeNotGt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> :</span><span class="id"> le_xor_gt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> true</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> GtNotLe</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span> <span class="id"> :</span><span class="id"> le_xor_gt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> true</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> lt_xor_ge</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> LtNotGe</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span> <span class="id"> :</span><span class="id"> lt_xor_ge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> GeNotLt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> :</span><span class="id"> lt_xor_ge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> false</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> min</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> max</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> compare</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> CompareLt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> :</span><span class="id"> compare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> CompareGt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> :</span><span class="id"> compare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> CompareEq</span><span class="id"> of</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span><span class="id"> :</span><span class="id"> compare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> false</span><span class="id"> false</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> incompare</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InCompareLt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incompare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InCompareGt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> :</span><span class="id"> incompare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InCompare</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &gt;&lt;</span><span class="id"> y</span> <span class="id"> :</span><span class="id"> incompare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InCompareEq</span><span class="id"> of</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incompare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> arg_min</span><span class="id"> {I</span><span class="id"> :</span><span class="id"> finType}</span><span class="id"> :=</span><span class="id"> @extremum</span><span class="id"> T</span><span class="id"> I</span><span class="id"> le</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> arg_max</span><span class="id"> {I</span><span class="id"> :</span><span class="id"> finType}</span><span class="id"> :=</span><span class="id"> @extremum</span><span class="id"> T</span><span class="id"> I</span><span class="id"> ge</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> LiftedPOrder</span>.<br/>
<span class="vernacular">Variable</span><span class="id"> T'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>.<br/>
<span class="vernacular">Implicit</span><span class="gallina-kwd"> Type</span><span class="id"> f</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> min_fun</span><span class="id"> f</span><span class="id"> g</span><span class="id"> x</span><span class="id"> :=</span><span class="id"> min</span> (<span class="id">f</span><span class="id"> x</span>) (<span class="id">g</span><span class="id"> x</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> max_fun</span><span class="id"> f</span><span class="id"> g</span><span class="id"> x</span><span class="id"> :=</span><span class="id"> max</span> (<span class="id">f</span><span class="id"> x</span>) (<span class="id">g</span><span class="id"> x</span>).<br/>
<span class="vernacular">End</span><span class="id"> LiftedPOrder</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> nondecreasing</span><span class="id"> disp'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><span class="gallina-kwd"> Prop</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> POrderDef</span>.<br/>
<br/>
<span class="id">Prenex</span><span class="vernacular"> Implicits</span><span class="id"> lt</span><span class="id"> le</span><span class="id"> leif</span><span class="id"> lteif</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> ge</span><span class="id"> {_</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> gt</span><span class="id"> {_</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> min</span><span class="id"> {_</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> max</span><span class="id"> {_</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> comparable</span><span class="id"> {_</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> min_fun</span><span class="id"> {_</span><span class="id"> _</span><span class="id"> _}</span><span class="id"> f</span><span class="id"> g</span><span class="id"> _</span><span class="id"> /</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> max_fun</span><span class="id"> {_</span><span class="id"> _</span><span class="id"> _}</span><span class="id"> f</span><span class="id"> g</span><span class="id"> _</span><span class="id"> /</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> Def</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> nondecreasing</span><span class="id"> :=</span><span class="id"> nondecreasing</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> min</span><span class="id"> :=</span><span class="id"> min</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> max</span><span class="id"> :=</span><span class="id"> max</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Def</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> POSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=%O&quot;</span><span class="id"> :=</span><span class="id"> le</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=%O&quot;</span><span class="id"> :=</span><span class="id"> ge</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;%O&quot;</span><span class="id"> :=</span><span class="id"> lt</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;%O&quot;</span><span class="id"> :=</span><span class="id"> gt</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=%O&quot;</span><span class="id"> :=</span><span class="id"> leif</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?&lt;=%O&quot;</span><span class="id"> :=</span><span class="id"> lteif</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;%O&quot;</span><span class="id"> :=</span><span class="id"> comparable</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span> (<span class="id">comparable</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;= y&quot;</span><span class="id"> :=</span> (<span class="id">ge</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;= y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;= y&quot;</span> <span class="id"> :=</span> (<span class="id">le</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;= y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt; y&quot;</span><span class="id"> :=</span> (<span class="id">gt</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt; y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt; y&quot;</span><span class="id"> :=</span> (<span class="id">lt</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt; y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y&quot;</span><span class="id"> :=</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;= y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;= y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y&quot;</span> <span class="id"> :=</span> (<span class="id">lt</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt; y&quot;</span> <span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt; y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y &lt;= z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y &lt;= z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y &lt; z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y &lt; z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;= y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y ?&lt;= 'if' C&quot;</span><span class="id"> :=</span> (<span class="id">lteif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt; y ?&lt;= 'if' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt; y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> comparable</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt; y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt; y&quot;</span><span class="id"> :=</span> (<span class="id">comparable</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt; y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span><span class="id"> comparable</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt; y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt; y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">comparable</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'min_' ( i &lt; i0 | P ) F ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">arg_min</span><span class="id"> i0</span> (<span class="gallina-kwd">fun</span><span class="id"> i</span><span class="id"> =&gt;</span><span class="id"> P%B</span>) (<span class="gallina-kwd">fun</span><span class="id"> i</span><span class="id"> =&gt;</span><span class="id"> F</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'min_' ( i  &lt;  i0  |  P )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'min_' ( i &lt; i0 'in' A ) F ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[arg</span><span class="id"> min_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> i0</span><span class="id"> |</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> F]</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'min_' ( i  &lt;  i0  'in'  A )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'min_' ( i &lt; i0 ) F ]&quot;</span><span class="id"> :=</span><span class="id"> [arg</span><span class="id"> min_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> i0</span><span class="id"> |</span><span class="id"> true</span>)<span class="id"> F]</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'min_' ( i  &lt;  i0 )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'max_' ( i &gt; i0 | P ) F ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">arg_max</span><span class="id"> i0</span> (<span class="gallina-kwd">fun</span><span class="id"> i</span><span class="id"> =&gt;</span><span class="id"> P%B</span>) (<span class="gallina-kwd">fun</span><span class="id"> i</span><span class="id"> =&gt;</span><span class="id"> F</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'max_' ( i  &gt;  i0  |  P )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'max_' ( i &gt; i0 'in' A ) F ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[arg</span><span class="id"> max_</span>(<span class="id">i</span><span class="id"> &gt;</span><span class="id"> i0</span><span class="id"> |</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> F]</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'max_' ( i  &gt;  i0  'in'  A )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'arg' 'max_' ( i &gt; i0 ) F ]&quot;</span><span class="id"> :=</span><span class="id"> [arg</span><span class="id"> max_</span>(<span class="id">i</span><span class="id"> &gt;</span><span class="id"> i0</span><span class="id"> |</span><span class="id"> true</span>)<span class="id"> F]</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> i,</span><span class="id"> i0</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;[ 'arg'  'max_' ( i  &gt;  i0 )  F ]&quot;</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;f \min g&quot;</span><span class="id"> :=</span> (<span class="id">min_fun</span><span class="id"> f</span><span class="id"> g</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;f \max g&quot;</span><span class="id"> :=</span> (<span class="id">max_fun</span><span class="id"> f</span><span class="id"> g</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> leLHS</span><span class="id"> :=</span> (<span class="id">X</span><span class="gallina-kwd"> in</span> (<span class="id">X</span><span class="id"> &lt;=</span><span class="id"> _</span>)<span class="id">%O</span>)<span class="id">%pattern</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> leRHS</span><span class="id"> :=</span> (<span class="id">X</span><span class="gallina-kwd"> in</span> (_<span class="id"> &lt;=</span><span class="id"> X</span>)<span class="id">%O</span>)<span class="id">%pattern</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> ltLHS</span><span class="id"> :=</span> (<span class="id">X</span><span class="gallina-kwd"> in</span> (<span class="id">X</span><span class="id"> &lt;</span><span class="id"> _</span>)<span class="id">%O</span>)<span class="id">%pattern</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> ltRHS</span><span class="id"> :=</span> (<span class="id">X</span><span class="gallina-kwd"> in</span> (_<span class="id"> &lt;</span><span class="id"> X</span>)<span class="id">%O</span>)<span class="id">%pattern</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span><span class="id"> bottom</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span><span class="id"> top</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> POSyntax</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> POSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> POCoercions</span>.<br/>
<span class="vernacular">Coercion</span><span class="id"> le_of_leif</span><span class="id"> :</span><span class="id"> leif</span><span class="id"> &gt;-&gt;</span><span class="id"> is_true</span>.<br/>
<span class="vernacular">End</span><span class="id"> POCoercions</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> POCoercions</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> POrder_isMeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lexI</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> POrder_isJoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">leUx</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder_isMeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bMeetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BMeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> MeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tMeetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TMeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> MeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbMeetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBMeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BMeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder_isJoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bJoinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BJoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> JoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tJoinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TJoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> JoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbJoinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBJoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BJoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;latticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> JoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder_isMeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BLattice</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TLattice</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBLattice</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> LatticeDef</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp}</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> lel_xor_gt</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> LelNotGt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lel_xor_gt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> true</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> GtlNotLe</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span> <span class="id"> :</span><span class="id"> lel_xor_gt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> true</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> ltl_xor_ge</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> LtlNotGe</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span> <span class="id"> :</span><span class="id"> ltl_xor_ge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> GelNotLt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> :</span><span class="id"> ltl_xor_ge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> false</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> comparel</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> ComparelLt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> :</span><span class="id"> comparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> ComparelGt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> :</span><span class="id"> comparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> ComparelEq</span><span class="id"> of</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span><span class="id"> :</span><span class="id"> comparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> false</span><span class="id"> false</span>.<br/>
<br/>
<span class="vernacular">Variant</span><span class="id"> incomparel</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InComparelLt</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incomparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InComparelGt</span><span class="id"> of</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> :</span><span class="id"> incomparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span><span class="id"> x</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InComparel</span><span class="id"> of</span><span class="id"> x</span><span class="id"> &gt;&lt;</span><span class="id"> y</span> <span class="id"> :</span><span class="id"> incomparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> y</span><span class="id"> y</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">join</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> InComparelEq</span><span class="id"> of</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incomparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> x</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> true</span><span class="id"> false</span><span class="id"> false</span><span class="id"> true</span><span class="id"> true</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> LatticeDef</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> LatticeSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;` y&quot;</span><span class="id"> :=</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|` y&quot;</span><span class="id"> :=</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> LatticeSyntax</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> LatticeSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> BLatticeSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[@join</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> BLatticeSyntax</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> BLatticeSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> TLatticeSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> TLatticeSyntax</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> TLatticeSyntax</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> Lattice_isDistributive</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>)<span class="id"> of</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meetUl</span><span class="id"> :</span><span class="id"> @left_distributive</span><span class="id"> T</span><span class="id"> T</span><span class="id"> meet</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">joinIl</span><span class="id"> :</span><span class="id"> @left_distributive</span><span class="id"> T</span><span class="id"> T</span><span class="id"> join</span><span class="id"> meet;</span> <br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;distrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice_isDistributive</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BDistrLattice</span><span class="id"> d</span><span class="id"> T</span> <span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> DistrLattice_isTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> le_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;orderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> Total</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice_isTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BTotal</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Total</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TTotal</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Total</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBTotal</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> DistrLattice_hasRelativeComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">rcompl</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">rcomplPmeet</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">rcomplPjoin</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;cDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> DistrLattice_hasRelativeComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> CDistrLattice_hasSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">diff</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">diffErcompl</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> x</span><span class="id"> y;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;cbDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> CBDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">CDistrLattice_hasSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> CDistrLattice_hasDualSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">codiff</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">codiffErcompl</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> \top</span><span class="id"> y;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;ctDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> CTDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">CDistrLattice_hasDualSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CBDistrLatticeSyntax</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `\` y&quot;</span><span class="id"> :=</span> (<span class="id">diff</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLatticeSyntax</span>.<br/>
<br/>
<span class="id">#[key=</span><span class="id">&quot;T&quot;</span><span class="id">,</span><span class="id"> primitive]</span><br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> CDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">CTDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> CBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">compl</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">complEdiff</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> `\`</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">complEcodiff</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> codiff</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;ctbDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> CTBDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> CBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> CTDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">CDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CTBDistrLatticeSyntax</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;~` A&quot;</span><span class="id"> :=</span> (<span class="id">compl</span><span class="id"> A</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLatticeSyntax</span>.<br/>
<br/>
<pre class="ssrdoc">
FINITE
</pre>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finBPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinBPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> FinPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> FinPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTBPOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTBPOrder</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> FinBPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finMeetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinMeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> MeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finBMeetSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinBMeetSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> BMeetSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finJoinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinJoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> JoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTJoinSemilatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTJoinSemilattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> TJoinSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinLattice</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTBLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTBLattice</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> DistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTBDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTBDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> TBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTotal</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> Total</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finTBOrderType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinTBTotal</span><span class="id"> d</span><span class="id"> :=</span><span class="id"> {</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> TBTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finCDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinCDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> CDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;finCTBDistrLatticeType&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> FinCTBDistrLattice</span><span class="id"> d</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Finite</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> CTBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> }</span>.<br/>
<br/>
<pre class="ssrdoc">
DUAL
</pre>
<br/>
<span class="vernacular">Definition</span><span class="id"> dual</span><span class="id"> T</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> dual_display</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :=</span><span class="id"> {|</span><span class="id"> d1</span><span class="id"> :=</span><span class="id"> d2</span><span class="id"> d;</span><span class="id"> d2</span><span class="id"> :=</span><span class="id"> d1</span><span class="id"> d</span><span class="id"> |}</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> dual_le</span><span class="id"> :=</span> (<span class="id">@le</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_lt</span><span class="id"> :=</span> (<span class="id">@lt</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_comparable</span><span class="id"> :=</span> (<span class="id">@comparable</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_ge</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_gt</span><span class="id"> :=</span> (<span class="id">@gt</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_leif</span><span class="id"> :=</span> (<span class="id">@leif</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_lteif</span><span class="id"> :=</span> (<span class="id">@lteif</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_max</span><span class="id"> :=</span> (<span class="id">@max</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_min</span><span class="id"> :=</span> (<span class="id">@min</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_meet</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_join</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_bottom</span><span class="id"> :=</span> (<span class="id">@bottom</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> dual_top</span><span class="id"> :=</span> (<span class="id">@top</span> (<span class="id">dual_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> DualSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;T ^d&quot;</span><span class="id"> :=</span> (<span class="id">dual</span><span class="id"> T</span>) (<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 2,</span><span class="id"> format</span> <span class="id">&quot;T ^d&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_le</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_ge</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_lt</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_gt</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_leif</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?&lt;=^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_lteif</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^d%O&quot;</span><span class="id"> :=</span><span class="id"> dual_comparable</span><span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^d%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span><span class="id"> dual_comparable</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^d y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^d%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^d y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^d%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^d%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^d%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^d%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^d y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=^d</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^d y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^d%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;^d</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^d y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y &lt;=^d z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^d</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^d</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y &lt;=^d z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^d</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^d</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y &lt;^d z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^d</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^d</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y &lt;^d z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^d</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^d</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?=^d%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^d y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y ?&lt;= 'if' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?&lt;=^d%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^d y ?&lt;= 'if' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^d x&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^d%O</span><span class="id"> x</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^d%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^d y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span><span class="id"> dual_comparable</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^d y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;^d</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt;^d y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">&gt;&lt;^d%O</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;^d` y&quot;</span><span class="id"> :=</span> (<span class="id">dual_meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|^d` y&quot;</span><span class="id"> :=</span> (<span class="id">dual_join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\bot^d&quot;</span><span class="id"> :=</span><span class="id"> dual_bottom</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\top^d&quot;</span><span class="id"> :=</span><span class="id"> dual_top</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span><span class="id"> dual_bottom</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span><span class="id"> dual_top</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> join</span><span class="id"> :=</span><span class="id"> dual_join</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> meet</span><span class="id"> :=</span><span class="id"> dual_meet</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> min</span><span class="id"> :=</span><span class="id"> dual_min</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> max</span><span class="id"> :=</span><span class="id"> dual_max</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^d_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^d_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^d_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^d_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DualSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DualOrder</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span><span class="id"> T^d</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span><span class="id"> T^d</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><span class="id"> Countable</span>.<span class="id">on</span><span class="id"> T^d</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><span class="id"> Finite</span>.<span class="id">on</span><span class="id"> T^d</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isDuallyPOrder</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">gt_def</span><span class="id"> lt_def</span><span class="id"> ge_refl</span><span class="id"> le_refl</span><span class="id"> ge_anti</span><span class="id"> le_anti</span><span class="id"> ge_trans</span><span class="id"> le_trans</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEdual</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;=^d</span><span class="id"> y</span><span class="id"> :&gt;</span><span class="id"> T^d</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> ltEdual</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;^d</span><span class="id"> y</span><span class="id"> :&gt;</span><span class="id"> T^d</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">hasBottom</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><span class="id"> lex1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEdual</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> d</span>)<span class="id"> :</span> (<span class="id">dual_bottom</span><span class="id"> :</span><span class="id"> T^d</span>)<span class="id"> =</span><span class="id"> \top</span><span class="id"> :&gt;</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">hasTop</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><span class="id"> le0x</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEdual</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> d</span>)<span class="id"> :</span> (<span class="id">dual_top</span><span class="id"> :</span><span class="id"> T^d</span>)<span class="id"> =</span><span class="id"> \bot</span><span class="id"> :&gt;</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder_isMeetSemilattice</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =&gt;</span><span class="id"> leUx</span><span class="id"> y</span><span class="id"> z</span><span class="id"> x</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetEdual</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> d</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;((<span class="id">x</span><span class="id"> :</span><span class="id"> T^d</span>)<span class="id"> `&amp;^d`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder_isJoinSemilattice</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =&gt;</span><span class="id"> lexI</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinEdual</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> d</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;((<span class="id">x</span><span class="id"> :</span><span class="id"> T^d</span>)<span class="id"> `|^d`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">saturate</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice_isDistributive</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><span class="id"> joinIl</span><span class="id"> meetUl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice_isTotal</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> le_total</span><span class="id"> y</span><span class="id"> x</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="id">saturate</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice_hasRelativeComplement</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> rcomplPjoin</span><span class="id"> y</span><span class="id"> x</span>) (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> rcomplPmeet</span><span class="id"> y</span><span class="id"> x</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><span class="id"> codiffErcompl</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">diffErcompl</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CDistrLattice_hasComplement</span>.<span class="id">Build</span> (<span class="id">dual_display</span><span class="id"> d</span>)<span class="id"> T^d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">complEcodiff</span><span class="id"> complEdiff</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">saturate</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DualOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> DualOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
THEORY
</pre>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> POrderTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> POrderTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> nondecreasing</span><span class="id"> disp'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><span class="gallina-kwd"> Prop</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> geE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> ge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> gtE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> gt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexx</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_refl</span>. Qed.</div></details>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> lexx</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le_refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><span class="id"> :=</span><span class="id"> lexx</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ge_refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> ge</span><span class="id"> :=</span><span class="id"> lexx</span>.<br/>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> le_refl</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_anti:</span><span class="id"> antisymmetric</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_anti</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_anti:</span><span class="id"> antisymmetric</span> (<span class="id">&gt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> ge_anti</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_trans:</span><span class="id"> transitive</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_trans:</span><span class="id"> transitive</span> (<span class="id">&gt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /le_trans;</span><span class="id"> apply</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_le_trans</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> +</span><span class="id"> /</span>(<span class="id">le_trans</span><span class="id"> _</span>)<span class="id">/[apply];</span><span class="id"> apply:</span><span class="id"> le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y:</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> lt_def</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_neqAle</span><span class="id"> x</span><span class="id"> y:</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> !=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_def</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxx</span><span class="id"> x:</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_def</span><span class="id"> eqxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> lt_irreflexive</span><span class="id"> :</span><span class="id"> irreflexive</span><span class="id"> lt</span><span class="id"> :=</span><span class="id"> ltxx</span>.<br/>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> lt_irreflexive</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> ltexx</span><span class="id"> :=</span> (<span class="id">lexx,</span><span class="id"> ltxx</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_eqVlt</span><span class="id"> x</span><span class="id"> y:</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle;</span><span class="id"> case:</span><span class="id"> eqP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_eqF</span><span class="id"> x</span><span class="id"> y:</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> ==</span><span class="id"> y</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> [/negbTE-&gt;]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> gt_eqF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> ==</span><span class="id"> y</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_def;</span><span class="id"> case:</span><span class="id"> eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_le</span><span class="id"> x</span><span class="id"> y:</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/eqP/idP</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|/le_anti];</span><span class="id"> rewrite</span><span class="id"> ?lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltW</span><span class="id"> x</span><span class="id"> y:</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_eqVlt</span><span class="id"> orbC</span><span class="id"> =&gt;</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_le_trans</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z:</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> !lt_neqAle</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> [nexy</span><span class="id"> lexy</span><span class="id"> leyz];</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> lexy</span>)<span class="id"> //</span><span class="id"> andbT</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> contraNneq</span><span class="id"> nexy</span><span class="id"> =&gt;</span><span class="id"> eqxz;</span><span class="id"> rewrite</span><span class="id"> eqxz</span><span class="id"> eq_le</span><span class="id"> leyz</span><span class="id"> andbT</span><span class="gallina-kwd"> in</span><span class="id"> lexy</span><span class="id"> *</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_trans:</span><span class="id"> transitive</span> (<span class="id">&lt;%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> le1</span><span class="id"> /ltW</span><span class="id"> le2;</span><span class="id"> apply/</span>(<span class="id">@lt_le_trans</span><span class="id"> y</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_lt_trans</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z:</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_eqVlt</span><span class="id"> =&gt;</span><span class="id"> /orP</span><span class="id"> [/eqP</span><span class="id"> -&gt;|/lt_trans</span><span class="id"> t</span><span class="id"> /t]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_nsym</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> False</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> xy</span><span class="id"> /</span>(<span class="id">lt_trans</span><span class="id"> xy</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_asym</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/negP</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> [];</span><span class="id"> apply:</span><span class="id"> lt_nsym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_gtF</span><span class="id"> x</span><span class="id"> y:</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> le_xy;</span><span class="id"> apply/negP</span><span class="id"> =&gt;</span><span class="id"> /lt_le_trans</span><span class="id"> /</span>(_<span class="id"> le_xy</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_geF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> contraTF</span><span class="id"> =&gt;</span><span class="id"> /le_gtF</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> lt_gtF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> hxy</span><span class="id"> :=</span><span class="id"> le_gtF</span> (<span class="id">@ltW</span><span class="id"> x</span><span class="id"> y</span><span class="id"> hxy</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_leAnge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [ltxy|/andP[lexy</span><span class="id"> Nleyx]];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltW</span><span class="id"> //</span><span class="id"> lt_geF</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> lexy</span><span class="id"> andbT;</span><span class="id"> apply:</span><span class="id"> contraNneq</span><span class="id"> Nleyx</span><span class="id"> =&gt;</span><span class="id"> -&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_le_asym</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> -andbA</span><span class="id"> -eq_le</span><span class="id"> eq_sym</span><span class="id"> andNb</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_lt_asym</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> andbC</span><span class="id"> lt_le_asym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> lte_anti</span><span class="id"> :=</span> (<span class="id">=^~</span><span class="id"> eq_le,</span><span class="id"> lt_asym,</span><span class="id"> lt_le_asym,</span><span class="id"> le_lt_asym</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_path_min</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> all</span> (<span class="id">&gt;=</span><span class="id"> x</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/order_path_min/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_path_min</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> all</span> (<span class="id">&gt;</span><span class="id"> x</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/order_path_min/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_path_sortedE</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> =</span><span class="id"> all</span> (<span class="id">&gt;=</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &amp;&amp;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_sortedE/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_path_sortedE</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> =</span><span class="id"> all</span> (<span class="id">&gt;</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &amp;&amp;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_sortedE/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_pairwise</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> =</span><span class="id"> pairwise</span><span class="id"> &lt;=%O</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_pairwise/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_pairwise</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> =</span><span class="id"> pairwise</span><span class="id"> &lt;%O</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_pairwise/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_path_pairwise</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> =</span><span class="id"> pairwise</span><span class="id"> &lt;=%O</span> (<span class="id">x</span><span class="id"> ::</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_pairwise/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_path_pairwise</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> =</span><span class="id"> pairwise</span><span class="id"> &lt;%O</span> (<span class="id">x</span><span class="id"> ::</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_pairwise/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_uniq_le</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> =</span><span class="id"> uniq</span><span class="id"> s</span><span class="id"> &amp;&amp;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> le_sorted_pairwise</span><span class="id"> lt_sorted_pairwise</span><span class="id"> uniq_pairwise</span><span class="id"> -pairwise_relI</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/eq_pairwise</span><span class="id"> =&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_mask</span><span class="id"> m</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_mask/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_mask</span><span class="id"> m</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_mask/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_filter</span><span class="id"> a</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span> (<span class="id">filter</span><span class="id"> a</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_filter/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_filter</span><span class="id"> a</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span> (<span class="id">filter</span><span class="id"> a</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_filter/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_path_mask</span><span class="id"> x</span><span class="id"> m</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_mask/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_path_mask</span><span class="id"> x</span><span class="id"> m</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_mask/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_path_filter</span><span class="id"> x</span><span class="id"> a</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span> (<span class="id">filter</span><span class="id"> a</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_filter/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_path_filter</span><span class="id"> x</span><span class="id"> a</span><span class="id"> s</span><span class="id"> :</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span> (<span class="id">filter</span><span class="id"> a</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/path_filter/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_ltn_nth</span> (<span class="id">x0</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;<span class="id">{in</span><span class="id"> [pred</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N]</span><span class="id"> &amp;,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{homo</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> j</span>)<span class="id">%N</span><span class="id"> &gt;-&gt;</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_ltn_nth/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_leq_nth</span> (<span class="id">x0</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> [pred</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N]</span><span class="id"> &amp;,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{homo</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span> (<span class="id">i</span><span class="id"> &lt;=</span><span class="id"> j</span>)<span class="id">%N</span><span class="id"> &gt;-&gt;</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_leq_nth/le_refl/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_leq_nth</span> (<span class="id">x0</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> [pred</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N]</span><span class="id"> &amp;,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{mono</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span> (<span class="id">i</span><span class="id"> &lt;=</span><span class="id"> j</span>)<span class="id">%N</span><span class="id"> &gt;-&gt;</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> lt_sorted_uniq_le</span><span class="id"> =&gt;</span><span class="id"> /andP[s_uniq</span><span class="id"> le_s]</span>.<br/>
<span class="id">apply:</span> (<span class="id">total_homo_mono_in</span><span class="id"> _</span><span class="id"> _</span><span class="id"> ltn_neqAle</span><span class="id"> lt_neqAle</span><span class="id"> le_anti</span><span class="id"> leq_total</span>)<span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
<span class="id">move=&gt;</span><span class="id"> i</span><span class="id"> j</span><span class="id"> ilt</span><span class="id"> jlt</span><span class="id"> ltij;</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> le_sorted_leq_nth//</span><span class="id"> 1?ltnW//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> nth_uniq//</span><span class="id"> ltn_eqF</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_ltn_nth</span> (<span class="id">x0</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> [pred</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N]</span><span class="id"> &amp;,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{mono</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> j</span>)<span class="id">%N</span><span class="id"> &gt;-&gt;</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss;</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_sorted_leq_nth</span><span class="id"> x0</span><span class="id"> ss</span>.<br/>
<span class="id">exact:</span> (<span class="id">anti_mono_in</span><span class="id"> _</span><span class="id"> ltn_neqAle</span><span class="id"> lt_neqAle</span><span class="id"> anti_leq</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subseq_le_path</span><span class="id"> x</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> subseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;=%O</span><span class="id"> x</span><span class="id"> s1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/subseq_path/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subseq_lt_path</span><span class="id"> x</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> subseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> path</span><span class="id"> &lt;%O</span><span class="id"> x</span><span class="id"> s1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/subseq_path/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subseq_le_sorted</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> subseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/subseq_sorted/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subseq_lt_sorted</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> subseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/subseq_sorted/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_uniq</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> uniq</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_uniq/ltxx/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sorted_eq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;%O</span><span class="id"> s1</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> s1</span><span class="id"> =i</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> s1</span><span class="id"> =</span><span class="id"> s2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/irr_sorted_eq/ltxx/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sorted_eq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> s1</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> perm_eq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> s1</span><span class="id"> =</span><span class="id"> s2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_eq/le_anti/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> filter_lt_nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">[seq</span><span class="id"> x</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i]</span><span class="id"> =</span><span class="id"> take</span><span class="id"> i</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> i_lt/=;</span><span class="id"> rewrite</span><span class="id"> -[X</span><span class="gallina-kwd"> in</span><span class="id"> filter</span><span class="id"> _</span><span class="id"> X]</span>(<span class="id">mkseq_nth</span><span class="id"> x0</span>)<span class="id"> filter_map</span>.<br/>
<span class="id">under</span><span class="id"> eq_in_filter</span><span class="id"> =&gt;</span><span class="id"> j</span><span class="id"> do</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span><span class="id"> ?mem_iota</span><span class="id"> =&gt;</span><span class="id"> j_s</span><span class="id"> /=;</span><span class="id"> rewrite</span><span class="id"> lt_sorted_ltn_nth//]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">filter_iota_ltn</span><span class="id"> 0</span>)<span class="id"> ?map_nth_iota0</span><span class="id"> //</span><span class="id"> ltnW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> count_lt_nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span>)<span class="id"> s</span><span class="id"> =</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> ss</span><span class="id"> i_lt;</span><span class="id"> rewrite</span><span class="id"> -size_filter/=</span><span class="id"> filter_lt_nth//</span><span class="id"> size_take</span><span class="id"> i_lt</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> filter_le_nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">[seq</span><span class="id"> x</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i]</span><span class="id"> =</span><span class="id"> take</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> i_lt/=;</span><span class="id"> rewrite</span><span class="id"> -[X</span><span class="gallina-kwd"> in</span><span class="id"> filter</span><span class="id"> _</span><span class="id"> X]</span>(<span class="id">mkseq_nth</span><span class="id"> x0</span>)<span class="id"> filter_map</span>.<br/>
<span class="id">under</span><span class="id"> eq_in_filter</span><span class="id"> =&gt;</span><span class="id"> j</span><span class="id"> do</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span><span class="id"> ?mem_iota</span><span class="id"> =&gt;</span><span class="id"> j_s</span><span class="id"> /=;</span><span class="id"> rewrite</span><span class="id"> lt_sorted_leq_nth//]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">filter_iota_leq</span><span class="id"> 0</span>)<span class="id">//</span><span class="id"> map_nth_iota0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> count_le_nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">count</span> (<span class="id">&lt;=</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span>)<span class="id"> s</span><span class="id"> =</span><span class="id"> i</span>.<span class="id">+1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> ss</span><span class="id"> i_lt;</span><span class="id"> rewrite</span><span class="id"> -size_filter/=</span><span class="id"> filter_le_nth//</span><span class="id"> size_takel</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> count_lt_le_mem</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span> (<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &lt;</span><span class="id"> count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id">%N</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> \in</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">have</span><span class="id"> :=</span><span class="id"> count_predUI</span> (<span class="id">pred1</span><span class="id"> x</span>) (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span>.<br/>
<span class="id">have</span><span class="id"> -&gt;</span><span class="id"> :</span><span class="id"> count</span> (<span class="id">predI</span> (<span class="id">pred1</span><span class="id"> x</span>) (<span class="id">&lt;</span><span class="id"> x</span>))<span class="id"> s</span><span class="id"> =</span><span class="id"> 0%N</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@eq_count</span><span class="id"> _</span><span class="id"> _</span><span class="id"> pred0</span>)<span class="id"> ?count_pred0</span><span class="id"> //</span><span class="id"> =&gt;</span><span class="id"> y</span><span class="id"> /=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lt_def;</span><span class="id"> case:</span><span class="id"> eqP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> eqxx</span>.<br/>
<span class="id">have</span><span class="id"> /eq_count-&gt;</span><span class="id"> :</span><span class="id"> [predU1</span><span class="id"> x</span><span class="id"> &amp;</span><span class="id"> &lt;</span><span class="id"> x]</span><span class="id"> =1</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> y</span><span class="id"> /=;</span><span class="id"> rewrite</span><span class="id"> le_eqVlt</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> addn0</span><span class="id"> =&gt;</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> -add1n</span><span class="id"> leq_add2r</span><span class="id"> -has_count</span><span class="id"> has_pred1</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_filter_lt</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> [seq</span><span class="id"> y</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x]</span><span class="id"> =</span><span class="id"> take</span> (<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> s</span><span class="id"> =&gt;</span><span class="id"> [//|y</span><span class="id"> s</span><span class="id"> IHs]/=;</span><span class="id"> rewrite</span> (<span class="id">path_sortedE</span><span class="id"> le_trans</span>)<span class="id"> =&gt;</span><span class="id"> /andP[le_y_s</span><span class="id"> ss]</span>.<br/>
<span class="id">case:</span><span class="id"> ifP</span><span class="id"> =&gt;</span><span class="id"> [|ltyxF];</span><span class="id"> rewrite</span><span class="id"> IHs//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@eq_in_count</span><span class="id"> _</span><span class="id"> _</span><span class="id"> pred0</span>)<span class="id"> ?count_pred0/=</span><span class="id"> ?take0//</span><span class="id"> =&gt;</span><span class="id"> z</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /</span>(<span class="id">allP</span><span class="id"> le_y_s</span>)<span class="id"> yz;</span><span class="id"> apply:</span><span class="id"> contraFF</span><span class="id"> ltyxF;</span><span class="id"> apply:</span><span class="id"> le_lt_trans</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_filter_le</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> [seq</span><span class="id"> y</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x]</span><span class="id"> =</span><span class="id"> take</span> (<span class="id">count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> s</span><span class="id"> =&gt;</span><span class="id"> [//|y</span><span class="id"> s</span><span class="id"> IHs]/=;</span><span class="id"> rewrite</span> (<span class="id">path_sortedE</span><span class="id"> le_trans</span>)<span class="id"> =&gt;</span><span class="id"> /andP[le_y_s</span><span class="id"> ss]</span>.<br/>
<span class="id">case:</span><span class="id"> ifP</span><span class="id"> =&gt;</span><span class="id"> [|leyxF];</span><span class="id"> rewrite</span><span class="id"> IHs//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@eq_in_count</span><span class="id"> _</span><span class="id"> _</span><span class="id"> pred0</span>)<span class="id"> ?count_pred0/=</span><span class="id"> ?take0//</span><span class="id"> =&gt;</span><span class="id"> z</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /</span>(<span class="id">allP</span><span class="id"> le_y_s</span>)<span class="id"> yz;</span><span class="id"> apply:</span><span class="id"> contraFF</span><span class="id"> leyxF;</span><span class="id"> apply:</span><span class="id"> le_trans</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_count_le</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> iltc;</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">nth_take</span><span class="id"> _</span><span class="id"> iltc</span>)<span class="id"> -sorted_filter_le</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/</span>(<span class="id">all_nthP</span><span class="id"> _</span> (<span class="id">filter_all</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> _</span>))<span class="id">;</span><span class="id"> rewrite</span><span class="id"> size_filter</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_count_lt</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> iltc;</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">nth_take</span><span class="id"> _</span><span class="id"> iltc</span>)<span class="id"> -sorted_filter_lt</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/</span>(<span class="id">all_nthP</span><span class="id"> _</span> (<span class="id">filter_all</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> _</span>))<span class="id">;</span><span class="id"> rewrite</span><span class="id"> size_filter</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sort_le_id</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> =</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_sort/le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sort_lt_id</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> sort</span><span class="id"> &lt;%O</span><span class="id"> s</span><span class="id"> =</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_sort/lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_leNgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> c_xy;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [/le_gtF/negP/negP//|];</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move:</span><span class="id"> c_xy</span><span class="id"> =&gt;</span><span class="id"> /orP</span><span class="id"> []</span><span class="id"> -&gt;</span><span class="id"> //;</span><span class="id"> rewrite</span><span class="id"> andbT</span><span class="id"> negbK</span><span class="id"> =&gt;</span><span class="id"> /eqP</span><span class="id"> -&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_ltNge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> c_xy;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [/lt_geF/negP/negP//|]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> eq_le;</span><span class="id"> move:</span><span class="id"> c_xy</span><span class="id"> =&gt;</span><span class="id"> /orP</span><span class="id"> []</span><span class="id"> -&gt;</span><span class="id"> //;</span><span class="id"> rewrite</span><span class="id"> andbT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_ltgtP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">compare</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> ==</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /min</span><span class="id"> /max</span><span class="id"> /&gt;=&lt;%O</span><span class="id"> !le_eqVlt</span><span class="id"> [y</span><span class="id"> ==</span><span class="id"> x]eq_sym</span>.<br/>
<span class="id">have</span><span class="id"> :=</span> (<span class="id">eqVneq</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">boolP</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">,</span><span class="id"> boolP</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>))).<br/>
<span class="id">move=&gt;</span><span class="id"> [[-&gt;//|neq_xy</span><span class="id"> /=]</span><span class="id"> [[]</span><span class="id"> xy</span><span class="id"> []</span><span class="id"> //=]]</span><span class="id"> ;</span><span class="id"> do</span><span class="id"> ?by</span><span class="id"> rewrite</span><span class="id"> ?ltxx;</span><span class="id"> constructor</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> ltxx</span><span class="gallina-kwd"> in</span><span class="id"> xy</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> le_gtF</span><span class="id"> //</span><span class="id"> ltW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_leP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">le_xor_gt</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /comparable_ltgtP</span><span class="id"> [?|?|-&gt;];</span><span class="id"> constructor;</span><span class="id"> rewrite</span><span class="id"> //</span><span class="id"> ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_ltP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">lt_xor_ge</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /comparable_ltgtP</span><span class="id"> [?|?|-&gt;];</span><span class="id"> constructor;</span><span class="id"> rewrite</span><span class="id"> //</span><span class="id"> ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_sym</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /comparable</span><span class="id"> orbC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparablexx</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /comparable</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> incomparable_eqF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &gt;&lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> contraNF</span><span class="id"> =&gt;</span><span class="id"> /eqP</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> comparablexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> incomparable_leF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &gt;&lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> contraNF;</span><span class="id"> rewrite</span><span class="id"> /comparable</span><span class="id"> =&gt;</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> incomparable_ltF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &gt;&lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> =&gt;</span><span class="id"> /incomparable_leF</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> andbF</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparableP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incompare</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;(<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> ==</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> ![y</span><span class="id"> &gt;=&lt;</span><span class="id"> _]comparable_sym;</span><span class="id"> have</span><span class="id"> [c_xy|i_xy]</span><span class="id"> :=</span><span class="id"> boolP</span> (<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparable_ltgtP</span><span class="id"> c_xy</span>)<span class="id"> =&gt;</span><span class="id"> ?;</span><span class="id"> constructor</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> /min</span><span class="id"> /max</span><span class="id"> ?incomparable_eqF</span><span class="id"> ?incomparable_leF;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ?incomparable_ltF//</span><span class="id"> 1?comparable_sym</span><span class="id"> //;</span><span class="id"> constructor</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_comparable</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_comparable</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_comparable</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> gt_comparable</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leifP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>) (<span class="gallina-kwd">if</span><span class="id"> C</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="id"> ==</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /leif</span><span class="id"> le_eqVlt;</span><span class="id"> apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id">=&gt;</span><span class="id"> [|[]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> [/eqP-&gt;|lxy];</span><span class="id"> rewrite</span><span class="id"> ?eqxx</span><span class="id"> //</span><span class="id"> lxy</span><span class="id"> lt_eqF</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /orP[/eqP-&gt;|lxy]</span><span class="id"> &lt;-;</span><span class="id"> rewrite</span><span class="id"> ?eqxx</span><span class="id"> //</span><span class="id"> lt_eqF</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leif_refl</span><span class="id"> x</span><span class="id"> C</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [-&gt;</span><span class="id"> |</span><span class="id"> &lt;-]</span><span class="id"> //;</span><span class="id"> split;</span><span class="id"> rewrite</span><span class="id"> ?eqxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leif_trans</span><span class="id"> x1</span><span class="id"> x2</span><span class="id"> x3</span><span class="id"> C12</span><span class="id"> C23</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C12</span><span class="id"> -&gt;</span><span class="id"> x2</span><span class="id"> &lt;=</span><span class="id"> x3</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C23</span><span class="id"> -&gt;</span><span class="id"> x1</span><span class="id"> &lt;=</span><span class="id"> x3</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C12</span><span class="id"> &amp;&amp;</span><span class="id"> C23</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ltx12</span><span class="id"> ltx23;</span><span class="id"> apply/leifP;</span><span class="id"> rewrite</span><span class="id"> -ltx12</span>.<br/>
<span class="id">case</span><span class="id"> eqx12:</span> (<span class="id">x1</span><span class="id"> ==</span><span class="id"> x2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">eqP</span><span class="id"> eqx12</span>)<span class="id"> lt_neqAle</span><span class="id"> !ltx23</span><span class="id"> andbT;</span><span class="id"> case</span><span class="id"> C23</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">@lt_le_trans</span><span class="id"> x2</span>)<span class="id"> ?ltx23</span><span class="id"> //</span><span class="id"> lt_neqAle</span><span class="id"> eqx12</span><span class="id"> ltx12</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leif_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span> (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> lexy;</span><span class="id"> split=&gt;</span><span class="id"> //;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> lexy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leif_eq</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case=&gt;</span><span class="id"> le_xy;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> le_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~~</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> le_xy;</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> !le_xy</span><span class="id"> andbT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltNleif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> ~~</span><span class="id"> C</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /lt_leif;</span><span class="id"> rewrite</span><span class="id"> negbK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_leif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /leifP;</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eqTleif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span><span class="id"> -&gt;</span><span class="id"> C</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /eq_leif&lt;-/eqP</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_trans</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C1</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C2</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C1</span><span class="id"> &amp;&amp;</span><span class="id"> C2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> =&gt;</span><span class="id"> [][];</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span><span class="id"> le_trans</span><span class="id"> |</span><span class="id"> exact:</span><span class="id"> le_lt_trans</span><span class="id"> |</span><span class="id"> exact:</span><span class="id"> lt_le_trans</span><span class="id"> |</span><span class="id"> exact:</span><span class="id"> lt_trans]</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_anti</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C2</span>)<span class="id"> =</span><span class="id"> C1</span><span class="id"> &amp;&amp;</span><span class="id"> C2</span><span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> =&gt;</span><span class="id"> [][];</span><span class="id"> rewrite</span><span class="id"> lte_anti</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifxx</span><span class="id"> x</span><span class="id"> C</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> ltexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifNF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> ~~</span><span class="id"> C</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span><span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> [/lt_geF|/le_gtF]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifS</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> /ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifT</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> true</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifF</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> false</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_orb</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> {morph</span><span class="id"> lteif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> p</span><span class="id"> q</span><span class="id"> /</span><span class="id"> p</span><span class="id"> ||</span><span class="id"> q}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case=&gt;</span><span class="id"> [][]</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_andb</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> {morph</span><span class="id"> lteif</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> p</span><span class="id"> q</span><span class="id"> /</span><span class="id"> p</span><span class="id"> &amp;&amp;</span><span class="id"> q}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case=&gt;</span><span class="id"> [][]</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_imply</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> C1</span><span class="id"> ==&gt;</span><span class="id"> C2</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C1</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C1</span><span class="id"> C2</span><span class="id"> =&gt;</span><span class="id"> [][]</span><span class="id"> //=</span><span class="id"> _</span><span class="id"> /ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifW</span><span class="id"> C</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> /ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltrW_lteif</span><span class="id"> C</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> /ltW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifN</span><span class="id"> C</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> ~~</span><span class="id"> C</span><span class="id"> -&gt;</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minElt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxElt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minEle</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxEle</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minEgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxEgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> comparable_minEge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxEge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_l</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> min_r</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> max_l</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> max_r</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minxx</span><span class="id"> :</span><span class="id"> idempotent_op</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /min</span><span class="id"> =&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxxx</span><span class="id"> :</span><span class="id"> idempotent_op</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /max</span><span class="id"> =&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_minl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> eqxx;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_maxr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> eqxx;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_idPl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -eq_minl;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_idPr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -eq_maxr;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_minKx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_minxK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_maxKx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_maxxK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minl</span><span class="id"> z</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> /min;</span><span class="id"> case:</span><span class="id"> ifP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minr</span><span class="id"> z</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> &gt;=&lt;%O</span><span class="id"> z</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> /min;</span><span class="id"> case:</span><span class="id"> ifP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxl</span><span class="id"> z</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> /max;</span><span class="id"> case:</span><span class="id"> ifP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxr</span><span class="id"> z</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> &gt;=&lt;%O</span><span class="id"> z</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> /max;</span><span class="id"> case:</span><span class="id"> ifP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> Comparable2</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">cmp_xy</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minC</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> min</span><span class="id"> y</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxC</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> max</span><span class="id"> y</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_eq_minr</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> eqxx;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_eq_maxl</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> eqxx;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_min_idPr</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -comparable_eq_minr;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_max_idPl</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -comparable_eq_maxl;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_le_min</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?andbb//;</span><span class="id"> last</span><span class="id"> rewrite</span><span class="id"> andbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [/lt_trans</span><span class="id"> xlt/xlt|-&gt;]</span><span class="id"> /ltW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_ge_min</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?orbb//;</span><span class="id"> last</span><span class="id"> rewrite</span><span class="id"> orbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> xy</span><span class="id"> _;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|/orP[]]//;</span><span class="id"> apply/le_trans/ltW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lt_min</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?andbb//;</span><span class="id"> last</span><span class="id"> rewrite</span><span class="id"> andbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> /lt_trans</span><span class="id"> xlt/xlt</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_gt_min</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?orbb//;</span><span class="id"> last</span><span class="id"> rewrite</span><span class="id"> orbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> xy</span><span class="id"> _;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|/orP[]]//;</span><span class="id"> apply/lt_trans</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_le_max</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?orbb//;</span><span class="id"> first</span><span class="id"> rewrite</span><span class="id"> orbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> xy</span><span class="id"> _;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|/orP[]]//</span><span class="id"> /le_trans-&gt;//;</span><span class="id"> apply/ltW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_ge_max</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?andbb//;</span><span class="id"> first</span><span class="id"> rewrite</span><span class="id"> andbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [ylt</span><span class="id"> /lt_trans</span><span class="id"> /</span>(_<span class="id"> _</span>)<span class="id">/ltW|-&gt;/ltW]-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lt_max</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?orbb//;</span><span class="id"> first</span><span class="id"> rewrite</span><span class="id"> orbC;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> xy</span><span class="id"> _;</span><span class="id"> apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|/orP[]]//</span><span class="id"> /lt_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_gt_max</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [||&lt;-//];</span><span class="id"> rewrite</span><span class="id"> ?andbb//;</span><span class="id"> first</span><span class="id"> rewrite</span><span class="id"> andbC;</span><br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> ylt</span><span class="id"> /lt_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minxK</span><span class="id"> :</span><span class="id"> max</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minKx</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxxK</span><span class="id"> :</span><span class="id"> min</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxKx</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id"> ltxx/=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> cmp_xy</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lteifNE</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> ~~</span><span class="id"> C</span><span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lteif_minr</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">z</span><span class="id"> &lt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">comparable_le_min,</span><span class="id"> comparable_lt_min</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lteif_minl</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">comparable_ge_min,</span><span class="id"> comparable_gt_min</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lteif_maxr</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">z</span><span class="id"> &lt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">comparable_le_max,</span><span class="id"> comparable_lt_max</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_lteif_maxl</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">comparable_ge_max,</span><span class="id"> comparable_gt_max</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Comparable2</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Comparable3</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">cmp_xy</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>) (<span class="id">cmp_xz</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span>) (<span class="id">cmp_yz</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span>).<br/>
<span class="vernacular">Let</span><span class="id"> P</span><span class="id"> :=</span><span class="id"> comparableP</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minA</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id">/=</span>.<br/>
<span class="id">move:</span> (<span class="id">P</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">P</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">P</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> [xy|xy|xy|&lt;-]</span><span class="id"> [xz|xz|xz|&lt;-]//</span><span class="id"> []//=</span><span class="id"> yz</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> yz</span><span class="id"> xz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> xz</span><span class="id"> yz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span><span class="id"> xz;</span><span class="id"> rewrite</span><span class="id"> yz</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxA</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id">/=</span>.<br/>
<span class="id">move:</span> (<span class="id">P</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">P</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">P</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> [xy|xy|xy|&lt;-]</span><span class="id"> [xz|xz|xz|&lt;-]//</span><span class="id"> []//=</span><span class="id"> yz</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> yz</span><span class="id"> xz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> xz</span><span class="id"> yz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span><span class="id"> xz;</span><span class="id"> rewrite</span><span class="id"> yz</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_max_minl</span><span class="id"> :</span><span class="id"> max</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span><span class="id"> =</span><span class="id"> min</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id">/=</span>.<br/>
<span class="id">move:</span> (<span class="id">P</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">P</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">P</span><span class="id"> y</span><span class="id"> z</span>).<br/>
<span class="id">move=&gt;</span><span class="id"> [xy|xy|xy|&lt;-]</span><span class="id"> [xz|xz|xz|&lt;-]</span><span class="id"> [yz|yz|yz|//-&gt;]//=</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> ?ltxx//</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> yz</span><span class="id"> xz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> xz</span><span class="id"> yz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_min_maxl</span><span class="id"> :</span><span class="id"> min</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span><span class="id"> =</span><span class="id"> max</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">min</span><span class="id"> y</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_xz</span><span class="id"> cmp_yz;</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>)<span class="id">/=</span>.<br/>
<span class="id">move:</span> (<span class="id">P</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">P</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">P</span><span class="id"> y</span><span class="id"> z</span>).<br/>
<span class="id">move=&gt;</span><span class="id"> [xy|xy|xy|&lt;-]</span><span class="id"> [xz|xz|xz|&lt;-]</span><span class="id"> []yz//=</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> ?ltxx//</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> yz</span><span class="id"> xz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span> (<span class="id">lt_trans</span><span class="id"> xz</span><span class="id"> yz</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span><span class="id"> xz;</span><span class="id"> rewrite</span><span class="id"> yz</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Comparable3</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Comparable4</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> w</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">cmp_xy</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>) (<span class="id">cmp_zw</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> w</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_le_min2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> w</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">Order</span>.<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> Order</span>.<span class="id">min</span><span class="id"> z</span><span class="id"> w</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_zw</span><span class="id"> =&gt;</span><span class="id"> /comparable_leP[]</span><span class="id"> xy</span><span class="id"> /comparable_leP[]</span><span class="id"> zw</span><span class="id"> //</span><span class="id"> xz</span><span class="id"> yw</span>.<br/>
<span class="id">-</span><span class="id"> exact:</span><span class="id"> le_trans</span><span class="id"> xy</span><span class="id"> yw</span>.<br/>
<span class="id">-</span><span class="id"> exact:</span><span class="id"> le_trans</span> (<span class="id">ltW</span><span class="id"> xy</span>)<span class="id"> xz</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_le_max2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> w</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">Order</span>.<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> Order</span>.<span class="id">max</span><span class="id"> z</span><span class="id"> w</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move:</span><span class="id"> cmp_xy</span><span class="id"> cmp_zw</span><span class="id"> =&gt;</span><span class="id"> /comparable_leP[]</span><span class="id"> xy</span><span class="id"> /comparable_leP[]</span><span class="id"> zw</span><span class="id"> //</span><span class="id"> xz</span><span class="id"> yw</span>.<br/>
<span class="id">-</span><span class="id"> exact:</span><span class="id"> le_trans</span><span class="id"> yw</span> (<span class="id">ltW</span><span class="id"> zw</span>).<br/>
<span class="id">-</span><span class="id"> exact:</span><span class="id"> le_trans</span><span class="id"> xz</span><span class="id"> zw</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Comparable4</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minAC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span><span class="id"> =</span><span class="id"> min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> z</span>)<span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> -comparable_minA//</span><span class="id"> [min</span><span class="id"> y</span><span class="id"> z]comparable_minC//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> comparable_minA//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxAC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> z</span><span class="id"> =</span><span class="id"> max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> z</span>)<span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> -comparable_maxA//</span><span class="id"> [max</span><span class="id"> y</span><span class="id"> z]comparable_maxC//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> comparable_maxA//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minCA</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">min</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> min</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> comparable_minA//</span><span class="id"> [min</span><span class="id"> x</span><span class="id"> y]comparable_minC//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -comparable_minA//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxCA</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">max</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> max</span><span class="id"> y</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> comparable_maxA//</span><span class="id"> [max</span><span class="id"> x</span><span class="id"> y]comparable_maxC//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -comparable_maxA//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_minACA</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">min</span><span class="id"> z</span><span class="id"> t</span>)<span class="id"> =</span><span class="id"> min</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">min</span><span class="id"> y</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> xt</span><span class="id"> yz</span><span class="id"> yt</span><span class="id"> zt;</span><span class="id"> rewrite</span><span class="id"> comparable_minA//</span><span class="id"> ?comparable_minl//</span>.<br/>
<span class="id">rewrite</span><span class="id"> [min</span><span class="id"> _</span><span class="id"> z]comparable_minAC//</span><span class="id"> -comparable_minA//</span><span class="id"> ?comparable_minl//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> inE</span><span class="id"> comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_maxACA</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> z</span><span class="id"> t</span>)<span class="id"> =</span><span class="id"> max</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> xt</span><span class="id"> yz</span><span class="id"> yt</span><span class="id"> zt;</span><span class="id"> rewrite</span><span class="id"> comparable_maxA//</span><span class="id"> ?comparable_maxl//</span>.<br/>
<span class="id">rewrite</span><span class="id"> [max</span><span class="id"> _</span><span class="id"> z]comparable_maxAC//</span><span class="id"> -comparable_maxA//</span><span class="id"> ?comparable_maxl//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> inE</span><span class="id"> comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_max_minr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">max</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> min</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> ![max</span><span class="id"> x</span><span class="id"> _]comparable_maxC//</span><span class="id"> ?comparable_minr//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> comparable_max_minl//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_min_maxr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &gt;=&lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">min</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span><span class="id"> max</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xy</span><span class="id"> xz</span><span class="id"> yz;</span><span class="id"> rewrite</span><span class="id"> ![min</span><span class="id"> x</span><span class="id"> _]comparable_minC//</span><span class="id"> ?comparable_maxr//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> comparable_min_maxl//</span><span class="id"> 1?comparable_sym</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> ArgExtremum</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">i0</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>) (<span class="id">Pi0</span><span class="id"> :</span><span class="id"> P</span><span class="id"> i0</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">F_comparable</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> P</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> i</span><span class="id"> j,</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=&lt;</span><span class="id"> F</span><span class="id"> j}</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_arg_minP:</span><span class="id"> extremum_spec</span><span class="id"> &lt;=%O</span><span class="id"> P</span><span class="id"> F</span> (<span class="id">arg_min</span><span class="id"> i0</span><span class="id"> P</span><span class="id"> F</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> extremum_inP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [x</span><span class="id"> _|y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _];</span><span class="id"> [apply:</span><span class="id"> lexx|apply:</span><span class="id"> le_trans]</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_arg_maxP:</span><span class="id"> extremum_spec</span><span class="id"> &gt;=%O</span><span class="id"> P</span><span class="id"> F</span> (<span class="id">arg_max</span><span class="id"> i0</span><span class="id"> P</span><span class="id"> F</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span><span class="id"> extremum_inP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> [x</span><span class="id"> _|y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _|];</span><span class="id"> [exact:</span><span class="id"> lexx|exact:</span><span class="id"> ge_trans|]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> xP</span><span class="id"> yP;</span><span class="id"> rewrite</span><span class="id"> orbC</span><span class="id"> [_</span><span class="id"> ||</span><span class="id"> _]F_comparable</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> ArgExtremum</span>.<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mono_in_leif</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">f</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id">}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> mf</span><span class="id"> x</span><span class="id"> y</span><span class="id"> Ax</span><span class="id"> Ay;</span><span class="id"> rewrite</span><span class="id"> /leif</span><span class="id"> !eq_le</span><span class="id"> !mf</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mono_leif</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">f</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> mf</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /leif</span><span class="id"> !eq_le</span><span class="id"> !mf</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nmono_in_leif</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">f</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id">}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> mf</span><span class="id"> x</span><span class="id"> y</span><span class="id"> Ax</span><span class="id"> Ay;</span><span class="id"> rewrite</span><span class="id"> /leif</span><span class="id"> !eq_le</span><span class="id"> !mf</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nmono_leif</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> C</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">f</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> y</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> mf</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /leif</span><span class="id"> !eq_le</span><span class="id"> !mf</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_bigl</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> op</span><span class="id"> I</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>)<span class="id"> F</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> z,</span><span class="id"> op</span><span class="id"> y</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> x}</span><span class="id"> -&gt;</span><span class="id"> x0</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> P,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=&lt;</span><span class="id"> x}</span><span class="id"> -&gt;</span><span class="id"> \big[op/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> elim/big_ind</span><span class="id"> :</span><span class="id"> _</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_bigr</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> op</span><span class="id"> I</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>)<span class="id"> F</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> &gt;=&lt;%O</span><span class="id"> x</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> z,</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> op</span><span class="id"> y</span><span class="id"> z}</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> x0</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> P,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> F</span><span class="id"> i}</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> \big[op/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> elim/big_ind</span><span class="id"> :</span><span class="id"> _</span>. Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> bigminmax</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>) (<span class="id">x0</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_le</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> elim/big_ind:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> maxEle;</span><span class="id"> case:</span><span class="id"> ifPn</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_lt</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> elim/big_ind:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> maxElt;</span><span class="id"> case:</span><span class="id"> ifPn</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_bigmin</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> x0</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> &lt;</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> f</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> elim/big_ind:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> minElt;</span><span class="id"> case:</span><span class="id"> ifPn</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> x0</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> f</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> elim/big_ind:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> minEle;</span><span class="id"> case:</span><span class="id"> ifPn</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> bigminmax</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> POrderTheory</span>.<br/>
<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> comparable_minr</span><span class="id"> comparable_minl</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> comparable_maxr</span><span class="id"> comparable_maxl</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> ContraTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1}</span><span class="id"> {T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> T2</span>) (<span class="id">b</span><span class="id"> :</span><span class="id"> bool</span>) (<span class="id">m</span><span class="id"> n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">P</span><span class="id"> :</span><span class="gallina-kwd"> Prop</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraTle</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraTlt</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraPle</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span>(_<span class="id"> isT</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraPlt</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span>(_<span class="id"> isT</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraNle</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraNlt</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_not_le</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">~</span><span class="id"> P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span>(_<span class="id"> isT</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_not_lt</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">~</span><span class="id"> P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /</span>(_<span class="id"> isT</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraFle</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> =</span><span class="id"> false</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /implyP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contraFlt</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> =</span><span class="id"> false</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> _</span><span class="id"> /implyP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_leT</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_ltT</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_leN</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_ltN</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_le_not</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> PF</span><span class="id"> _</span><span class="id"> /PF</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_lt_not</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> PF</span><span class="id"> _</span><span class="id"> /PF</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_leF</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span><span class="id"> =</span><span class="id"> false</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> /implyP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_ltF</span><span class="id"> b</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> b</span><span class="id"> =</span><span class="id"> false</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> b</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> _</span><span class="id"> /implyP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_leq_le</span><span class="id"> m</span><span class="id"> n</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_leq_lt</span><span class="id"> m</span><span class="id"> n</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_ltn_le</span><span class="id"> m</span><span class="id"> n</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_ltn_lt</span><span class="id"> m</span><span class="id"> n</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_le_leq</span><span class="id"> x</span><span class="id"> y</span><span class="id"> m</span><span class="id"> n</span><span class="id"> :</span> ((<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_le_ltn</span><span class="id"> x</span><span class="id"> y</span><span class="id"> m</span><span class="id"> n</span><span class="id"> :</span> ((<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_lt_leq</span><span class="id"> x</span><span class="id"> y</span><span class="id"> m</span><span class="id"> n</span><span class="id"> :</span> ((<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_lt_ltn</span><span class="id"> x</span><span class="id"> y</span><span class="id"> m</span><span class="id"> n</span><span class="id"> :</span> ((<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> comparableP;</span><span class="id"> case:</span><span class="id"> ltngtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2![case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_le_lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2![case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_lt_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2![case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparable_contra_lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &gt;=&lt;</span><span class="id"> t</span><span class="id"> -&gt;</span><br/>
&nbsp;(<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2![case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?]</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> ContraTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrderMonotonyTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp}</span><span class="id"> {T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'}</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">D</span><span class="id"> D'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> leT_anti</span><span class="id"> :=</span><span class="id"> @le_anti</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> lexx</span><span class="id"> lt_neqAle</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> ge_antiT</span><span class="id"> :</span><span class="id"> antisymmetric</span> (<span class="id">&gt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /le_anti</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltW_homo</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> homoW</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltW_nhomo</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homoW=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inj_homo_lt</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">injective</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> inj_homo</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inj_nhomo_lt</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">injective</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> inj_homo=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inc_inj</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> injective</span><span class="id"> f</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> mono_inj</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> dec_inj</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> injective</span><span class="id"> f</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> mono_inj</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leW_mono</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> anti_mono</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leW_nmono</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> anti_mono=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltW_homo_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> homoW_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltW_nhomo_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homoW_in=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inj_homo_lt_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> injective</span><span class="id"> f}</span><span class="id"> -&gt;</span> <span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> inj_homo_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inj_nhomo_lt_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> injective</span><span class="id"> f}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;</span><span class="id"> D',</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> inj_homo_in=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> inc_inj_in</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> injective</span><span class="id"> f}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> mono_inj_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> dec_inj_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> injective</span><span class="id"> f}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> mono_inj_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leW_mono_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> anti_mono_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leW_nmono_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> anti_mono_in=&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrderMonotonyTheory</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> POrderTheory</span>.<br/>
<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> lexx</span><span class="id"> le_refl</span><span class="id"> ltxx</span><span class="id"> lt_irreflexive</span><span class="id"> ltW</span><span class="id"> lt_eqF</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Arguments</span><span class="id"> leifP</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> leif_refl</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> C}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> mono_in_leif</span><span class="id"> [disp</span><span class="id"> T</span><span class="id"> A</span><span class="id"> f</span><span class="id"> C]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nmono_in_leif</span><span class="id"> [disp</span><span class="id"> T</span><span class="id"> A</span><span class="id"> f</span><span class="id"> C]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> mono_leif</span><span class="id"> [disp</span><span class="id"> T</span><span class="id"> f</span><span class="id"> C]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nmono_leif</span><span class="id"> [disp</span><span class="id"> T</span><span class="id"> f</span><span class="id"> C]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> min_idPl</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> max_idPr</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> comparable_min_idPr</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y</span><span class="id"> _}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> comparable_max_idPl</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y</span><span class="id"> _}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> BPOrderTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BPOrderTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le0x</span><span class="id"> x</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> &lt;=</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltx0</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> \bot</span>)<span class="id"> =</span><span class="id"> false</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/le_gtF/le0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lex0</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> \bot</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_eqVlt</span><span class="id"> ltx0</span><span class="id"> orbF</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt0x</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">\bot</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> !=</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_def</span><span class="id"> le0x</span><span class="id"> andbT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Variant</span><span class="id"> eq0_xor_gt0</span><span class="id"> x</span><span class="id"> :</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="id"> bool</span><span class="id"> -&gt;</span><span class="gallina-kwd"> Set</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Eq0NotPOs</span><span class="id"> :</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> eq0_xor_gt0</span><span class="id"> x</span><span class="id"> true</span><span class="id"> false</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> POsNotEq0</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> eq0_xor_gt0</span><span class="id"> x</span><span class="id"> false</span><span class="id"> true</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> posxP</span><span class="id"> x</span><span class="id"> :</span><span class="id"> eq0_xor_gt0</span><span class="id"> x</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \bot</span>) (<span class="id">\bot</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt0x;</span><span class="id"> have</span><span class="id"> []</span><span class="id"> :=</span><span class="id"> eqVneq;</span><span class="id"> constructor;</span><span class="id"> rewrite</span><span class="id"> ?lt0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrderTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> BPOrderTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TPOrderTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TPOrderTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lex1</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> \top</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> lex1</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lt1x</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">\top</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> false</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@ltx0</span><span class="id"> _</span><span class="id"> T^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> le1x</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">\top</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \top</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@lex0</span><span class="id"> _</span><span class="id"> T^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> ltx1</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> \top</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> !=</span><span class="id"> \top</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@lt0x</span><span class="id"> _</span><span class="id"> T^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrderTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TPOrderTheory</span>.<br/>
<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Extern</span><span class="id"> 0</span> (<span class="id">is_true</span> (<span class="id">\bot</span><span class="id"> &lt;=</span><span class="id"> _</span>))<span class="id"> =&gt;</span><span class="id"> exact:</span><span class="id"> le0x</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Extern</span><span class="id"> 0</span> (<span class="id">is_true</span> (_<span class="id"> &lt;=</span><span class="id"> \top</span>))<span class="id"> =&gt;</span><span class="id"> exact:</span><span class="id"> lex1</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> MeetTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> MeetTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> lexI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> have:=</span><span class="id"> le_refl</span> (<span class="id">meet</span><span class="id"> y</span><span class="id"> x</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> have:=</span><span class="id"> le_refl</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIxl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/le_trans/leIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIxr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/le_trans/leIr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIx2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case/orP</span><span class="id"> =&gt;</span><span class="id"> [/leIxl|/leIxr]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> lexI</span><span class="id"> leIl</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_meetl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/esym/leEmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_meetr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> lexI</span><span class="id"> leIr</span><span class="id"> lexx</span><span class="id"> andbT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet_idPl</span><span class="id"> {x</span><span class="id"> y}</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -eq_meetl;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meet_idPr</span><span class="id"> {x</span><span class="id"> y}</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -eq_meetr;</span><span class="id"> apply/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet_l</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/meet_idPl</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meet_r</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/meet_idPr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIidl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> lexx</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> leIidr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> lexx</span><span class="id"> andbT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leI2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `&amp;`</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> xz</span><span class="id"> yt;</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> !leIx2</span><span class="id"> ?xz</span><span class="id"> ?yt</span><span class="id"> ?orbT</span><span class="id"> //</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetC</span><span class="id"> :</span><span class="id"> commutative</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> apply:</span><span class="id"> le_anti;</span><span class="id"> rewrite</span><span class="id"> !lexI</span><span class="id"> !leIr</span><span class="id"> !leIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetA</span><span class="id"> :</span><span class="id"> associative</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> le_anti</span>.<br/>
<span class="id">rewrite</span><span class="id"> !lexI</span><span class="id"> leIr</span><span class="id"> leIl</span><span class="id"> /=</span><span class="id"> andbT</span><span class="id"> -andbA</span>.<br/>
<span class="id">rewrite</span><span class="id"> ![_</span><span class="id"> `&amp;`</span> (_<span class="id"> `&amp;`</span><span class="id"> _</span>)<span class="id"> &lt;=</span><span class="id"> _]leIxr</span><span class="id"> ?</span>(<span class="id">leIr,</span><span class="id"> leIl</span>)<span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> leIxl</span><span class="id"> ?leIl</span><span class="id"> //</span><span class="id"> leIxl</span><span class="id"> //</span><span class="id"> leIr</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetxx</span><span class="id"> :</span><span class="id"> idempotent_op</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEmeet</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetAC</span><span class="id"> :</span><span class="id"> right_commutative</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> -!meetA</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> `&amp;`</span><span class="id"> X]meetC</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetCA</span><span class="id"> :</span><span class="id"> left_commutative</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> !meetA</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> X</span><span class="id"> `&amp;`</span><span class="id"> _]meetC</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetACA</span><span class="id"> :</span><span class="id"> interchange</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> !meetA</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> X</span><span class="id"> `&amp;`</span><span class="id"> _]meetAC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetA</span><span class="id"> meetxx</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetIK</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -meetA</span><span class="id"> meetxx</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetKIC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetIK</span><span class="id"> meetC</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetIKC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetAC</span><span class="id"> meetC</span><span class="id"> meetxx</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SemiGroup</span>.<span class="id">isComLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> meet</span><span class="id"> meetA</span><span class="id"> meetC</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> MeetTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> MeetTheory</span>.<br/>
<br/>
<span class="vernacular">Arguments</span><span class="id"> meet_idPl</span><span class="id"> {disp</span><span class="id"> L</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> meet_idPr</span><span class="id"> {disp</span><span class="id"> L</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> BMeetTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BMeetTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet0x</span><span class="id"> :</span><span class="id"> left_zero</span><span class="id"> \bot</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetx0</span><span class="id"> :</span><span class="id"> right_zero</span><span class="id"> \bot</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meet0x</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isMulLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> \bot</span><span class="id"> meet</span><span class="id"> meet0x</span><span class="id"> meetx0</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> BMeetTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> BMeetTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TMeetTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TMeetTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetx1</span><span class="id"> :</span><span class="id"> right_id</span><span class="id"> \top</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet1x</span><span class="id"> :</span><span class="id"> left_id</span><span class="id"> \top</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetx1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet_eq1</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \top</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \top</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> ==</span><span class="id"> \top</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/idP/idP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /andP[/eqP-&gt;</span><span class="id"> /eqP-&gt;];</span><span class="id"> rewrite</span><span class="id"> meetx1</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /eqP</span><span class="id"> xIy1;</span><span class="id"> rewrite</span><span class="id"> -!le1x</span><span class="id"> -xIy1</span><span class="id"> leIl</span><span class="id"> leIr</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isMonoidLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> \top</span><span class="id"> meet</span><span class="id"> meet1x</span><span class="id"> meetx1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_inf_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> xr</span><span class="id"> Px;</span><span class="id"> rewrite</span> (<span class="id">big_rem</span><span class="id"> x</span>)<span class="id"> ?Px</span><span class="id"> //=</span><span class="id"> leIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_max_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span><span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> apply/le_trans/meets_inf_seq</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_inf</span><span class="id"> I</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> j</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> meets_inf_seq</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_max</span><span class="id"> I</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> u</span><span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> u</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> meets_max_seq</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_ge</span><span class="id"> J</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> J</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> J}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> J,</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> u</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> x</span>)<span class="id"> -&gt;</span><span class="id"> u</span><span class="id"> &lt;=</span><span class="id"> \meet_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> leFm;</span><span class="id"> elim/big_rec:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> i</span><span class="id"> x</span><span class="id"> Px</span><span class="id"> xu;</span><span class="id"> rewrite</span><span class="id"> lexI</span><span class="id"> leFm</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetsP_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">l</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">l</span><span class="id"> &lt;=</span><span class="id"> \meet_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> leFm</span><span class="id"> =&gt;</span><span class="id"> [x</span><span class="id"> xr</span><span class="id"> Px|]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/</span>(<span class="id">le_trans</span><span class="id"> leFm</span>)<span class="id">/meets_inf_seq</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> big_seq_cond</span><span class="id"> meets_ge//</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> /andP[/leFm]</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetsP</span><span class="id"> I</span> (<span class="id">l</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> I,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> i</span>) (<span class="id">l</span><span class="id"> &lt;=</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span> (<span class="id">iffP</span> (<span class="id">meetsP_seq</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<span class="id"> =&gt;</span><span class="id"> H</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> apply:</span><span class="id"> H</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_meets</span><span class="id"> I</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span><span class="id"> \subset</span><span class="id"> B</span><span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /subsetP</span><span class="id"> AB;</span><span class="id"> apply/meetsP</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> iA;</span><span class="id"> apply/meets_inf/AB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_setU</span><span class="id"> I</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">\meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span> (<span class="id">A</span><span class="id"> :|:</span><span class="id"> B</span>))<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> `&amp;`</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> -!big_enum;</span><span class="id"> have</span><span class="id"> /=</span><span class="id"> &lt;-</span><span class="id"> :=</span><span class="id"> @big_cat</span><span class="id"> _</span><span class="id"> _</span><span class="id"> meet</span>.<br/>
<span class="id">apply/eq_big_idem;</span><span class="id"> first</span><span class="id"> exact:</span><span class="id"> meetxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> mem_cat</span><span class="id"> !mem_enum</span><span class="id"> inE</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_seq</span><span class="id"> I</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">\meet_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> r</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -big_enum;</span><span class="id"> apply/eq_big_idem</span><span class="id"> =&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> ?meetxx</span><span class="id"> ?mem_enum</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TMeetTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TMeetTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> JoinTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> JoinTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leUx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> leUx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leUr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> leUl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexUl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIxl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lexUr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIxr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lexU2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIx2</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> [LHS]</span>(<span class="id">@leEmeet</span><span class="id"> _</span><span class="id"> L^d</span>)<span class="id"> meetC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_joinl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@eq_meetl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> eq_joinr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@eq_meetr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> join_idPl</span><span class="id"> {x</span><span class="id"> y}</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meet_idPl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> join_idPr</span><span class="id"> {x</span><span class="id"> y}</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meet_idPr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> join_l</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/join_idPl</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> join_r</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/join_idPr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leUidl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIidr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> leUidr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leIidl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leU2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@leI2</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinC</span><span class="id"> :</span><span class="id"> commutative</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetC</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinA</span><span class="id"> :</span><span class="id"> associative</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetA</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinxx</span><span class="id"> :</span><span class="id"> idempotent_op</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetxx</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinAC</span><span class="id"> :</span><span class="id"> right_commutative</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetAC</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinCA</span><span class="id"> :</span><span class="id"> left_commutative</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetCA</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinACA</span><span class="id"> :</span><span class="id"> interchange</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetACA</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetKI</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinUK</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetIK</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinKUC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetKIC</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinUKC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetIKC</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SemiGroup</span>.<span class="id">isComLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> join</span><span class="id"> joinA</span><span class="id"> joinC</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> JoinTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> JoinTheory</span>.<br/>
<br/>
<span class="vernacular">Arguments</span><span class="id"> join_idPl</span><span class="id"> {disp</span><span class="id"> L</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> join_idPr</span><span class="id"> {disp</span><span class="id"> L</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> BJoinTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BJoinTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>) (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinx0</span><span class="id"> :</span><span class="id"> right_id</span><span class="id"> \bot</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetx1</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> join0x</span><span class="id"> :</span><span class="id"> left_id</span><span class="id"> \bot</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meet1x</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> join_eq0</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \bot</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meet_eq1</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isMonoidLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> \bot</span><span class="id"> join</span><span class="id"> join0x</span><span class="id"> joinx0</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_sup_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> \join_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_inf_seq</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_min_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">l</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> \join_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_max_seq</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_sup</span><span class="id"> I</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> \join_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_inf</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_min</span><span class="id"> I</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">l</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> l</span><span class="id"> &lt;=</span><span class="id"> \join_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_max</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_le</span><span class="id"> J</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> J</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> J}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> J,</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>)<span class="id"> -&gt;</span><span class="id"> \join_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_ge</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinsP_seq</span><span class="id"> T</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> L</span>) (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> x</span><span class="id"> \in</span><span class="id"> r</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\join_</span>(<span class="id">x</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> x</span>)<span class="id"> F</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetsP_seq</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinsP</span><span class="id"> I</span> (<span class="id">u</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> I,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> u</span>) (<span class="id">\join_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> u</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetsP</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_joins</span><span class="id"> I</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">A</span><span class="id"> \subset</span><span class="id"> B</span><span class="id"> -&gt;</span><span class="id"> \join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@le_meets</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_setU</span><span class="id"> I</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span> (<span class="id">A</span><span class="id"> :|:</span><span class="id"> B</span>))<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> `|`</span><span class="id"> \join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_setU</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_seq</span><span class="id"> I</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\join_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \join_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> r</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meets_seq</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BJoinTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> BJoinTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TJoinTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TJoinTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinx1</span><span class="id"> :</span><span class="id"> right_zero</span><span class="id"> \top</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meetx0</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> join1x</span><span class="id"> :</span><span class="id"> left_zero</span><span class="id"> \top</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@meet0x</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isMulLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> \top</span><span class="id"> join</span><span class="id"> join1x</span><span class="id"> joinx1</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> TJoinTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TJoinTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> LatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> LatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetUK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/join_idPr/leIr</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetUKC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetUK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetKUC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> meetUK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetKUC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinIK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/meet_idPr/leUr</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinIKC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> joinIK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinKIC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> joinIK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> joinKIC</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lcomparableP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> incomparel</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;(<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;(<span class="id">y</span><span class="id"> ==</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &gt;=&lt;</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> x</span>)<span class="id"> =&gt;</span><span class="id"> [hxy|hxy|hxy|-&gt;];</span><span class="id"> do</span><span class="id"> 1?have</span><span class="id"> hxy'</span><span class="id"> :=</span><span class="id"> ltW</span><span class="id"> hxy;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ?</span>(<span class="id">meetxx,</span><span class="id"> joinxx</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ?</span>(<span class="id">meet_l</span><span class="id"> hxy',</span><span class="id"> meet_r</span><span class="id"> hxy',</span><span class="id"> join_l</span><span class="id"> hxy',</span><span class="id"> join_r</span><span class="id"> hxy'</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lcomparable_ltgtP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">comparel</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span><span class="id"> ==</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span> (<span class="id">lcomparableP</span><span class="id"> x</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> *;</span><span class="id"> constructor</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lcomparable_leP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">lel_xor_gt</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move/lcomparable_ltgtP</span><span class="id"> =&gt;</span><span class="id"> [/ltW</span><span class="id"> xy|xy|-&gt;];</span><span class="id"> constructor</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lcomparable_ltP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">ltl_xor_ge</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /lcomparable_ltgtP</span><span class="id"> [xy|/ltW</span><span class="id"> xy|-&gt;];</span><span class="id"> constructor</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> LatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> LatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> DistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> meetUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetUr</span><span class="id"> :</span><span class="id"> right_distributive</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> ![x</span><span class="id"> `&amp;`</span><span class="id"> _]meetC</span><span class="id"> meetUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinIl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> joinIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinIr</span><span class="id"> :</span><span class="id"> right_distributive</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> L</span>) (<span class="id">@meet</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> ![x</span><span class="id"> `|`</span><span class="id"> _]joinC</span><span class="id"> joinIl</span>. Qed.</div></details>
<br/>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isAddLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> meet</span><span class="id"> join</span><span class="id"> meetUl</span><span class="id"> meetUr</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Monoid</span>.<span class="id">isAddLaw</span>.<span class="id">Build</span><span class="id"> L</span><span class="id"> join</span><span class="id"> meet</span><span class="id"> joinIl</span><span class="id"> joinIr</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> DistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> BDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leU2l_le</span><span class="id"> y</span><span class="id"> t</span><span class="id"> x</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> t</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> xIt0</span><span class="id"> /</span>(<span class="id">leI2</span> (<span class="id">lexx</span><span class="id"> x</span>))<span class="id">;</span><span class="id"> rewrite</span><span class="id"> joinKI</span><span class="id"> meetUr</span><span class="id"> xIt0</span><span class="id"> joinx0</span><span class="id"> leIidl</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leU2r_le</span><span class="id"> y</span><span class="id"> t</span><span class="id"> x</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> t</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> `|`</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> [_</span><span class="id"> `|`</span><span class="id"> z]joinC</span><span class="id"> =&gt;</span><span class="id"> /leU2l_le</span><span class="id"> H</span><span class="id"> /H</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disjoint_lexUl</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xz0;</span><span class="id"> apply/idP/idP=&gt;</span><span class="id"> xy;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexU2</span><span class="id"> ?xy</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span> (<span class="id">@leU2l_le</span><span class="id"> x</span><span class="id"> z</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ?joinxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disjoint_lexUr</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> xz0;</span><span class="id"> rewrite</span><span class="id"> joinC;</span><span class="id"> rewrite</span><span class="id"> disjoint_lexUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leU2E</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> t</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> t</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> dxt</span><span class="id"> dyz;</span><span class="id"> apply/idP/andP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> case=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> exact:</span><span class="id"> leU2</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> lexyzt;</span><span class="id"> rewrite</span> (<span class="id">leU2l_le</span><span class="id"> _</span><span class="id"> lexyzt</span>)<span class="id"> //</span> (<span class="id">leU2r_le</span><span class="id"> _</span><span class="id"> lexyzt</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joins_disjoint</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">d</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> I,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> d</span><span class="id"> `&amp;`</span><span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \bot</span>)<span class="id"> -&gt;</span><span class="id"> d</span><span class="id"> `&amp;`</span><span class="id"> \join_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> d_Fi_disj;</span><span class="id"> have</span><span class="id"> :</span><span class="id"> \big[andb/true]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>) (<span class="id">d</span><span class="id"> `&amp;`</span><span class="id"> F</span><span class="id"> i</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> big_all_cond;</span><span class="id"> apply/allP</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> _</span><span class="id"> /=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/implyP</span><span class="id"> =&gt;</span><span class="id"> /d_Fi_disj</span><span class="id"> -&gt;</span>.<br/>
<span class="id">elim/big_rec2:</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> [|i</span><span class="id"> y];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetx0</span>.<br/>
<span class="id">case;</span><span class="id"> rewrite</span> (<span class="id">andbF,</span><span class="id"> andbT</span>)<span class="id"> //</span><span class="id"> =&gt;</span><span class="id"> Pi</span><span class="id"> /</span>(_<span class="id"> isT</span>)<span class="id"> dy</span><span class="id"> /eqP</span><span class="id"> dFi</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> meetUr</span><span class="id"> dy</span><span class="id"> dFi</span><span class="id"> joinxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> BDistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leI2l_le</span><span class="id"> y</span><span class="id"> t</span><span class="id"> x</span><span class="id"> z</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `&amp;`</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC;</span><span class="id"> exact:</span> (<span class="id">@leU2l_le</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leI2r_le</span><span class="id"> y</span><span class="id"> t</span><span class="id"> x</span><span class="id"> z</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC;</span><span class="id"> exact:</span> (<span class="id">@leU2r_le</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> cover_leIxl</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC;</span><span class="id"> exact:</span> (<span class="id">@disjoint_lexUl</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> cover_leIxr</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> z</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span> (<span class="id">z</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC;</span><span class="id"> exact:</span> (<span class="id">@disjoint_lexUr</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leI2E</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> t</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `&amp;`</span><span class="id"> t</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> apply:</span> (<span class="id">@leU2E</span><span class="id"> _</span><span class="id"> L^d</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> meetC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meets_total</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">d</span><span class="id"> :</span><span class="id"> L</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> I,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> d</span><span class="id"> `|`</span><span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \top</span>)<span class="id"> -&gt;</span><span class="id"> d</span><span class="id"> `|`</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \top</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@joins_disjoint</span><span class="id"> _</span><span class="id"> L^d</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TDistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TotalTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TotalTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<span class="id"> :=</span><span class="id"> le_total</span>.<br/>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> le_total</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&gt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> apply:</span><span class="id"> le_total</span>. Qed.</div></details>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> ge_total</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> comparableT</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_total</span>. Qed.</div></details>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> comparableT</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sort_le_sorted</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> sort_sorted</span>. Qed.</div></details>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> sort_le_sorted</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sort_lt_sorted</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;%O</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>)<span class="id"> =</span><span class="id"> uniq</span><span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_sorted_uniq_le</span><span class="id"> sort_uniq</span><span class="id"> sort_le_sorted</span><span class="id"> andbT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> perm_sort_leP</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s1</span><span class="id"> =</span><span class="id"> sort</span><span class="id"> &lt;=%O</span><span class="id"> s2</span>) (<span class="id">perm_eq</span><span class="id"> s1</span><span class="id"> s2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/perm_sortP/le_anti/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> filter_sort_le</span><span class="id"> p</span><span class="id"> s</span><span class="id"> :</span><span class="id"> filter</span><span class="id"> p</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>)<span class="id"> =</span><span class="id"> sort</span><span class="id"> &lt;=%O</span> (<span class="id">filter</span><span class="id"> p</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/filter_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mask_sort_le</span><span class="id"> s</span> (<span class="id">m</span><span class="id"> :</span><span class="id"> bitseq</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{m_s</span><span class="id"> :</span><span class="id"> bitseq</span><span class="id"> |</span><span class="id"> mask</span><span class="id"> m_s</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>)<span class="id"> =</span><span class="id"> sort</span><span class="id"> &lt;=%O</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>)<span class="id">}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/mask_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_mask_sort_le</span><span class="id"> s</span> (<span class="id">m</span><span class="id"> :</span><span class="id"> bitseq</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span> (<span class="id">mask</span><span class="id"> m</span><span class="id"> s</span>)<span class="id"> -&gt;</span><span class="id"> {m_s</span><span class="id"> :</span><span class="id"> bitseq</span><span class="id"> |</span><span class="id"> mask</span><span class="id"> m_s</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>)<span class="id"> =</span><span class="id"> mask</span><span class="id"> m</span><span class="id"> s}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_mask_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subseq_sort_le</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> sort</span><span class="id"> &lt;=%O</span><span class="id"> :</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> /</span><span class="id"> @subseq</span><span class="id"> T</span><span class="id"> s1</span><span class="id"> s2}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/subseq_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_subseq_sort_le</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">subseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> -&gt;</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s1</span><span class="id"> -&gt;</span><span class="id"> subseq</span><span class="id"> s1</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/sorted_subseq_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mem2_sort_le</span><span class="id"> s</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> mem2</span><span class="id"> s</span><span class="id"> x</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> mem2</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span><span class="id"> s</span>)<span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/mem2_sort/le_trans/le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leNgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_leNgt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltNge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_ltNge</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> ltgtP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> LatticeTheory</span>.<span class="id">lcomparable_ltgtP</span> (<span class="id">comparableT</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> leP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> LatticeTheory</span>.<span class="id">lcomparable_leP</span> (<span class="id">comparableT</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> ltP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> LatticeTheory</span>.<span class="id">lcomparable_ltP</span> (<span class="id">comparableT</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> wlog_le</span><span class="id"> P</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> P</span><span class="id"> y</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> sP</span><span class="id"> hP</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> case:</span> (<span class="id">leP</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> [|</span><span class="id"> /ltW]</span><span class="id"> /hP</span><span class="id"> //</span><span class="id"> /sP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> wlog_lt</span><span class="id"> P</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> x,</span><span class="id"> P</span><span class="id"> x</span><span class="id"> x</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">P</span><span class="id"> y</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> P</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> rP</span><span class="id"> sP</span><span class="id"> hP</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> case:</span> (<span class="id">ltgtP</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> [||-&gt;]</span><span class="id"> //</span><span class="id"> /hP</span><span class="id"> //</span><span class="id"> /sP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> neq_lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> !=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> ltgtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_total</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> !=</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> ltgtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_leLR</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> =&gt;</span><span class="id"> ?</span><span class="id"> /contraTT</span><span class="id"> ?;</span><span class="id"> apply/idP/idP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_leRL</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> -&gt;</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> t</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> apply/esym/eq_leLR</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_ltLR</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !leNgt</span><span class="id"> =&gt;</span><span class="id"> ?</span><span class="id"> /contraTT</span><span class="id"> ?;</span><span class="id"> apply/idP/idP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_ltRL</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>)<span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> -&gt;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> t</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> apply/esym/eq_ltLR</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetEtotal</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinEtotal</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minEgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> ltP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxEgt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> ltP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> minEge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxEge</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minC</span><span class="id"> :</span><span class="id"> commutative</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> apply:</span><span class="id"> comparable_minC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxC</span><span class="id"> :</span><span class="id"> commutative</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> apply:</span><span class="id"> comparable_maxC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minA</span><span class="id"> :</span><span class="id"> associative</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_minA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxA</span><span class="id"> :</span><span class="id"> associative</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_maxA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minAC</span><span class="id"> :</span><span class="id"> right_commutative</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_minAC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxAC</span><span class="id"> :</span><span class="id"> right_commutative</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_maxAC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minCA</span><span class="id"> :</span><span class="id"> left_commutative</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_minCA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxCA</span><span class="id"> :</span><span class="id"> left_commutative</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_maxCA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minACA</span><span class="id"> :</span><span class="id"> interchange</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> min</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t;</span><span class="id"> apply:</span><span class="id"> comparable_minACA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> maxACA</span><span class="id"> :</span><span class="id"> interchange</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> max</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t;</span><span class="id"> apply:</span><span class="id"> comparable_maxACA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_minr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_eq_minr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_maxl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_eq_maxl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_idPr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_min_idPr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_idPl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> reflect</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>) (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_max_idPl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_min</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_le_min</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_min</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_ge_min</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_min</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_lt_min</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> gt_min</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_gt_min</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_max</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_le_max</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ge_max</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_ge_max</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_max</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_lt_max</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> gt_max</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_gt_max</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minxK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_minxK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> minKx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> max</span><span class="id"> x</span> (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_minKx</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxxK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> y</span><span class="id"> =</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_maxxK</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxKx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> min</span><span class="id"> x</span> (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_maxKx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_minl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> min</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_max_minl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_maxl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> max</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_min_maxl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> max_minr</span><span class="id"> :</span><span class="id"> right_distributive</span> (<span class="id">max</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> min</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_max_minr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> min_maxr</span><span class="id"> :</span><span class="id"> right_distributive</span> (<span class="id">min</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> max</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> comparable_min_maxr</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SemiGroup</span>.<span class="id">isComLaw</span>.<span class="id">Build</span><span class="id"> T</span><span class="id"> max</span><span class="id"> maxA</span><span class="id"> maxC</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SemiGroup</span>.<span class="id">isComLaw</span>.<span class="id">Build</span><span class="id"> T</span><span class="id"> min</span><span class="id"> minA</span><span class="id"> minC</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leIx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">meet</span><span class="id"> y</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetEtotal</span><span class="id"> ge_min</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> join</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinEtotal</span><span class="id"> le_max</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> leIx</span><span class="id"> negb_or</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltIx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">meet</span><span class="id"> y</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> lexI</span><span class="id"> negb_and</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> join</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> ||</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> leUx</span><span class="id"> negb_and</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltUx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">join</span><span class="id"> y</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> lexU</span><span class="id"> negb_or</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> ltexI</span><span class="id"> :=</span> (<span class="id">@lexI</span><span class="id"> _</span><span class="id"> T,</span><span class="id"> ltxI</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> lteIx</span><span class="id"> :=</span> (<span class="id">leIx,</span><span class="id"> ltIx</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> ltexU</span><span class="id"> :=</span> (<span class="id">lexU,</span><span class="id"> ltxU</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> lteUx</span><span class="id"> :=</span> (<span class="id">@leUx</span><span class="id"> _</span><span class="id"> T,</span><span class="id"> ltUx</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_min2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> Order</span>.<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> Order</span>.<span class="id">min</span><span class="id"> z</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_le_min2</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_max2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> Order</span>.<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> Order</span>.<span class="id">max</span><span class="id"> z</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_le_max2</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteifNE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> ~~</span><span class="id"> C</span><span class="id"> =</span><span class="id"> ~~</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C</span><span class="id"> =&gt;</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_minr</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">z</span><span class="id"> &lt;</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">le_min,</span><span class="id"> lt_min</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_minl</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">min</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> ||</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">ge_min,</span><span class="id"> gt_min</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_maxr</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">z</span><span class="id"> &lt;</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> ||</span> (<span class="id">z</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">le_max,</span><span class="id"> lt_max</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lteif_maxl</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">max</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> ?&lt;=</span><span class="gallina-kwd"> if</span><span class="id"> C</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> C;</span><span class="id"> rewrite</span><span class="id"> /=</span> (<span class="id">ge_max,</span><span class="id"> gt_max</span>). Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> ArgExtremum</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">i0</span><span class="id"> :</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>) (<span class="id">Pi0</span><span class="id"> :</span><span class="id"> P</span><span class="id"> i0</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> arg_minP:</span><span class="id"> extremum_spec</span><span class="id"> &lt;=%O</span><span class="id"> P</span><span class="id"> F</span> (<span class="id">arg_min</span><span class="id"> i0</span><span class="id"> P</span><span class="id"> F</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> extremumP</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> arg_maxP:</span><span class="id"> extremum_spec</span><span class="id"> &gt;=%O</span><span class="id"> P</span><span class="id"> F</span> (<span class="id">arg_max</span><span class="id"> i0</span><span class="id"> P</span><span class="id"> F</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> extremumP</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> [apply:</span><span class="id"> ge_refl</span><span class="id"> |</span><span class="id"> apply:</span><span class="id"> ge_trans]</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> ArgExtremum</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> count_le_gt</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> =</span><span class="id"> size</span><span class="id"> s</span><span class="id"> -</span><span class="id"> count</span> (<span class="id">&gt;</span><span class="id"> x</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">count_predC</span> (<span class="id">&gt;</span><span class="id"> x</span>))<span class="id"> addKn;</span><span class="id"> apply:</span><span class="id"> eq_count</span><span class="id"> =&gt;</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> leNgt</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> count_lt_ge</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><span class="id"> count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> =</span><span class="id"> size</span><span class="id"> s</span><span class="id"> -</span><span class="id"> count</span> (<span class="id">&gt;=</span><span class="id"> x</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">count_predC</span> (<span class="id">&gt;=</span><span class="id"> x</span>))<span class="id"> addKn;</span><span class="id"> apply:</span><span class="id"> eq_count</span><span class="id"> =&gt;</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> ltNge</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> bigminmax_Type</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_mkcond</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>) (<span class="gallina-kwd">if</span><span class="id"> P</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> big_mkcond_idem</span><span class="id"> //=</span><span class="id"> minxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_mkcond</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="gallina-kwd"> if</span><span class="id"> P</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> big_mkcond_idem</span><span class="id"> //=</span><span class="id"> maxxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_mkcondl</span><span class="id"> P</span><span class="id"> Q</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> Q</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> Q</span><span class="id"> i</span>)<span class="gallina-kwd"> if</span><span class="id"> P</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> bigmin_mkcond</span><span class="id"> [RHS]bigmin_mkcond</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_bigr</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> _;</span><span class="id"> case:</span><span class="id"> P;</span><span class="id"> case:</span><span class="id"> Q</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_mkcondr</span><span class="id"> P</span><span class="id"> Q</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> Q</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="gallina-kwd"> if</span><span class="id"> Q</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> andbC;</span><span class="id"> apply:</span><span class="id"> bigmin_mkcondl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_mkcondl</span><span class="id"> P</span><span class="id"> Q</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> Q</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> Q</span><span class="id"> i</span>)<span class="gallina-kwd"> if</span><span class="id"> P</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> bigmax_mkcond</span><span class="id"> [RHS]bigmax_mkcond</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_bigr</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> _;</span><span class="id"> case:</span><span class="id"> P;</span><span class="id"> case:</span><span class="id"> Q</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_mkcondr</span><span class="id"> P</span><span class="id"> Q</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> Q</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="gallina-kwd"> if</span><span class="id"> Q</span><span class="id"> i</span><span class="gallina-kwd"> then</span><span class="id"> F</span><span class="id"> i</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> andbC;</span><span class="id"> apply:</span><span class="id"> bigmax_mkcondl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_split</span><span class="id"> P</span><span class="id"> F1</span><span class="id"> F2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>) (<span class="id">min</span> (<span class="id">F1</span><span class="id"> i</span>) (<span class="id">F2</span><span class="id"> i</span>))<span class="id"> =</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">min</span> (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F1</span><span class="id"> i</span>) (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F2</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> big_split_idem</span><span class="id"> //=</span><span class="id"> minxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_split</span><span class="id"> P</span><span class="id"> F1</span><span class="id"> F2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>) (<span class="id">max</span> (<span class="id">F1</span><span class="id"> i</span>) (<span class="id">F2</span><span class="id"> i</span>))<span class="id"> =</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">max</span> (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F1</span><span class="id"> i</span>) (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F2</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> big_split_idem</span><span class="id"> //=</span><span class="id"> maxxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_idl</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> min</span><span class="id"> x</span> (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> minC</span><span class="id"> big_id_idem</span><span class="id"> //=</span><span class="id"> minxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_idl</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> max</span><span class="id"> x</span> (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> maxC</span><span class="id"> big_id_idem</span><span class="id"> //=</span><span class="id"> maxxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_idr</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> min</span> (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>)<span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> [LHS]bigmin_idl</span><span class="id"> minC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_idr</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> max</span> (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>)<span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> [LHS]bigmax_idl</span><span class="id"> maxC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminID</span><span class="id"> a</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><br/>
&nbsp;&nbsp;<span class="id">min</span> (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> a</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> ~~</span><span class="id"> a</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">bigID_idem</span><span class="id"> _</span><span class="id"> _</span><span class="id"> a</span>)<span class="id"> //=</span><span class="id"> minxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxID</span><span class="id"> a</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><br/>
&nbsp;&nbsp;<span class="id">max</span> (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> a</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span><span class="id"> ~~</span><span class="id"> a</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">bigID_idem</span><span class="id"> _</span><span class="id"> _</span><span class="id"> a</span>)<span class="id"> //=</span><span class="id"> maxxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> bigminmax_Type</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> ge_min_id</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> min</span><span class="id"> x</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge_min</span><span class="id"> lexx</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> le_max_id</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> max</span><span class="id"> x</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_max</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmin</span><span class="id"> [x0]</span><span class="id"> I</span><span class="id"> r</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P'</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">sub_le_big</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmax</span><span class="id"> [x0]</span><span class="id"> I</span><span class="id"> r</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> sub_le_big</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmin_seq</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> r</span><span class="id"> r'</span><span class="id"> P</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> {subset</span><span class="id"> r'</span><span class="id"> &lt;=</span><span class="id"> r}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">idem_sub_le_big</span><span class="id"> ge_refl</span><span class="id"> _</span><span class="id"> minxx</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmax_seq</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> r</span><span class="id"> r'</span><span class="id"> P</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> {subset</span><span class="id"> r</span><span class="id"> &lt;=</span><span class="id"> r'}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">idem_sub_le_big</span><span class="id"> _</span><span class="id"> _</span><span class="id"> maxxx</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmin_cond</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> r</span><span class="id"> r'</span><span class="id"> P</span><span class="id"> P'</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{subset</span><span class="id"> [seq</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i]</span><span class="id"> &lt;=</span><span class="id"> [seq</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i]}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">idem_sub_le_big_cond</span><span class="id"> ge_refl</span><span class="id"> _</span><span class="id"> minxx</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_bigmax_cond</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> r</span><span class="id"> r'</span><span class="id"> P</span><span class="id"> P'</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{subset</span><span class="id"> [seq</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i]</span><span class="id"> &lt;=</span><span class="id"> [seq</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i]}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">idem_sub_le_big_cond</span><span class="id"> _</span><span class="id"> _</span><span class="id"> maxxx</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_in_bigmin</span><span class="id"> [x0]</span><span class="id"> [I</span><span class="id"> :</span><span class="id"> eqType]</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> r,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P'</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> i}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">sub_in_le_big</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_in_bigmax</span><span class="id"> [x0]</span><span class="id"> [I</span><span class="id"> :</span><span class="id"> eqType]</span> (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> r,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P'</span><span class="id"> i}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> sub_in_le_big</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin_nat</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span><span class="id"> n'</span><span class="id"> m'</span><span class="id"> P</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> n'</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="id">m'</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">le_big_nat</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax_nat</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span><span class="id"> n'</span><span class="id"> m'</span><span class="id"> P</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> m'</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_big_nat</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin_nat_cond</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span><span class="id"> n'</span><span class="id"> m'</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> nat</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> n'</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="id">m'</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span> (<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m'</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> P'</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">le_big_nat_cond</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax_nat_cond</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span><span class="id"> n'</span><span class="id"> m'</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> nat}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> m'</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">n'</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_big_nat_cond</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin_ord</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> nat</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">le_big_ord</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax_ord</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> nat}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_big_ord</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin_ord_cond</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> nat</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_m,</span><span class="id"> P'</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">le_big_ord_cond</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax_ord_cond</span><span class="id"> [x0]</span><span class="id"> n</span><span class="id"> m</span> (<span class="id">P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> nat}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_n,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_big_ord_cond</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subset_bigmin</span><span class="id"> [x0]</span><span class="id"> [I</span><span class="id"> :</span><span class="id"> finType]</span><span class="id"> [A</span><span class="id"> A'</span><span class="id"> P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}]</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A'</span><span class="id"> \subset</span><span class="id"> A</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">subset_le_big</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subset_bigmax</span><span class="id"> [x0]</span><span class="id"> [I</span><span class="id"> :</span><span class="id"> finType]</span> (<span class="id">A</span><span class="id"> A'</span><span class="id"> P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A</span><span class="id"> \subset</span><span class="id"> A'</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> subset_le_big</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subset_bigmin_cond</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">A</span><span class="id"> A'</span><span class="id"> P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[set</span><span class="id"> i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i]</span> <span class="id"> \subset</span><span class="id"> [set</span><span class="id"> i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i]</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">subset_le_big_cond</span><span class="id"> ge_refl</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> subset_bigmax_cond</span><span class="id"> [x0]</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">A</span><span class="id"> A'</span><span class="id"> P</span><span class="id"> P'</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> I}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[set</span><span class="id"> i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i]</span> <span class="id"> \subset</span><span class="id"> [set</span><span class="id"> i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i]</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A'</span><span class="id"> |</span><span class="id"> P'</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> subset_le_big_cond</span>. Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> bigminmax_eqType</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> eqType</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> I</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_le_id</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> bigmin_idl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_ge_id</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> bigmax_idl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_eq_id</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> i</span>)<span class="id"> -&gt;</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x_le;</span><span class="id"> apply:</span><span class="id"> le_anti;</span><span class="id"> rewrite</span><span class="id"> bigmin_le_id</span><span class="id"> le_bigmin</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_eq_id</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> F</span><span class="id"> i</span>)<span class="id"> -&gt;</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x_ge;</span><span class="id"> apply:</span><span class="id"> le_anti;</span><span class="id"> rewrite</span><span class="id"> bigmax_ge_id</span><span class="id"> bigmax_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> bigminmax_eqType</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> bigminmax_finType</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">I</span><span class="id"> :</span><span class="id"> finType</span>) (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminD1</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> min</span> (<span class="id">F</span><span class="id"> j</span>) (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span> (<span class="id">i</span><span class="id"> !=</span><span class="id"> j</span>))<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move/</span>(<span class="id">bigD1</span><span class="id"> _</span>)<span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxD1</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> max</span> (<span class="id">F</span><span class="id"> j</span>) (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span><span class="id"> &amp;&amp;</span> (<span class="id">i</span><span class="id"> !=</span><span class="id"> j</span>))<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move/</span>(<span class="id">bigD1</span><span class="id"> _</span>)<span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_le_cond</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> j</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">have</span><span class="id"> :=</span><span class="id"> mem_index_enum</span><span class="id"> j;</span><span class="id"> rewrite</span><span class="id"> unlock;</span><span class="id"> elim:</span> (<span class="id">index_enum</span><span class="id"> I</span>)<span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> i</span><span class="id"> l</span><span class="id"> ih</span>.<br/>
<span class="id">rewrite</span><span class="id"> inE</span><span class="id"> =&gt;</span><span class="id"> /orP</span><span class="id"> [/eqP-&gt;</span><span class="id"> -&gt;|/ih</span><span class="id"> leminlfi</span><span class="id"> Pi];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge_min</span><span class="id"> lexx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> ifPn</span><span class="id"> =&gt;</span><span class="id"> Pj;</span><span class="id"> [rewrite</span><span class="id"> ge_min</span><span class="id"> leminlfi//</span><span class="id"> orbC|exact:</span><span class="id"> leminlfi]</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax_cond</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> Pj;</span><span class="id"> rewrite</span> (<span class="id">bigmaxD1</span><span class="id"> _</span><span class="id"> Pj</span>)<span class="id"> le_max</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_le</span><span class="id"> j</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[min/x]_i</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> j</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> bigmin_le_cond</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax</span><span class="id"> F</span><span class="id"> j</span><span class="id"> :</span><span class="id"> F</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_i</span><span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_bigmax_cond</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_inf</span><span class="id"> j</span><span class="id"> P</span><span class="id"> m</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> m</span><span class="id"> -&gt;</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> m</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> Pj</span><span class="id"> ?;</span><span class="id"> apply:</span><span class="id"> le_trans</span> (<span class="id">bigmin_le_cond</span><span class="id"> _</span><span class="id"> Pj</span>)<span class="id"> _</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_sup</span><span class="id"> j</span><span class="id"> P</span><span class="id"> m</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> m</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> m</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> Pj</span><span class="id"> ?;</span><span class="id"> apply:</span><span class="id"> le_trans</span> (<span class="id">le_bigmax_cond</span><span class="id"> _</span><span class="id"> Pj</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_geP</span><span class="id"> m</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> /\</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> m</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [lemFi|[lemx</span><span class="id"> lemPi]];</span><span class="id"> [split|exact:</span><span class="id"> le_bigmin]</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> lemFi</span>)<span class="id">//</span><span class="id"> bigmin_idl</span><span class="id"> ge_min</span><span class="id"> lexx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i</span><span class="id"> Pi;</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> lemFi</span>)<span class="id">//</span> (<span class="id">bigminD1</span><span class="id"> _</span><span class="id"> Pi</span>)<span class="id">//</span><span class="id"> le_minl</span><span class="id"> lexx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_leP</span><span class="id"> m</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> m</span><span class="id"> /\</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> m</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [|[?</span><span class="id"> ?]];</span><span class="id"> last</span><span class="id"> exact:</span><span class="id"> bigmax_le</span>.<br/>
<span class="id">rewrite</span><span class="id"> bigmax_idl</span><span class="id"> ge_max</span><span class="id"> =&gt;</span><span class="id"> /andP[-&gt;</span><span class="id"> leFm];</span><span class="id"> split=&gt;</span><span class="id"> //</span><span class="id"> i</span><span class="id"> Pi</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> le_trans</span><span class="id"> leFm;</span><span class="id"> exact:</span><span class="id"> le_bigmax_cond</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_gtP</span><span class="id"> m</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="id">m</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> /\</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> m</span><span class="id"> &lt;</span><span class="id"> F</span><span class="id"> i</span>) (<span class="id">m</span><span class="id"> &lt;</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [lemFi|[lemx</span><span class="id"> lemPi]];</span><span class="id"> [split|exact:</span><span class="id"> lt_bigmin]</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">lt_le_trans</span><span class="id"> lemFi</span>)<span class="id">//</span><span class="id"> bigmin_idl</span><span class="id"> ge_min</span><span class="id"> lexx</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i</span><span class="id"> Pi;</span><span class="id"> rewrite</span> (<span class="id">lt_le_trans</span><span class="id"> lemFi</span>)<span class="id">//</span> (<span class="id">bigminD1</span><span class="id"> _</span><span class="id"> Pi</span>)<span class="id">//</span><span class="id"> le_minl</span><span class="id"> lexx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_ltP</span><span class="id"> m</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> m</span><span class="id"> /\</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span>) (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> m</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [|[?</span><span class="id"> ?]];</span><span class="id"> last</span><span class="id"> exact:</span><span class="id"> bigmax_lt</span>.<br/>
<span class="id">rewrite</span><span class="id"> bigmax_idl</span><span class="id"> gt_max</span><span class="id"> =&gt;</span><span class="id"> /andP[-&gt;</span><span class="id"> ltFm];</span><span class="id"> split=&gt;</span><span class="id"> //</span><span class="id"> i</span><span class="id"> Pi</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> le_lt_trans</span><span class="id"> ltFm;</span><span class="id"> exact:</span><span class="id"> le_bigmax_cond</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_eq_arg</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> F</span><span class="id"> [arg</span><span class="id"> min_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> j</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> Pi0;</span><span class="id"> case:</span><span class="id"> arg_minP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> i</span><span class="id"> Pi</span><span class="id"> PF</span><span class="id"> PFx</span>.<br/>
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> bigmin_le_cond</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/bigmin_geP;</span><span class="id"> split</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> PFx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_eq_arg</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> F</span><span class="id"> [arg</span><span class="id"> max_</span>(<span class="id">i</span><span class="id"> &gt;</span><span class="id"> j</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> Pi0;</span><span class="id"> case:</span><span class="id"> arg_maxP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> i</span><span class="id"> Pi</span><span class="id"> PF</span><span class="id"> PxF</span>.<br/>
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> le_bigmax_cond</span><span class="id"> //</span><span class="id"> andbT</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/bigmax_leP;</span><span class="id"> split</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> PxF</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_bigmin</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{i0</span><span class="id"> |</span><span class="id"> i0</span><span class="id"> \in</span><span class="id"> P</span><span class="id"> &amp;</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> F</span><span class="id"> i0}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> Pi0</span><span class="id"> Hx;</span><span class="id"> rewrite</span> (<span class="id">bigmin_eq_arg</span><span class="id"> Pi0</span>)<span class="id"> //;</span><span class="id"> eexists=&gt;</span><span class="id"> //;</span><span class="id"> case:</span><span class="id"> arg_minP</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_bigmax</span><span class="id"> j</span><span class="id"> P</span><span class="id"> F</span><span class="id"> :</span><span class="id"> P</span><span class="id"> j</span><span class="id"> -&gt;</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> F</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{i0</span><span class="id"> |</span><span class="id"> i0</span><span class="id"> \in</span><span class="id"> P</span><span class="id"> &amp;</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> F</span><span class="id"> i0}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> Pi0</span><span class="id"> Hx;</span><span class="id"> rewrite</span> (<span class="id">bigmax_eq_arg</span><span class="id"> Pi0</span>)<span class="id"> //;</span><span class="id"> eexists=&gt;</span><span class="id"> //;</span><span class="id"> case:</span><span class="id"> arg_maxP</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmin2</span><span class="id"> P</span><span class="id"> F1</span><span class="id"> F2</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F2</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F2</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> FG;</span><span class="id"> elim/big_ind2</span><span class="id"> :</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> a</span><span class="id"> b</span><span class="id"> e</span><span class="id"> f</span><span class="id"> ba</span><span class="id"> fe</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge_min</span><span class="id"> 2!le_min</span><span class="id"> ba</span><span class="id"> fe</span><span class="id"> /=</span><span class="id"> andbT</span>.<br/>
<span class="id">move:</span> (<span class="id">le_total</span><span class="id"> a</span><span class="id"> e</span>)<span class="id"> =&gt;</span><span class="id"> /orP[/</span>(<span class="id">le_trans</span><span class="id"> ba</span>)<span class="id">-&gt;</span><span class="id"> //</span><span class="id"> |</span><span class="id"> /</span>(<span class="id">le_trans</span><span class="id"> fe</span>)<span class="id">-&gt;]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> orbT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_bigmax2</span><span class="id"> P</span><span class="id"> F1</span><span class="id"> F2</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> F2</span><span class="id"> i</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F2</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> FG;</span><span class="id"> elim/big_ind2</span><span class="id"> :</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> a</span><span class="id"> b</span><span class="id"> e</span><span class="id"> f</span><span class="id"> ba</span><span class="id"> fe</span>.<br/>
<span class="id">rewrite</span><span class="id"> le_max</span><span class="id"> 2!ge_max</span><span class="id"> ba</span><span class="id"> fe</span><span class="id"> /=</span><span class="id"> andbT;</span><span class="id"> have</span><span class="id"> [//|/=</span><span class="id"> af]</span><span class="id"> :=</span><span class="id"> leP</span><span class="id"> f</span><span class="id"> a</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> ba</span>)<span class="id"> //</span> (<span class="id">le_trans</span><span class="id"> _</span><span class="id"> fe</span>)<span class="id"> //</span><span class="id"> ltW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxUl</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmax</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setU</span><span class="id"> =&gt;</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxUr</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> [leRHS]eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> setUC;</span><span class="id"> apply:</span><span class="id"> bigmaxUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminUl</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmin</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setU</span><span class="id"> =&gt;</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminUr</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> [leLHS]eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> setUC;</span><span class="id"> apply:</span><span class="id"> bigminUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxIl</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :&amp;:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmax</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setI</span><span class="id"> =&gt;</span><span class="id"> /andP[-&gt;</span><span class="id"> _]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxIr</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :&amp;:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> setIC;</span><span class="id"> apply:</span><span class="id"> bigmaxIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminIl</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :&amp;:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmin</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setI</span><span class="id"> =&gt;</span><span class="id"> /andP[-&gt;_]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminIr</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :&amp;:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> under</span><span class="id"> [leRHS]eq_bigl</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> setIC;</span><span class="id"> apply:</span><span class="id"> bigminIl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxD</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span><span class="id"> :\:</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmax</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setD</span><span class="id"> =&gt;</span><span class="id"> /andP[_-&gt;]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminD</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span><span class="id"> :\:</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_bigmin</span><span class="id"> =&gt;</span><span class="id"> t;</span><span class="id"> rewrite</span><span class="id"> in_setD</span><span class="id"> =&gt;</span><span class="id"> /andP[_-&gt;]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmaxU</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> max</span> (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span>) (<span class="id">\big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span><span class="id"> le_anti;</span><span class="id"> rewrite</span><span class="id"> ge_max</span><span class="id"> bigmaxUl</span><span class="id"> bigmaxUr</span><span class="id"> !andbT;</span><span class="id"> apply/bigmax_leP</span>.<br/>
<span class="id">split=&gt;</span><span class="id"> [|i</span><span class="id"> /[!in_setU]/orP[iA|iB]];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_max</span><span class="id"> bigmax_ge_id</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_max</span><span class="id"> le_bigmax_cond</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_max</span><span class="id"> orbC</span><span class="id"> le_bigmax_cond</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigminU</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span><br/>
&nbsp;&nbsp;<span class="id">=</span><span class="id"> min</span> (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span><span class="id"> i</span>) (<span class="id">\big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> B</span>)<span class="id"> F</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span><span class="id"> le_anti;</span><span class="id"> rewrite</span><span class="id"> le_min</span><span class="id"> bigminUl</span><span class="id"> bigminUr</span><span class="id"> !andbT;</span><span class="id"> apply/bigmin_geP</span>.<br/>
<span class="id">split=&gt;</span><span class="id"> [|i</span><span class="id"> /[!in_setU]/orP[iA|iB]];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge_min</span><span class="id"> bigmin_le_id</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge_min</span><span class="id"> bigmin_le_cond</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge_min</span><span class="id"> orbC</span><span class="id"> bigmin_le_cond</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_set1</span><span class="id"> j</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> [set</span><span class="id"> j]</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> min</span> (<span class="id">F</span><span class="id"> j</span>)<span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> big_set1E</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_set1</span><span class="id"> j</span><span class="id"> F</span><span class="id"> :</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> [set</span><span class="id"> j]</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> =</span><span class="id"> max</span> (<span class="id">F</span><span class="id"> j</span>)<span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> big_set1E</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> bigminmax_finType</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmin_imset</span><span class="id"> [I</span><span class="id"> J</span><span class="id"> :</span><span class="id"> finType]</span><span class="id"> x</span><span class="id"> [h</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> J]</span><span class="id"> [A</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}]</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[min/x]_</span>(<span class="id">j</span><span class="gallina-kwd"> in</span><span class="id"> [set</span><span class="id"> h</span><span class="id"> x</span><span class="id"> |</span><span class="id"> x</span><span class="gallina-kwd"> in</span><span class="id"> A]</span>)<span class="id"> F</span><span class="id"> j</span><span class="id"> =</span><span class="id"> \big[min/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span> (<span class="id">h</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> big_imset_idem;</span><span class="id"> apply:</span><span class="id"> minxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> bigmax_imset</span><span class="id"> [I</span><span class="id"> J</span><span class="id"> :</span><span class="id"> finType]</span><span class="id"> x</span><span class="id"> [h</span><span class="id"> :</span><span class="id"> I</span><span class="id"> -&gt;</span><span class="id"> J]</span><span class="id"> [A</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> I}]</span> (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">\big[max/x]_</span>(<span class="id">j</span><span class="gallina-kwd"> in</span><span class="id"> [set</span><span class="id"> h</span><span class="id"> x</span><span class="id"> |</span><span class="id"> x</span><span class="gallina-kwd"> in</span><span class="id"> A]</span>)<span class="id"> F</span><span class="id"> j</span><span class="id"> =</span><span class="id"> \big[max/x]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F</span> (<span class="id">h</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> big_imset_idem;</span><span class="id"> apply:</span><span class="id"> maxxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TotalTheory</span>.<br/>
<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> le_total</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> ge_total</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> comparableT</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<span class="id">#[global]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> sort_le_sorted</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Arguments</span><span class="id"> min_idPr</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> max_idPl</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> x</span><span class="id"> y}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmin_mkcond</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> r}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmax_mkcond</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> r}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigminID</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> r}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmaxID</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> r}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigminD1</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmaxD1</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmin_inf</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmax_sup</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmin_eq_arg</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I}</span><span class="id"> x</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> bigmax_eq_arg</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I}</span><span class="id"> x</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> eq_bigmin</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> eq_bigmax</span><span class="id"> {disp</span><span class="id"> T</span><span class="id"> I</span><span class="id"> x}</span><span class="id"> j</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> DualTotalTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DualTotalTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="gallina-kwd"> Type</span><span class="id"> s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_filter_gt</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> [seq</span><span class="id"> y</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y]</span><span class="id"> =</span><span class="id"> drop</span> (<span class="id">count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> s_sorted;</span><span class="id"> rewrite</span><span class="id"> count_le_gt</span><span class="id"> -[LHS]revK</span><span class="id"> -filter_rev</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@sorted_filter_lt</span><span class="id"> _</span><span class="id"> T^d</span>)<span class="id">;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> take_rev</span><span class="id"> revK</span><span class="id"> count_rev</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> rev_sorted</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sorted_filter_ge</span><span class="id"> x</span><span class="id"> s</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><span class="id"> [seq</span><span class="id"> y</span><span class="id"> &lt;-</span><span class="id"> s</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y]</span><span class="id"> =</span><span class="id"> drop</span> (<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id"> s</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> s_sorted;</span><span class="id"> rewrite</span><span class="id"> count_lt_ge</span><span class="id"> -[LHS]revK</span><span class="id"> -filter_rev</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@sorted_filter_le</span><span class="id"> _</span><span class="id"> T^d</span>)<span class="id">;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> take_rev</span><span class="id"> revK</span><span class="id"> count_rev</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> rev_sorted</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_count_ge</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> /andP[ige</span><span class="id"> ilt];</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">subnKC</span><span class="id"> ige</span>)<span class="id"> -nth_drop</span><span class="id"> -sorted_filter_ge</span><span class="id"> //</span>.<br/>
<span class="id">apply/</span>(<span class="id">all_nthP</span><span class="id"> _</span> (<span class="id">filter_all</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> size_filter</span><span class="id"> ltn_subLR</span><span class="id"> //</span><span class="id"> count_lt_ge</span><span class="id"> subnK</span><span class="id"> //</span><span class="id"> count_size</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_count_gt</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> size</span><span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> /andP[ige</span><span class="id"> ilt];</span><span class="id"> rewrite</span><span class="id"> -</span>(<span class="id">subnKC</span><span class="id"> ige</span>)<span class="id"> -nth_drop</span><span class="id"> -sorted_filter_gt</span><span class="id"> //</span>.<br/>
<span class="id">apply/</span>(<span class="id">all_nthP</span><span class="id"> _</span> (<span class="id">filter_all</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> size_filter</span><span class="id"> ltn_subLR</span><span class="id"> //</span><span class="id"> count_le_gt</span><span class="id"> subnK</span><span class="id"> //</span><span class="id"> count_size</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_count_eq</span><span class="id"> x</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> :</span><span class="id"> sorted</span><span class="id"> &lt;=%O</span><span class="id"> s</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">count</span> (<span class="id">&lt;</span><span class="id"> x</span>)<span class="id"> s</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> count</span> (<span class="id">&lt;=</span><span class="id"> x</span>)<span class="id"> s</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> nth</span><span class="id"> x0</span><span class="id"> s</span><span class="id"> i</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> ss</span><span class="id"> /andP[ige</span><span class="id"> ilt];</span><span class="id"> apply/le_anti</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> nth_count_le//</span><span class="id"> nth_count_ge//</span><span class="id"> ige</span> (<span class="id">leq_trans</span><span class="id"> ilt</span> (<span class="id">count_size</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> DualTotalTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> DualTotalTheory</span>.<br/>
<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> ContraTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1}</span><span class="id"> {T2</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp2}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> T2</span>) (<span class="id">b</span><span class="id"> :</span><span class="id"> bool</span>) (<span class="id">m</span><span class="id"> n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">P</span><span class="id"> :</span><span class="gallina-kwd"> Prop</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraTle</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraTle</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraTlt</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> ~~</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraTlt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraPle</span><span class="id"> P</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraPle</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraPlt</span><span class="id"> P</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> ~</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">P</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraPlt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraNle</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraNle</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraNlt</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">~~</span><span class="id"> b</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraNlt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_not_le</span><span class="id"> P</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">~</span><span class="id"> P</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_not_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_not_lt</span><span class="id"> P</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> P</span>)<span class="id"> -&gt;</span> (<span class="id">~</span><span class="id"> P</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_not_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraFle</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> =</span><span class="id"> false</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraFle</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contraFlt</span><span class="id"> b</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> b</span>)<span class="id"> -&gt;</span> (<span class="id">b</span><span class="id"> =</span><span class="id"> false</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contraFlt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_leq_le</span><span class="id"> m</span><span class="id"> n</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_leq_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_leq_lt</span><span class="id"> m</span><span class="id"> n</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_leq_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_ltn_le</span><span class="id"> m</span><span class="id"> n</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_ltn_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_ltn_lt</span><span class="id"> m</span><span class="id"> n</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span> (<span class="id">n</span><span class="id"> &lt;=</span><span class="id"> m</span>)<span class="id">%N</span>)<span class="id"> -&gt;</span> ((<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_ltn_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_le_lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_le_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_lt_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_lt_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> contra_lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span> (<span class="id">t</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> &lt;</span><span class="id"> t</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_contra_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> ContraTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TotalMonotonyTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp}</span><span class="id"> {T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'}</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">D</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">u</span><span class="id"> v</span><span class="id"> w</span><span class="id"> :</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> leT_anti</span>   <span class="id"> :=</span><span class="id"> @le_anti</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<span class="vernacular">Let</span><span class="id"> leT'_anti</span>  <span class="id"> :=</span><span class="id"> @le_anti</span><span class="id"> _</span><span class="id"> T'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> ltT_neqAle</span> <span class="id"> :=</span><span class="id"> @lt_neqAle</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<span class="vernacular">Let</span><span class="id"> ltT'_neqAle</span><span class="id"> :=</span><span class="id"> @lt_neqAle</span><span class="id"> _</span><span class="id"> T'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> ltT_def</span>    <span class="id"> :=</span><span class="id"> @lt_def</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<span class="vernacular">Let</span><span class="id"> leT_total</span>  <span class="id"> :=</span><span class="id"> @le_total</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_mono</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> total_homo_mono</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_nmono</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> total_homo_mono</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_mono_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> total_homo_mono_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_nmono_in</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}}</span><span class="id"> -&gt;</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /~</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> total_homo_mono_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TotalMonotonyTheory</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> TotalTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> CDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> rcomplPmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplPjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> rcomplPjoin</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplKI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> lexy;</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span> (<span class="id">meet_l</span><span class="id"> lexy</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplKU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> lexy;</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> rcomplPjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span> (<span class="id">join_l</span><span class="id"> lexy</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> CDistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CBDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> CBDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> \bot</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> diffErcompl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffKI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `&amp;`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> rcomplKI</span><span class="id"> y</span> (<span class="id">le0x</span><span class="id"> x</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> join0x</span><span class="id"> diffErcompl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffIK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> diffKI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetIB</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">z</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -meetA</span><span class="id"> diffKI</span><span class="id"> meetx0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetBI</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span> (<span class="id">z</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetIB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinIB</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffErcompl</span><span class="id"> rcomplKU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinBI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> joinIB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinIBC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> joinIB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinBIC</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> joinBI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -[leRHS]</span>(<span class="id">joinIB</span><span class="id"> y</span>)<span class="id"> leUr</span>. Qed.</div></details>
<span class="vernacular">Hint</span><span class="id"> Resolve</span><span class="id"> leBx</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffxx</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> diffKI</span><span class="id"> x</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> meet_r</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBl</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> z</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `\`</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> -[leLHS]</span>(<span class="id">joinIB</span><span class="id"> z</span>)<span class="id"> -[leRHS]</span>(<span class="id">joinIB</span><span class="id"> z</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> leU2E</span><span class="id"> ?meetIB</span><span class="id"> ?meetBI</span><span class="id"> //</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> []</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> leU2</span><span class="id"> //=</span><span class="id"> leUx</span><span class="id"> leUl</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/meet_idPl;</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> joinIB</span><span class="id"> y</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> joinIl</span><span class="id"> join_l</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffUK</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> diffKU</span><span class="id"> joinC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /join_r</span><span class="id"> {2}&lt;-;</span><span class="id"> rewrite</span><span class="id"> diffKU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBUK</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> leyx;</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> leBKU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBLR</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/idP/idP;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /join_r</span><span class="id"> &lt;-;</span><span class="id"> rewrite</span><span class="id"> joinA</span><span class="id"> diffKU</span><span class="id"> joinAC</span><span class="id"> leUr</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -{1}[x]</span>(<span class="id">joinIB</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> /</span>(<span class="id">leU2r_le</span> (<span class="id">diffIK</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffUx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> z</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> `|`</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> leUx</span><span class="id"> !leBl</span><span class="id"> ?leUr</span><span class="id"> ?leUl</span><span class="id"> ?andbT</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> leBLR</span><span class="id"> joinA</span><span class="id"> diffKU</span><span class="id"> joinAC</span><span class="id"> diffKU</span><span class="id"> joinAC</span><span class="id"> -joinA</span><span class="id"> leUr</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diff_eq0</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -lex0</span><span class="id"> leBLR</span><span class="id"> joinx0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinxB</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> =</span> ((<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffUx</span><span class="id"> joinAC</span><span class="id"> joinBI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinBx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> x</span><span class="id"> =</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> `|`</span> (<span class="id">z</span><span class="id"> `&amp;`</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ![_</span><span class="id"> `|`</span><span class="id"> x]joinC</span><span class="id"> ![_</span><span class="id"> `&amp;`</span><span class="id"> x]meetC</span><span class="id"> joinxB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBr</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> z</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `\`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> lexy;</span><span class="id"> rewrite</span><span class="id"> leBLR</span><span class="id"> joinxB</span><span class="id"> meet_r</span><span class="id"> ?leBUK</span><span class="id"> ?leUr</span><span class="id"> ?lexUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leB2</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> t</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `\`</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /</span>(<span class="id">@leBl</span><span class="id"> t</span>)<span class="id"> ?</span><span class="id"> /</span>(<span class="id">@leBr</span><span class="id"> x</span>)<span class="id"> /le_trans</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet_eq0E_diff</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> -&gt;</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `\`</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> xz;</span><span class="id"> apply/idP/idP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /meet_r</span><span class="id"> &lt;-;</span><span class="id"> rewrite</span><span class="id"> -meetA</span><span class="id"> meetBI</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /eqP</span><span class="id"> xIy_eq0;</span><span class="id"> rewrite</span><span class="id"> -[x]</span>(<span class="id">joinIB</span><span class="id"> y</span>)<span class="id"> xIy_eq0</span><span class="id"> join0x</span><span class="id"> leBl</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBRL</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/idP/idP</span><span class="id"> =&gt;</span><span class="id"> [xyz|];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">@meet_eq0E_diff</span><span class="id"> z</span>)<span class="id"> //</span> (<span class="id">le_trans</span><span class="id"> xyz</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /andP</span><span class="id"> [?];</span><span class="id"> rewrite</span><span class="id"> -meet_eq0E_diff</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">z</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> leBLR</span><span class="id"> leBRL</span><span class="id"> andbCA</span><span class="id"> andbA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffxU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> z</span><span class="id"> `\`</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">z</span><span class="id"> `\`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span> (<span class="id">z</span><span class="id"> `\`</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> lexI</span><span class="id"> !leBr</span><span class="id"> ?leUl</span><span class="id"> ?leUr</span><span class="id"> //=</span>.<br/>
<span class="id">rewrite</span><span class="id"> leBRL</span><span class="id"> leIx2</span><span class="id"> ?leBx</span><span class="id"> //=</span><span class="id"> meetUr</span><span class="id"> meetAC</span><span class="id"> diffIK</span><span class="id"> -meetA</span><span class="id"> diffIK</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> meet0x</span><span class="id"> meetx0</span><span class="id"> joinx0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffx0</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> join0x</span><span class="id"> meetx0</span><span class="id"> lexx</span><span class="id"> eqxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diff0x</span><span class="id"> x</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> joinx0</span><span class="id"> meet0x</span><span class="id"> lexx</span><span class="id"> eqxx</span><span class="id"> le0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffIx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> z</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> joinIr</span><span class="id"> ?leI2</span><span class="id"> ?diffKU</span><span class="id"> ?leUr</span><span class="id"> ?leBx</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -meetA</span><span class="id"> diffIK</span><span class="id"> meetx0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetxB</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> z</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffIx</span><span class="id"> -{1}[x]</span>(<span class="id">joinBI</span><span class="id"> z</span>)<span class="id"> meetUl</span><span class="id"> meetIB</span><span class="id"> joinx0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetBx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span><span class="id"> z</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `\`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ![_</span><span class="id"> `&amp;`</span><span class="id"> z]meetC</span><span class="id"> meetxB</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffxI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span> (<span class="id">y</span><span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> leUx</span><span class="id"> !leBx</span><span class="id"> //=</span><span class="id"> joinIl</span><span class="id"> joinA</span><span class="id"> joinCA</span><span class="id"> !diffKU</span>.<br/>
<span class="id">rewrite</span><span class="id"> joinCA</span><span class="id"> -joinA</span><span class="id"> [_</span><span class="id"> `|`</span><span class="id"> x]joinC</span><span class="id"> ![x</span><span class="id"> `|`</span><span class="id"> _]join_l</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -joinIl</span><span class="id"> leUr</span><span class="id"> /=</span><span class="id"> meetUl</span><span class="id"> {1}[_</span><span class="id"> `&amp;`</span><span class="id"> z]meetC</span><span class="id"> ?meetBI</span><span class="id"> joinx0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffBx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `\`</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> leBr</span><span class="id"> ?leUl</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> diffxU</span><span class="id"> joinIr</span><span class="id"> diffKU</span><span class="id"> -joinIr</span><span class="id"> meet_l</span><span class="id"> ?leUr</span><span class="id"> //=</span><span class="id"> -meetA</span><span class="id"> diffIK</span><span class="id"> meetx0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffxB</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> `|`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> -[y</span><span class="gallina-kwd"> in</span><span class="id"> RHS]</span>(<span class="id">joinIB</span><span class="id"> z</span>)<span class="id"> diffxU</span><span class="id"> joinIl</span><span class="id"> diffxI</span><span class="id"> -joinA</span><span class="id"> joinBI</span><span class="id"> join_r</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> joinBx</span><span class="id"> meetKU</span><span class="id"> meetA</span><span class="id"> meetAC</span><span class="id"> diffIK</span><span class="id"> meet0x</span><span class="id"> joinx0</span><span class="id"> meet_r</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinBK</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffUx</span><span class="id"> diffxx</span><span class="id"> joinx0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinBKC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> `\`</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffUx</span><span class="id"> diffxx</span><span class="id"> join0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disj_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> [x</span><span class="id"> ==</span><span class="id"> \bot]eq_sym</span><span class="id"> -eq_meetl</span><span class="id"> =&gt;</span><span class="id"> /eqP</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disj_leC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> ==</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> \bot</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> =&gt;</span><span class="id"> /disj_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disj_diffl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> dxy;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_diff</span><span class="id"> dxy</span><span class="id"> lexx</span><span class="id"> leUr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disj_diffr</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span><span class="id"> -&gt;</span><span class="id"> y</span><span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> =&gt;</span><span class="id"> /disj_diffl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt0B</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> \bot</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> `\`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> lt_leAnge</span><span class="id"> le0x</span><span class="id"> leBLR</span><span class="id"> joinx0</span><span class="id"> /=</span><span class="id"> lt_geF</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CTDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> CTDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> codiffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> \top</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> codiffErcompl</span>. Qed.</div></details>
<br/>
<br/>
<span class="vernacular">End</span><span class="id"> CTDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> CTDistrLatticeTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> CTBDistrLatticeTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> CTBDistrLatticeTheory</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {L</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> L</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complEdiff</span><span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> `\`</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> complEdiff</span>. Qed.</div></details>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><span class="id"> note=</span><span class="id">&quot;Use complEdiff instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span><span class="id"> complE</span><span class="id"> :=</span><span class="id"> complEdiff</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complEcodiff</span><span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> codiff</span><span class="id"> \bot</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> complEcodiff</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complErcompl</span><span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> \bot</span><span class="id"> \top</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> diffErcompl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diff1x</span><span class="id"> x</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> `\`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> ~`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/esym/complEdiff</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> ~`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> meetxB</span><span class="id"> meetx1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complK</span><span class="id"> :</span><span class="id"> involutive</span> (<span class="id">@compl</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> !complEdiff</span><span class="id"> diffxB</span><span class="id"> diffxx</span><span class="id"> meet1x</span><span class="id"> join0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> compl_inj</span><span class="id"> :</span><span class="id"> injective</span> (<span class="id">@compl</span><span class="id"> _</span><span class="id"> L</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/inv_inj/complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> disj_leC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> \bot</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> ~`</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -diff_eq0</span><span class="id"> diffE</span><span class="id"> complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leCx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">~`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">~`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !complEdiff</span><span class="id"> !leBLR</span><span class="id"> joinC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> ~`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> ~`</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -[x</span><span class="gallina-kwd"> in</span><span class="id"> LHS]complK</span><span class="id"> leCx</span><span class="id"> complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">~`</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> ~`</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leCx</span><span class="id"> complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> ~`</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> ~`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !complEdiff</span><span class="id"> diffxU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complI</span> <span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> ~`</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> ~`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !complEdiff</span><span class="id"> diffxI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinxC</span> <span class="id"> x</span><span class="id"> :</span> <span class="id"> x</span><span class="id"> `|`</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \top</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> diffKU</span><span class="id"> joinx1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinCx</span> <span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \top</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> joinxC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetxC</span> <span class="id"> x</span><span class="id"> :</span> <span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> diffKI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetCx</span> <span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetxC</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> compl1</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> \bot</span><span class="id"> :&gt;</span><span class="id"> L</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> diffxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> compl0</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> \top</span><span class="id"> :&gt;</span><span class="id"> L</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -compl1</span><span class="id"> complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complB</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> ~`</span> (<span class="id">x</span><span class="id"> `\`</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> diffE</span><span class="id"> complI</span><span class="id"> complK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leBC</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> ~`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leBLR</span><span class="id"> joinxC</span><span class="id"> lex1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> compl_joins</span> (<span class="id">J</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> J</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> J}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">~`</span> (<span class="id">\join_</span>(<span class="id">j</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> j</span>)<span class="id"> F</span><span class="id"> j</span>)<span class="id"> =</span><span class="id"> \meet_</span>(<span class="id">j</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> j</span>)<span class="id"> ~`</span><span class="id"> F</span><span class="id"> j</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim/big_rec2:</span><span class="id"> _=&gt;</span><span class="id"> [|i</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?</span><span class="id"> &lt;-];</span><span class="id"> rewrite</span><span class="id"> ?compl0</span><span class="id"> ?complU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> compl_meets</span> (<span class="id">J</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> J</span>) (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> J}</span>) (<span class="id">F</span><span class="id"> :</span><span class="id"> J</span><span class="id"> -&gt;</span><span class="id"> L</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">~`</span> (<span class="id">\meet_</span>(<span class="id">j</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> j</span>)<span class="id"> F</span><span class="id"> j</span>)<span class="id"> =</span><span class="id"> \join_</span>(<span class="id">j</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> j</span>)<span class="id"> ~`</span><span class="id"> F</span><span class="id"> j</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim/big_rec2:</span><span class="id"> _=&gt;</span><span class="id"> [|i</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ?</span><span class="id"> &lt;-];</span><span class="id"> rewrite</span><span class="id"> ?compl1</span><span class="id"> ?complI</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLatticeTheory</span>.<br/>
<br/>
<pre class="ssrdoc">
FACTORIES
</pre>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isPOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Equality</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt_def</span>  <span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">le_refl</span> <span class="id"> :</span><span class="id"> reflexive</span>    <span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_anti</span> <span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_trans</span><span class="id"> :</span><span class="id"> transitive</span>   <span class="id"> le;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> isPOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> gt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> y</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">le</span><span class="id"> y</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_def</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> ge_anti</span><span class="id"> :</span><span class="id"> antisymmetric</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> le</span><span class="id"> y</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /le_anti</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isDuallyPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> lt</span><span class="id"> lt_def</span><span class="id"> gt_def</span><span class="id"> le_refl</span><span class="id"> le_refl</span><span class="id"> le_anti</span><span class="id"> ge_anti</span><br/>
&nbsp;&nbsp;<span class="id">le_trans</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hxy</span><span class="id"> Hyz</span><span class="id"> =&gt;</span><span class="id"> le_trans</span><span class="id"> Hyz</span><span class="id"> Hxy</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> Le_isPOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Equality</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">le_refl</span> <span class="id"> :</span><span class="id"> reflexive</span>    <span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_anti</span> <span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_trans</span><span class="id"> :</span><span class="id"> transitive</span>   <span class="id"> le;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Le_isPOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> _</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>)<span class="id"> le_refl</span><span class="id"> le_anti</span><span class="id"> le_trans</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> LtLe_isPOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Equality</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">le_def</span>  <span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> ||</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">lt_irr</span>  <span class="id"> :</span><span class="id"> irreflexive</span><span class="id"> lt;</span><br/>
&nbsp;&nbsp;<span class="id">lt_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> lt;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> LtLe_isPOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> le_refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> le_def</span><span class="id"> eqxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> le_anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !le_def</span>.<br/>
<span class="id">have</span><span class="id"> [//|_/=]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> /andP[xy</span><span class="id"> yx]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lt_trans</span><span class="id"> xy</span><span class="id"> yx;</span><span class="id"> rewrite</span><span class="id"> lt_irr</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> le_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> !le_def;</span><span class="id"> have</span><span class="id"> [-&gt;|_]//=</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">eqVneq</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> /=</span><span class="id"> [&lt;-</span><span class="id"> -&gt;|_</span><span class="id"> /lt_trans</span><span class="id"> yx</span><span class="id"> /yx</span><span class="id"> -&gt;];</span><span class="id"> rewrite</span><span class="id"> orbT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_def;</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> lt_irr</span>. Qed.</div></details>
<br/>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> lt</span><span class="id"> lt_def</span><span class="id"> le_refl</span><span class="id"> le_anti</span><span class="id"> le_trans</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> Lt_isPOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Equality</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">lt</span>      <span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt_irr</span>  <span class="id"> :</span><span class="id"> irreflexive</span><span class="id"> lt;</span><br/>
&nbsp;&nbsp;<span class="id">lt_trans</span><span class="id"> :</span><span class="id"> transitive</span> <span class="id"> lt;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lt_isPOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @LtLe_isPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;_<span class="id"> lt</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>)<span class="id"> lt_irr</span><span class="id"> lt_trans</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_Meet_isSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">leEmeet</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_Meet_isSemilattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> !leEmeet;</span><span class="id"> apply/eqP/andP</span><span class="id"> =&gt;</span><span class="id"> [&lt;-|[/eqP&lt;-</span><span class="id"> /eqP&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span><span class="id"> apply/eqP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetA</span><span class="id"> -meetA</span><span class="id"> meetxx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!meetA</span> (<span class="id">meetC</span><span class="id"> z</span>) (<span class="id">meetA</span><span class="id"> y</span>)<span class="id"> meetxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!meetA</span> (<span class="id">meetC</span><span class="id"> z</span>)<span class="id"> -meetA</span> (<span class="id">meetA</span><span class="id"> y</span>)<span class="id"> !meetxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isMeetSemilattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> meet</span><span class="id"> lexI</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_Join_isSemilattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">leEjoin</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_Join_isSemilattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEjoin</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> leUx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<span class="id">rewrite</span><span class="id"> !leEjoin;</span><span class="id"> apply/eqP/andP</span><span class="id"> =&gt;</span><span class="id"> [&lt;-|[/eqP&lt;-</span><span class="id"> /eqP&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span><span class="id"> apply/eqP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinA</span><span class="id"> -joinA</span><span class="id"> joinxx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -joinA</span> (<span class="id">joinC</span><span class="id"> _</span><span class="id"> x</span>) (<span class="id">joinA</span><span class="id"> x</span>)<span class="id"> joinxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!joinA</span> (<span class="id">joinC</span><span class="id"> y</span>)<span class="id"> -joinA</span> (<span class="id">joinA</span><span class="id"> x</span>)<span class="id"> !joinxx</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isJoinSemilattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> join</span><span class="id"> leUx</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_MeetJoin_isLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meetP</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">joinP</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z,</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_MeetJoin_isLattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isMeetSemilattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> meet</span><span class="id"> meetP</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isJoinSemilattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> join</span><span class="id"> joinP</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_isLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">joinKI</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x,</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">meetKU</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x,</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">leEmeet</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id">;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_isLattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> leEjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> leEmeet;</span><span class="id"> apply/eqP/eqP</span><span class="id"> =&gt;</span><span class="id"> &lt;-</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> meetC</span><span class="id"> meetKU</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> joinC</span><span class="id"> joinKI</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> !leEmeet;</span><span class="id"> apply/eqP/andP</span><span class="id"> =&gt;</span><span class="id"> [&lt;-|[/eqP&lt;-</span><span class="id"> /eqP&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span><span class="id"> apply/eqP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetA</span><span class="id"> -meetA</span><span class="id"> meetxx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!meetA</span> (<span class="id">meetC</span><span class="id"> z</span>) (<span class="id">meetA</span><span class="id"> y</span>)<span class="id"> meetxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!meetA</span> (<span class="id">meetC</span><span class="id"> z</span>)<span class="id"> -meetA</span> (<span class="id">meetA</span><span class="id"> y</span>)<span class="id"> !meetxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -leEjoin</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> leUx</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<span class="id">rewrite</span><span class="id"> !leEjoin;</span><span class="id"> apply/eqP/andP</span><span class="id"> =&gt;</span><span class="id"> [&lt;-|[/eqP&lt;-</span><span class="id"> /eqP&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span><span class="id"> apply/eqP;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinA</span><span class="id"> -joinA</span><span class="id"> joinxx</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -joinA</span> (<span class="id">joinC</span><span class="id"> _</span><span class="id"> x</span>) (<span class="id">joinA</span><span class="id"> x</span>)<span class="id"> joinxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -!joinA</span> (<span class="id">joinC</span><span class="id"> y</span>)<span class="id"> -joinA</span> (<span class="id">joinA</span><span class="id"> x</span>)<span class="id"> !joinxx</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_MeetJoin_isLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> join</span><span class="id"> lexI</span><span class="id"> leUx</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> Lattice_Meet_isDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meetUl</span><span class="id"> :</span><span class="id"> @left_distributive</span><span class="id"> T</span><span class="id"> T</span><span class="id"> meet</span><span class="id"> join;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice_Meet_isDistrLattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> meetUr</span><span class="id"> :</span><span class="id"> right_distributive</span> (<span class="id">@meet</span><span class="id"> _</span><span class="id"> T</span>) (<span class="id">@join</span><span class="id"> _</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> ![x</span><span class="id"> `&amp;`</span><span class="id"> _]meetC</span><span class="id"> meetUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> joinIl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">@join</span><span class="id"> _</span><span class="id"> T</span>) (<span class="id">@meet</span><span class="id"> _</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> meetUr</span><span class="id"> joinIK</span><span class="id"> meetUl</span><span class="id"> -joinA</span><span class="id"> meetUKC</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_isDistributive</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> meetUl</span><span class="id"> joinIl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_Meet_isDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">joinKI</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x,</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">meetKU</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x,</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">leEmeet</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span><span class="id"> meet</span><span class="id"> join;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_Meet_isDistrLattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> join</span><span class="id"> meetC</span><span class="id"> joinC</span><span class="id"> meetA</span><span class="id"> joinA</span><span class="id"> joinKI</span><span class="id"> meetKU</span><span class="id"> leEmeet</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> meetUl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isMeetJoinDistrLattice</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Choice</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">le_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;<span class="id">lt_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet;</span><br/>
&nbsp;&nbsp;<span class="id">joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">joinKI</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">meetKU</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> T,</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span><span class="id"> meet</span><span class="id"> join;</span><br/>
&nbsp;&nbsp;<span class="id">meetxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> meet;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> isMeetJoinDistrLattice</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> le_def</span><span class="id"> meetxx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !le_def</span><span class="id"> meetC</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> []</span><span class="id"> /eqP</span><span class="id"> {2}&lt;-</span><span class="id"> /eqP</span><span class="id"> -&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> !le_def</span><span class="id"> =&gt;</span><span class="id"> /eqP</span><span class="id"> lexy</span><span class="id"> /eqP</span><span class="id"> leyz;</span><span class="id"> apply/eqP</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -[in</span><span class="id"> LHS]lexy</span><span class="id"> -meetA</span><span class="id"> leyz</span><span class="id"> lexy</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@isPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> le</span><span class="id"> lt</span><span class="id"> lt_def</span><span class="id"> le_refl</span><span class="id"> le_anti</span><span class="id"> le_trans</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> join</span><span class="id"> meetC</span><span class="id"> joinC</span><span class="id"> meetA</span><span class="id"> joinA</span><span class="id"> joinKI</span><span class="id"> meetKU</span><span class="id"> le_def</span><span class="id"> meetUl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> BDistrLattice_hasSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> BDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">diff</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">diffKI</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \bot;</span><br/>
&nbsp;&nbsp;<span class="id">joinIB</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> hasRelativeComplement</span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">note=</span><span class="id">&quot;Use BDistrLattice_hasSectionalComplement.Build instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span><span class="id"> Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">BDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span>) (<span class="id">only</span><span class="id"> parsing</span>).<br/>
<span class="vernacular">End</span><span class="id"> hasRelativeComplement</span>.<br/>
<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">note=</span><span class="id">&quot;Use BDistrLattice_hasSectionalComplement instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span><span class="id"> hasRelativeComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">BDistrLattice_hasSectionalComplement</span><span class="id"> d</span><span class="id"> T</span>) (<span class="id">only</span><span class="id"> parsing</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> BDistrLattice_hasSectionalComplement</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :=</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> diff</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> z</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetUr</span><span class="id"> joinIKC</span><span class="id"> meetUl</span><span class="id"> diffKI</span><span class="id"> joinx0</span><span class="id"> meetKU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinCA</span><span class="id"> joinIB</span><span class="id"> joinA</span><span class="id"> meetUK</span><span class="id"> joinC</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@DistrLattice_hasRelativeComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> rcompl</span><span class="id"> rcomplPmeet</span><span class="id"> rcomplPjoin</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> diffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> \bot</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /rcompl</span><span class="id"> meet0x</span><span class="id"> join0x</span><span class="id"> joinx0</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> diff</span><span class="id"> diffErcompl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> TDistrLattice_hasDualSectionalComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> TDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">codiff</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">codiffKU</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \top;</span><br/>
&nbsp;&nbsp;<span class="id">meetUB</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span> (<span class="id">x</span><span class="id"> `|`</span><span class="id"> y</span>)<span class="id"> `&amp;`</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> TDistrLattice_hasDualSectionalComplement</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> codiff</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> z</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetCA</span><span class="id"> meetUB</span><span class="id"> meetA</span><span class="id"> joinIK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> joinIr</span><span class="id"> meetUKC</span><span class="id"> joinIl</span><span class="id"> codiffKU</span><span class="id"> meetx1</span><span class="id"> joinKI</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@DistrLattice_hasRelativeComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> rcompl</span><span class="id"> rcomplPmeet</span><span class="id"> rcomplPjoin</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> codiffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> \top</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /rcompl</span><span class="id"> join1x</span><span class="id"> meet1x</span><span class="id"> meetx1</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> codiff</span><span class="id"> codiffErcompl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> CBDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> CBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasTop</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">compl</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">complEdiff</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> `\`</span><span class="id"> x;</span> <br/>
<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> hasComplement</span>.<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">note=</span><span class="id">&quot;Use CBDistrLattice_hasComplement.Build instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span><span class="id"> Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span> (<span class="id">CBDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span>) (<span class="id">only</span><span class="id"> parsing</span>).<br/>
<span class="vernacular">End</span><span class="id"> hasComplement</span>.<br/>
<br/>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">note=</span><span class="id">&quot;Use CBDistrLattice_hasComplement instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Notation</span><span class="id"> hasComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span> (<span class="id">CBDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span>) (<span class="id">only</span><span class="id"> parsing</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> CBDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> \top</span><span class="id"> y</span>) (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEcodiff</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> codiff</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEdiff</span><span class="id"> diffErcompl</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> compl</span><span class="id"> complEdiff</span><span class="id"> complEcodiff</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> CTDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> CTDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> hasBottom</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">compl</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">complEcodiff</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> codiff</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> CTDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @CDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> rcompl</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> x</span><span class="id"> y</span>) (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEdiff</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> `\`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> complEcodiff</span><span class="id"> codiffErcompl</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> compl</span><span class="id"> complEdiff</span><span class="id"> complEcodiff</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> TBDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> TBDistrLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">compl</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">joinxC</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \top;</span><br/>
&nbsp;&nbsp;<span class="id">meetxC</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x,</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> \bot;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> TBDistrLattice_hasComplement</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> compl</span><span class="id"> y</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> compl</span><span class="id"> y</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :=</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> diff</span> (<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> z</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> diffKI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> y</span><span class="id"> `&amp;`</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetCA</span><span class="id"> meetxC</span><span class="id"> meetx0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinIB</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -meetUr</span><span class="id"> joinxC</span><span class="id"> meetx1</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@BDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> diff</span><span class="id"> diffKI</span><span class="id"> joinIB</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> codiffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> \top</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /rcompl</span><span class="id"> /diff</span><span class="id"> join1x</span><span class="id"> meetx1</span><span class="id"> meet1x</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> codiff</span><span class="id"> codiffErcompl</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEdiff</span><span class="id"> x</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> diff</span><span class="id"> \top</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/esym/meet1x</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> complEcodiff</span><span class="id"> x</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span><span class="id"> codiff</span><span class="id"> \bot</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/esym/join0x</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> compl</span><span class="id"> complEdiff</span><span class="id"> complEcodiff</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> Lattice_isTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> Lattice_isTotal</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> @left_distributive</span><span class="id"> T</span><span class="id"> T</span><span class="id"> meet</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">pose</span><span class="id"> leP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> lcomparable_leP</span> (<span class="id">le_total</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">;</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply/esym</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">leP</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">leP</span><span class="id"> x</span><span class="id"> z</span>) (<span class="id">leP</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =&gt;</span><span class="id"> [|/ltW]</span><span class="id"> xy</span><span class="id"> [|/ltW]</span><span class="id"> xz</span><span class="id"> [|/ltW]</span><span class="id"> yz;</span><br/>
&nbsp;&nbsp;(<span class="id">apply/join_idPl</span><span class="id"> ||</span><span class="id"> apply/join_idPr</span>)<span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> le_trans</span><span class="id"> xy</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> meetUl</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> DistrLattice_isTotal</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> le_total</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> POrder_isTotal</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<span class="id"> }</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder_isTotal</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> comparableT</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &gt;=&lt;</span><span class="id"> y</span><span class="id"> :=</span><span class="id"> le_total</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> ltgtP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">compare</span><span class="id"> x</span><span class="id"> y</span> (<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">y</span><span class="id"> ==</span><span class="id"> x</span>) (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &gt;</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_ltgtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> leP</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> le_xor_gt</span><span class="id"> x</span><span class="id"> y</span><br/>
&nbsp;&nbsp;(<span class="id">min</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">min</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">max</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">max</span><span class="id"> x</span><span class="id"> y</span>) (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>) (<span class="id">y</span><span class="id"> &lt;</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> comparable_leP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet</span><span class="id"> :=</span><span class="id"> @min</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> join</span><span class="id"> :=</span><span class="id"> @max</span><span class="id"> _</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /meet;</span><span class="id"> have</span><span class="id"> []</span><span class="id"> :=</span><span class="id"> ltgtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /join;</span><span class="id"> have</span><span class="id"> []</span><span class="id"> :=</span><span class="id"> ltgtP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> /min</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>).<br/>
<span class="id">case:</span> (<span class="id">leP</span><span class="id"> z</span><span class="id"> y</span>) (<span class="id">leP</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">leP</span><span class="id"> z</span><span class="id"> x</span>)<span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> zy</span><span class="id"> []</span><span class="id"> yx</span><span class="id"> []</span><span class="id"> zx//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> le_lt_trans</span> (<span class="id">le_trans</span><span class="id"> zy</span><span class="id"> yx</span>)<span class="id"> zx;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> zx</span><span class="id"> ltW//</span> (<span class="id">lt_trans</span><span class="id"> yx</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> /min</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>).<br/>
<span class="id">case:</span> (<span class="id">leP</span><span class="id"> z</span><span class="id"> y</span>) (<span class="id">leP</span><span class="id"> y</span><span class="id"> x</span>) (<span class="id">leP</span><span class="id"> z</span><span class="id"> x</span>)<span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> zy</span><span class="id"> []</span><span class="id"> yx</span><span class="id"> []</span><span class="id"> zx//=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> le_lt_trans</span> (<span class="id">le_trans</span><span class="id"> zy</span><span class="id"> yx</span>)<span class="id"> zx;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eq_le</span><span class="id"> zx</span><span class="id"> ltW//</span> (<span class="id">lt_trans</span><span class="id"> yx</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> joinKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /meet</span><span class="id"> /join</span><span class="id"> /min</span><span class="id"> /max</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> []//</span><span class="id"> :=</span><span class="id"> ltgtP</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /meet</span><span class="id"> /join</span><span class="id"> /min</span><span class="id"> /max</span><span class="id"> !</span>(<span class="id">fun_if,</span><span class="id"> if_arg</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> []//</span><span class="id"> :=</span><span class="id"> ltgtP</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> leEmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /meet;</span><span class="id"> case:</span><span class="id"> leP</span><span class="id"> =&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> ?eqxx</span><span class="id"> ?lt_eqF</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> join</span><span class="id"> meetC</span><span class="id"> joinC</span><span class="id"> meetA</span><span class="id"> joinA</span><span class="id"> joinKI</span><span class="id"> meetKU</span><span class="id"> leEmeet</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice_isTotal</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> comparableT</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Choice</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">meet_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">join_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">le_anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le;</span><br/>
&nbsp;&nbsp;<span class="id">le_total</span><span class="id"> :</span><span class="id"> total</span><span class="id"> le;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> isOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> case:</span> (<span class="id">le</span><span class="id"> x</span><span class="id"> x</span>) (<span class="id">le_total</span><span class="id"> x</span><span class="id"> x</span>). Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@isPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> le</span><span class="id"> lt</span><span class="id"> lt_def</span><span class="id"> le_refl</span><span class="id"> le_anti</span><span class="id"> le_trans</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> GeneratedOrder</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Definition</span><span class="id"> T'</span><span class="id"> :=</span><span class="id"> T</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> T'</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isTotal</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T'</span><span class="id"> le_total</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meet_def</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> join_def</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !meetE</span><span class="id"> meetC</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !joinE</span><span class="id"> joinC</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !meetE</span><span class="id"> meetA</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !joinE</span><span class="id"> joinA</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetE</span><span class="id"> joinE</span><span class="id"> joinKI</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetE</span><span class="id"> joinE</span><span class="id"> meetKU</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span><span class="id"> meet</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !meetE</span><span class="id"> !joinE</span><span class="id"> meetUl</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetxx</span><span class="id"> :</span><span class="id"> idempotent_op</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> meetE</span><span class="id"> meetxx</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> le_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meetE</span> (<span class="id">eq_meetl</span><span class="id"> x</span><span class="id"> y</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> GeneratedOrder</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> join</span><span class="id"> meetC</span><span class="id"> joinC</span><span class="id"> meetA</span><span class="id"> joinA</span><span class="id"> joinKI</span><span class="id"> meetKU</span><span class="id"> le_def</span><span class="id"> meetUl</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> DistrLattice_isTotal</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> le_total</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> LtOrder</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> of</span><span class="id"> Choice</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">lt</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">join</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">le_def</span>  <span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span><span class="id"> ==</span><span class="id"> y</span>)<span class="id"> ||</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">meet_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y;</span><br/>
&nbsp;&nbsp;<span class="id">join_def</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x;</span><br/>
&nbsp;&nbsp;<span class="id">lt_irr</span>  <span class="id"> :</span><span class="id"> irreflexive</span><span class="id"> lt;</span><br/>
&nbsp;&nbsp;<span class="id">lt_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> lt;</span><br/>
&nbsp;&nbsp;<span class="id">lt_total</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> x</span><span class="id"> !=</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ||</span><span class="id"> lt</span><span class="id"> y</span><span class="id"> x;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> of</span><span class="id"> LtOrder</span><span class="id"> d</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_def;</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> lt_irr</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> meet_def_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> meet_def</span><span class="id"> lt_def;</span><span class="id"> case:</span><span class="id"> eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> join_def_le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> join_def</span><span class="id"> lt_def;</span><span class="id"> case:</span><span class="id"> eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !le_def;</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> _</span><span class="id"> /andP</span><span class="id"> []</span><span class="id"> hxy</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move/</span>(<span class="id">lt_trans</span><span class="id"> hxy</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> lt_irr</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> !le_def;</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> [-&gt;|_]</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> [-&gt;</span><span class="id"> -&gt;|_</span><span class="id"> hxy</span><span class="id"> /</span>(<span class="id">lt_trans</span><span class="id"> hxy</span>)<span class="id"> -&gt;];</span><span class="id"> rewrite</span><span class="id"> orbT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> le_total</span><span class="id"> :</span><span class="id"> total</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !le_def;</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> lt_total</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">le</span><span class="id"> lt</span><span class="id"> meet</span><span class="id"> join</span><span class="id"> lt_def</span><span class="id"> meet_def_le</span><span class="id"> join_def_le</span><span class="id"> le_anti</span><span class="id"> le_trans</span><span class="id"> le_total</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> MonoTotal</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t;</span><br/>
&nbsp;&nbsp;<span class="id">T'</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp';</span><br/>
&nbsp;&nbsp;<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T';</span><br/>
&nbsp;&nbsp;<span class="id">f_mono</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><br/>
<span class="id">}</span>.<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> MonoTotal</span><span class="id"> disp</span><span class="id"> T</span>.<br/>
<span class="vernacular">Fact</span><span class="id"> totalT</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> -!f_mono</span><span class="id"> le_total</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isTotal</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> totalT</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> CancelPartial</span>.<br/>
<span class="vernacular">Section</span><span class="id"> CancelPartial</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> PCan</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> option</span><span class="id"> T</span>) (<span class="id">f_can</span><span class="id"> :</span><span class="id"> pcancel</span><span class="id"> f</span><span class="id"> f'</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="id"> f</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> y</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lt</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="id"> f</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> y</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?;</span><span class="id"> apply:</span><span class="id"> lexx</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /le_anti</span><span class="id"> /</span>(<span class="id">pcan_inj</span><span class="id"> f_can</span>). Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> xy</span><span class="id"> /</span>(<span class="id">le_trans</span><span class="id"> xy</span>). Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /lt</span><span class="id"> lt_def</span> (<span class="id">inj_eq</span> (<span class="id">pcan_inj</span><span class="id"> f_can</span>)). Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> Pcan</span><span class="id"> :=</span><span class="id"> isPOrder</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> lt_def</span><span class="id"> refl</span><span class="id"> anti</span><span class="id"> trans</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> PCan</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> Can</span><span class="id"> f'</span> (<span class="id">f_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f</span><span class="id"> f'</span>)<span class="id"> :=</span><span class="id"> Pcan</span> (<span class="id">can_pcan</span><span class="id"> f_can</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> CancelPartial</span>.<br/>
<span class="vernacular">End</span><span class="id"> CancelPartial</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> PCanIsPartial</span><span class="id"> :=</span><span class="id"> CancelPartial</span>.<span class="id">Pcan</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> CanIsPartial</span><span class="id"> :=</span><span class="id"> CancelPartial</span>.<span class="id">Can</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<br/>
&nbsp;&nbsp;(<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<br/>
&nbsp;&nbsp;(<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> option</span><span class="id"> T</span>) (<span class="id">f_can</span><span class="id"> :</span><span class="id"> pcancel</span><span class="id"> f</span><span class="id"> f'</span>)<span class="id"> :</span><span class="id"> isPOrder</span><span class="id"> disp</span> (<span class="id">pcan_type</span><span class="id"> f_can</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CancelPartial</span>.<span class="id">Pcan</span><span class="id"> disp</span> (<span class="id">f_can</span><span class="id"> :</span><span class="id"> @pcancel</span><span class="id"> _</span> (<span class="id">pcan_type</span><span class="id"> f_can</span>) <span class="id"> f</span><span class="id"> f'</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<br/>
&nbsp;&nbsp;(<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>) (<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span> <span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="id">f_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f</span><span class="id"> f'</span>)<span class="id"> :</span><span class="id"> isPOrder</span><span class="id"> disp</span> (<span class="id">can_type</span><span class="id"> f_can</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CancelPartial</span>.<span class="id">Can</span><span class="id"> disp</span> (<span class="id">f_can</span><span class="id"> :</span><span class="id"> @cancel</span><span class="id"> _</span> (<span class="id">can_type</span><span class="id"> f_can</span>) <span class="id"> f</span><span class="id"> f'</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CancelTotal</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> PCan</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> option</span><span class="id"> T</span>) (<span class="id">f_can</span><span class="id"> :</span><span class="id"> pcancel</span><span class="id"> f</span><span class="id"> f'</span>).<br/>
<br/>
<span class="id">#[local]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">MonoTotal</span>.<span class="id">Build</span><span class="id"> disp</span> (<span class="id">pcan_type</span><span class="id"> f_can</span>) (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> PCanIsTotal</span><span class="id"> :</span><span class="id"> DistrLattice_isTotal</span><span class="id"> _</span> (<span class="id">pcan_type</span><span class="id"> f_can</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Total</span>.<span class="id">on</span> (<span class="id">pcan_type</span><span class="id"> f_can</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> PCan</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Can</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T</span>) (<span class="id">f_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f</span><span class="id"> f'</span>).<br/>
<br/>
<span class="id">#[local]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">MonoTotal</span>.<span class="id">Build</span><span class="id"> disp</span> (<span class="id">can_type</span><span class="id"> f_can</span>) (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> CanIsTotal</span><span class="id"> :</span><span class="id"> DistrLattice_isTotal</span><span class="id"> _</span> (<span class="id">can_type</span><span class="id"> f_can</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Total</span>.<span class="id">on</span> (<span class="id">can_type</span><span class="id"> f_can</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Can</span>.<br/>
<span class="vernacular">End</span><span class="id"> CancelTotal</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> IsoLattice</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t;</span><br/>
&nbsp;&nbsp;<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp';</span><br/>
&nbsp;&nbsp;<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T';</span><br/>
&nbsp;&nbsp;<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">f_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f</span><span class="id"> f';</span><br/>
&nbsp;&nbsp;<span class="id">f'_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f'</span><span class="id"> f;</span><br/>
&nbsp;&nbsp;<span class="id">f_mono</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y};</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> IsoLattice</span><span class="id"> disp</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="id"> f'</span> (<span class="id">meet</span> (<span class="id">f</span><span class="id"> x</span>) (<span class="id">f</span><span class="id"> y</span>)).<br/>
<span class="vernacular">Definition</span><span class="id"> join</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :=</span><span class="id"> f'</span> (<span class="id">join</span> (<span class="id">f</span><span class="id"> x</span>) (<span class="id">f</span><span class="id"> y</span>)).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meet</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> meetC</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> join</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /join</span><span class="id"> joinC</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meet</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> !f'_can</span><span class="id"> meetA</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> /join</span><span class="id"> !f'_can</span><span class="id"> joinA</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> joinKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> x</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> /join</span><span class="id"> f'_can</span><span class="id"> joinKI</span><span class="id"> f_can</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meetKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> join</span><span class="id"> x</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /join</span><span class="id"> /meet</span><span class="id"> f'_can</span><span class="id"> meetKU</span><span class="id"> f_can</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> meet_eql</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> -</span>(<span class="id">can_eq</span><span class="id"> f_can</span>)<span class="id"> f'_can</span><span class="id"> eq_meetl</span><span class="id"> f_mono</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> T</span><br/>
&nbsp;&nbsp;<span class="id">meetC</span><span class="id"> joinC</span><span class="id"> meetA</span><span class="id"> joinA</span><span class="id"> joinKI</span><span class="id"> meetKI</span><span class="id"> meet_eql</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> IsoDistrLattice</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> POrder</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">disp'</span><span class="id"> :</span><span class="id"> disp_t;</span><br/>
&nbsp;&nbsp;<span class="id">T'</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp';</span><br/>
&nbsp;&nbsp;<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T';</span><br/>
&nbsp;&nbsp;<span class="id">f'</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T;</span><br/>
&nbsp;&nbsp;<span class="id">f_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f</span><span class="id"> f';</span><br/>
&nbsp;&nbsp;<span class="id">f'_can</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> f'</span><span class="id"> f;</span><br/>
&nbsp;&nbsp;<span class="id">f_mono</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y};</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> of</span><span class="id"> IsoDistrLattice</span><span class="id"> disp</span><span class="id"> T</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> IsoLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> T</span><span class="id"> f_can</span><span class="id"> f'_can</span><span class="id"> f_mono</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">meet</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> rewrite</span><span class="id"> /meet</span><span class="id"> /join</span><span class="id"> /=</span><span class="id"> !f'_can</span><span class="id"> meetUl</span>. Qed.</div></details>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> T</span><span class="id"> meetUl</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isOrderMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>)<span class="id"> d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">apply</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorph_le_subproof</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> apply</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> ;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> OrderMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d'</span>)<span class="id"> :=</span><span class="id"> {f</span><span class="id"> of</span><span class="id"> isOrderMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> OrderMorphismExports</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'omorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@OrderMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">End</span><span class="id"> OrderMorphismExports</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> OrderMorphismExports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> OrderMorphismTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> OrderMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {omorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorph_le</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> omorph_le_subproof</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorph_lt</span><span class="id"> :</span><span class="id"> injective</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move/inj_homo_lt;</span><span class="id"> apply;</span><span class="id"> apply:</span><span class="id"> omorph_le</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d''</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T''</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d''</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {omorphism</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T''}</span>) (<span class="id">g</span><span class="id"> :</span><span class="id"> {omorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> idfun_is_nondecreasing</span><span class="id"> :</span><span class="id"> nondecreasing</span> (<span class="id">@idfun</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isOrderMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d</span><span class="id"> T</span><span class="id"> idfun</span><br/>
&nbsp;&nbsp;<span class="id">idfun_is_nondecreasing</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> comp_is_nondecreasing</span><span class="id"> :</span><span class="id"> nondecreasing</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> omorph_le</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isOrderMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d''</span><span class="id"> T''</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;<span class="id">comp_is_nondecreasing</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> OrderMorphismTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> OrderMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet_morphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><span class="gallina-kwd"> Prop</span><span class="id"> :=</span><span class="id"> {morph</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y}</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> join_morphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><span class="gallina-kwd"> Prop</span><span class="id"> :=</span><span class="id"> {morph</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isMeetLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>) (<span class="id">apply</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorphI_subproof</span><span class="id"> :</span><span class="id"> meet_morphism</span><span class="id"> apply;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isJoinLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>) (<span class="id">apply</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorphU_subproof</span><span class="id"> :</span><span class="id"> join_morphism</span><span class="id"> apply;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{f</span><span class="id"> of</span><span class="id"> isMeetLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> &amp;</span><span class="id"> @OrderMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{f</span><span class="id"> of</span><span class="id"> isJoinLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> &amp;</span><span class="id"> @OrderMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> LatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{f</span><span class="id"> of</span><span class="id"> @MeetLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> &amp;</span><span class="id"> @JoinLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> of</span><span class="id"> @OrderMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorphI_subproof</span><span class="id"> :</span><span class="id"> meet_morphism</span><span class="id"> f;</span><br/>
&nbsp;&nbsp;<span class="id">omorphU_subproof</span><span class="id"> :</span><span class="id"> join_morphism</span><span class="id"> f;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> of</span><span class="id"> isLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><br/>
&nbsp;&nbsp;<span class="id">omorphI_subproof</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isJoinLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><br/>
&nbsp;&nbsp;<span class="id">omorphU_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> LatticeMorphismExports</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'mlmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@MeetLatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'jlmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@JoinLatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'lmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@LatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'mlmorphism' 'of' f 'as' g ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">MeetLatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'mlmorphism'  'of'  f  'as'  g ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'mlmorphism' 'of' f ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">MeetLatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> _</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'mlmorphism'  'of'  f ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'jlmorphism' 'of' f 'as' g ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">JoinLatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'jlmorphism'  'of'  f  'as'  g ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'jlmorphism' 'of' f ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">JoinLatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> _</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'jlmorphism'  'of'  f ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'lmorphism' 'of' f 'as' g ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">LatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'lmorphism'  'of'  f  'as'  g ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'lmorphism' 'of' f ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">LatticeMorphism</span>.<span class="id">clone</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> f%function</span><span class="id"> _</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'lmorphism'  'of'  f ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">End</span><span class="id"> LatticeMorphismExports</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> LatticeMorphismExports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> LatticeMorphismTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> LatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorphI</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {mlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>)<span class="id"> :</span><span class="id"> {morph</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> omorphI_subproof</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorphU</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {jlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>)<span class="id"> :</span><span class="id"> {morph</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> omorphU_subproof</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d''</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T''</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d''</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> MeetCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {mlmorphism</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T''}</span>) (<span class="id">g</span><span class="id"> :</span><span class="id"> {mlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> idfun_is_meet_morphism</span><span class="id"> :</span><span class="id"> meet_morphism</span> (<span class="id">@idfun</span><span class="id"> T</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d</span><span class="id"> T</span><span class="id"> idfun</span><br/>
&nbsp;&nbsp;<span class="id">idfun_is_meet_morphism</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> comp_is_meet_morphism</span><span class="id"> :</span><span class="id"> meet_morphism</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> !omorphI</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d''</span><span class="id"> T''</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;<span class="id">comp_is_meet_morphism</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> MeetCompFun</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> JoinCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {jlmorphism</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T''}</span>) (<span class="id">g</span><span class="id"> :</span><span class="id"> {jlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> idfun_is_join_morphism</span><span class="id"> :</span><span class="id"> join_morphism</span> (<span class="id">@idfun</span><span class="id"> T</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isJoinLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d</span><span class="id"> T</span><span class="id"> idfun</span><br/>
&nbsp;&nbsp;<span class="id">idfun_is_join_morphism</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> comp_is_join_morphism</span><span class="id"> :</span><span class="id"> join_morphism</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> !omorphU</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isJoinLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d''</span><span class="id"> T''</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;<span class="id">comp_is_join_morphism</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> JoinCompFun</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> LatticeMorphismTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> LatticeMorphismTheory</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isBLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d'</span>) (<span class="id">apply</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorph0_subproof</span><span class="id"> :</span><span class="id"> apply</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isTLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d'</span>) (<span class="id">apply</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">omorph1_subproof</span><span class="id"> :</span><span class="id"> apply</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> \top;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><span class="id"> {f</span><span class="id"> of</span><span class="id"> isBLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><span class="id"> {f</span><span class="id"> of</span><span class="id"> isTLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBLatticeMorphism</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">T'</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{f</span><span class="id"> of</span><span class="id"> @BLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f</span><span class="id"> &amp;</span><span class="id"> @TLatticeMorphism</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d'</span><span class="id"> T'</span><span class="id"> f}</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> TBLatticeMorphismExports</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'blmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@BLatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'tlmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@TLatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'tblmorphism' T -&gt; T' }&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">@TBLatticeMorphism</span>.<span class="id">type</span><span class="id"> _</span><span class="id"> T%type</span><span class="id"> _</span><span class="id"> T'%type</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">End</span><span class="id"> TBLatticeMorphismExports</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> TBLatticeMorphismExports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> BLatticeMorphismTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BLatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {blmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorph0</span><span class="id"> :</span><span class="id"> f</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> omorph0_subproof</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d''</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T''</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d''</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {blmorphism</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T''}</span>) (<span class="id">g</span><span class="id"> :</span><span class="id"> {blmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> idfun_is_bottom_morphism</span><span class="id"> :</span> (<span class="id">@idfun</span><span class="id"> T</span>)<span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isBLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d</span><span class="id"> T</span><span class="id"> idfun</span><br/>
&nbsp;&nbsp;<span class="id">idfun_is_bottom_morphism</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> comp_is_bottom_morphism</span><span class="id"> :</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> !omorph0</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isBLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d''</span><span class="id"> T''</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;<span class="id">comp_is_bottom_morphism</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> BLatticeMorphismTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> BLatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> TLatticeMorphismTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TLatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {tlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> omorph1</span><span class="id"> :</span><span class="id"> f</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> \top</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> omorph1_subproof</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Properties</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">d''</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T''</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d''</span>).<br/>
<span class="vernacular">Variables</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> {tlmorphism</span><span class="id"> T'</span><span class="id"> -&gt;</span><span class="id"> T''}</span>) (<span class="id">g</span><span class="id"> :</span><span class="id"> {tlmorphism</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> idfun_is_top_morphism</span><span class="id"> :</span> (<span class="id">@idfun</span><span class="id"> T</span>)<span class="id"> \top</span><span class="id"> =</span><span class="id"> \top</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isTLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d</span><span class="id"> T</span><span class="id"> idfun</span><br/>
&nbsp;&nbsp;<span class="id">idfun_is_top_morphism</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> comp_is_top_morphism</span><span class="id"> :</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<span class="id"> \top</span><span class="id"> =</span><span class="id"> \top</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> !omorph1</span>. Qed.</div></details>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isTLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> d''</span><span class="id"> T''</span> (<span class="id">f</span><span class="id"> \o</span><span class="id"> g</span>)<br/>
&nbsp;&nbsp;<span class="id">comp_is_top_morphism</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> IdCompFun</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> TLatticeMorphismTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TLatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="vernacular"> ClosedPredicates</span>.<br/>
<span class="vernacular">Section</span><span class="vernacular"> ClosedPredicates</span>.<br/>
<br/>
<span class="vernacular">Variable</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Variable</span><span class="id"> S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet_closed</span><span class="id"> :=</span><span class="id"> {in</span><span class="id"> S</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> u</span><span class="id"> v,</span><span class="id"> u</span><span class="id"> `&amp;`</span><span class="id"> v</span><span class="id"> \in</span><span class="id"> S}</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> join_closed</span><span class="id"> :=</span><span class="id"> {in</span><span class="id"> S</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> u</span><span class="id"> v,</span><span class="id"> u</span><span class="id"> `|`</span><span class="id"> v</span><span class="id"> \in</span><span class="id"> S}</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> ClosedPredicates</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> ClosedPredicates</span>.<br/>
<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isMeetLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isJoinLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredU</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isBLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opred0</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isTLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opred1</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> isMeetLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> isJoinLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;latticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> LatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> @MeetLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> &amp;</span><span class="id"> @JoinLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {S</span><span class="id"> of</span><span class="id"> isBLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bJoinLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BJoinLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> isBLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> &amp;</span><span class="id"> @JoinLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {S</span><span class="id"> of</span><span class="id"> isTLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tMeetLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TMeetLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> isTLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> &amp;</span><span class="id"> @MeetLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbLatticeClosed&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{S</span><span class="id"> of</span><span class="id"> @BLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> &amp;</span><span class="id"> @TLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> of</span><span class="id"> isLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> opredI</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isJoinLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> opredU</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> isTBLatticeClosed</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred0</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred1</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> of</span><span class="id"> isTBLatticeClosed</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> opredI</span><span class="id"> opredU</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isBLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> opred0</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isTLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> opred1</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> LatticePred</span>.<br/>
<span class="vernacular">Section</span><span class="id"> LatticePred</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opredI</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> meetLatticeClosed</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> {in</span><span class="id"> S</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> u</span><span class="id"> v,</span><span class="id"> u</span><span class="id"> `&amp;`</span><span class="id"> v</span><span class="id"> \in</span><span class="id"> S}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> opredI</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opredU</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> joinLatticeClosed</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> {in</span><span class="id"> S</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> u</span><span class="id"> v,</span><span class="id"> u</span><span class="id"> `|`</span><span class="id"> v</span><span class="id"> \in</span><span class="id"> S}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> opredU</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> LatticePred</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BLatticePred</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opred0</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> bLatticeClosed</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> opred0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opred_joins</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> bJoinLatticeClosed</span><span class="id"> T</span>)<span class="id"> I</span><span class="id"> r</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> S</span>)<span class="id"> -&gt;</span><span class="id"> \join_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> FS;</span><span class="id"> elim/big_ind:</span><span class="id"> _;</span><span class="id"> [exact:</span><span class="id"> opred0</span><span class="id"> |</span><span class="id"> exact:</span><span class="id"> opredU</span><span class="id"> |]</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BLatticePred</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TLatticePred</span>.<br/>
<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opred1</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> tLatticeClosed</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> opred1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> opred_meets</span> (<span class="id">S</span><span class="id"> :</span><span class="id"> tMeetLatticeClosed</span><span class="id"> T</span>)<span class="id"> I</span><span class="id"> r</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> I</span>)<span class="id"> F</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> P</span><span class="id"> i</span><span class="id"> -&gt;</span><span class="id"> F</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> S</span>)<span class="id"> -&gt;</span><span class="id"> \meet_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P</span><span class="id"> i</span>)<span class="id"> F</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> FS;</span><span class="id"> elim/big_ind:</span><span class="id"> _;</span><span class="id"> [exact:</span><span class="id"> opred1</span><span class="id"> |</span><span class="id"> exact:</span><span class="id"> opredI</span><span class="id"> |]</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TLatticePred</span>.<br/>
<span class="vernacular">End</span><span class="id"> LatticePred</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isSubPOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubType</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> POrder</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">le_val_subproof</span><span class="id"> :</span><span class="id"> {mono</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y};</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subPOrder&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubPOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> POrder</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> isSubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> SubPOrderTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> SubPOrderTheory</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">U</span><span class="id"> :</span><span class="id"> SubPOrder</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> val</span><span class="id"> :=</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<span class="vernacular">Lemma</span><span class="id"> le_val</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> val</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> le_val_subproof</span>. Qed.</div></details>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><span class="id"> note=</span><span class="id">&quot;Use le_val instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Lemma</span><span class="id"> leEsub</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">val</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> val</span><span class="id"> y</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> le_val</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lt_val</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> val</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !lt_def</span> (<span class="id">inj_eq</span><span class="id"> val_inj</span>)<span class="id"> le_val</span>. Qed.</div></details>
<span class="id">#[deprecated</span>(<span class="id">since=</span><span class="id">&quot;mathcomp 2.3.0&quot;</span><span class="id">,</span><span class="id"> note=</span><span class="id">&quot;Use lt_val instead.&quot;</span>)<span class="id">]</span><br/>
<span class="vernacular">Lemma</span><span class="id"> ltEsub</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">val</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> val</span><span class="id"> y</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_val</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> le_wval</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> val</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/mono2W/le_val</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lt_wval</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> val</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y}</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/mono2W/lt_val</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isOrderMorphism</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> d</span><span class="id"> T</span><span class="id"> val</span><span class="id"> le_wval</span>.<br/>
<span class="vernacular">End</span><span class="id"> SubPOrderTheory</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> le_val</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U}</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> lt_val</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U}</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> le_wval</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U}</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> lt_wval</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U}</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<span class="vernacular">End</span><span class="id"> SubPOrderTheory</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isSubPOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>)<span class="id"> S</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isSubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :</span><span class="id"> isPOrder</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> CancelPartial</span>.<span class="id">Pcan</span><span class="id"> d'</span> (<span class="id">@valK</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span>).<br/>
<span class="vernacular">Fact</span><span class="id"> valD</span><span class="id"> :</span><span class="id"> {mono</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isSubPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> valD</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>) (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">U</span><span class="id"> :</span><span class="id"> subType</span><span class="id"> S</span>)<span class="id"> :=</span><span class="id"> SubChoice_isSubPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span> (<span class="id">sub_type</span><span class="id"> U</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isMeetSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubType</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">valI_subproof</span><span class="id"> :</span><span class="id"> {morph</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y};</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isJoinSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubType</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">valU_subproof</span><span class="id"> :</span><span class="id"> {morph</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y};</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subPOrderLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubPOrderLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subPOrderBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubPOrderBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrderLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subPOrderTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubPOrderTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrderLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subPOrderTBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubPOrderTBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrderLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrderLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> isMeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetSubBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetSubBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @MeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetSubTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetSubTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @MeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;meetSubTBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> MeetSubTBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @MeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubPOrderLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> isJoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinSubBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinSubBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @JoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinSubTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinSubTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @JoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;joinSubTBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> JoinSubTBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @JoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @MeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> @JoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subTBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubTBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">U</span><span class="id"> :</span><span class="id"> MeetSubLattice</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isMeetLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> d</span><span class="id"> T</span><span class="id"> val</span><span class="id"> valI_subproof</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">U</span><span class="id"> :</span><span class="id"> JoinSubLattice</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isJoinLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> d</span><span class="id"> T</span><span class="id"> val</span><span class="id"> valU_subproof</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubPOrder_isSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU_subproof</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubPOrder_isSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isLatticeClosed</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> opredU_subproof</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> inU</span><span class="id"> v</span><span class="id"> Sv</span><span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> Sub</span><span class="id"> v</span><span class="id"> Sv</span>.<br/>
<span class="vernacular">Let</span><span class="id"> meetU</span> (<span class="id">u1</span><span class="id"> u2</span><span class="id"> :</span><span class="id"> U</span>)<span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> inU</span> (<span class="id">opredI</span> (<span class="id">valP</span><span class="id"> u1</span>) (<span class="id">valP</span><span class="id"> u2</span>)).<br/>
<span class="vernacular">Let</span><span class="id"> joinU</span> (<span class="id">u1</span><span class="id"> u2</span><span class="id"> :</span><span class="id"> U</span>)<span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> inU</span> (<span class="id">opredU</span> (<span class="id">valP</span><span class="id"> u1</span>) (<span class="id">valP</span><span class="id"> u2</span>)).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> meetUC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> meetU</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> meetC</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> joinUC</span><span class="id"> :</span><span class="id"> commutative</span><span class="id"> joinU</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> joinC</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> meetUA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> meetU</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> meetA</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> joinUA</span><span class="id"> :</span><span class="id"> associative</span><span class="id"> joinU</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z;</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> joinA</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinUKI</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> meetU</span><span class="id"> x</span> (<span class="id">joinU</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> joinKI</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> meetUKU</span><span class="id"> y</span><span class="id"> x</span><span class="id"> :</span><span class="id"> joinU</span><span class="id"> x</span> (<span class="id">meetU</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> !SubK</span><span class="id"> meetKU</span>. Qed.</div></details>
<span class="vernacular">Let</span><span class="id"> le_meetU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">meetU</span><span class="id"> x</span><span class="id"> y</span><span class="id"> ==</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -le_val</span><span class="id"> -</span>(<span class="id">inj_eq</span><span class="id"> val_inj</span>)<span class="id"> SubK</span><span class="id"> leEmeet</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isLattice</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">meetUC</span><span class="id"> joinUC</span><span class="id"> meetUA</span><span class="id"> joinUA</span><span class="id"> joinUKI</span><span class="id"> meetUKU</span><span class="id"> le_meetU</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> valI</span><span class="id"> :</span><span class="id"> meet_morphism</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !SubK</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> valU</span><span class="id"> :</span><span class="id"> join_morphism</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !SubK</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> valI</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isJoinSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> valU</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> d</span>)<span class="id"> S</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU_subproof</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubChoice_isSubPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> opredU_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isBSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubType</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">val0_subproof</span><span class="id"> :</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bJoinSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BJoinSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @JoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> BLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> isBSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bJoinSubTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BJoinSubTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @BJoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> @BJoinSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;bSubTLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> BSubTLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @BSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">U</span><span class="id"> :</span><span class="id"> BJoinSubLattice</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isBLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> d</span><span class="id"> T</span><span class="id"> val</span><span class="id"> val0_subproof</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubPOrder_isBSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubPOrder_isBSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> inU</span><span class="id"> v</span><span class="id"> Sv</span><span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> Sub</span><span class="id"> v</span><span class="id"> Sv</span>.<br/>
<span class="vernacular">Let</span><span class="id"> zeroU</span><span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> inU</span><span class="id"> opred0_subproof</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span><span class="id"> x</span><span class="id"> :</span><span class="id"> zeroU</span><span class="id"> &lt;=</span><span class="id"> x</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -le_val</span><span class="id"> /=</span><span class="id"> SubK</span><span class="id"> le0x</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> le0x</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> val0</span><span class="id"> :</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> \bot</span><span class="id"> =</span><span class="id"> \bot</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> SubK</span>. Qed.</div></details>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isBSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> val0</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isBSubLattice</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> d</span>)<span class="id"> S</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU_subproof</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isBSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubChoice_isSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> opredU_subproof</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isBSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">mixin</span><span class="vernacular"> Record</span><span class="id"> isTSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> SubType</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">val1_subproof</span><span class="id"> :</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> \top</span><span class="id"> =</span><span class="id"> \top;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tMeetSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TMeetSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @MeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> isTSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tMeetSubBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TMeetSubBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @TMeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> @TMeetSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tSubBLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TSubBLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @TSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> TBLattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d'</span> (<span class="id">U</span><span class="id"> :</span><span class="id"> TMeetSubLattice</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isTLatticeMorphism</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> d</span><span class="id"> T</span><span class="id"> val</span><span class="id"> val1_subproof</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubPOrder_isTSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubPOrder_isTSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> inU</span><span class="id"> v</span><span class="id"> Sv</span><span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> Sub</span><span class="id"> v</span><span class="id"> Sv</span>.<br/>
<span class="vernacular">Let</span><span class="id"> oneU</span><span class="id"> :</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> inU</span><span class="id"> opred1_subproof</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lex1</span><span class="id"> x</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> oneU</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -le_val</span><span class="id"> /=</span><span class="id"> SubK</span><span class="id"> lex1</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasTop</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> lex1</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> val1</span><span class="id"> :</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>)<span class="id"> \top</span><span class="id"> =</span><span class="id"> \top</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> SubK</span>. Qed.</div></details>
<span class="id">#[warning=</span><span class="id">&quot;-HB.no-new-instance&quot;</span><span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isTSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> val1</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isTSubLattice</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> d</span>)<span class="id"> S</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU_subproof</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isTSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubChoice_isSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> opredU_subproof</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isTSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;tbSubLattice&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> TBSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @BSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> @TSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U}</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>) (<span class="id">S</span><span class="id"> :</span><span class="id"> pred</span><span class="id"> T</span>)<span class="id"> d'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">U</span><span class="id"> :</span><span class="id"> TBSubLattice</span>.<span class="id">type</span><span class="id"> S</span><span class="id"> d'</span>)<span class="id"> :=</span><span class="id"> BLatticeMorphism</span>.<span class="id">on</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> U</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubPOrder_isTBSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Lattice</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubPOrder_isTBSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isBSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isTSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isTBSubLattice</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> d</span>)<span class="id"> S</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opredU_subproof</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> \in</span><span class="id"> S;</span><br/>
&nbsp;&nbsp;<span class="id">opred1_subproof</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> \in</span><span class="id"> S;</span><br/>
<span class="id">}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isTBSubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubChoice_isSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opredI_subproof</span><span class="id"> opredU_subproof</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isTBSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;<span class="id">opred0_subproof</span><span class="id"> opred1_subproof</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">#[short</span>(<span class="id">type=</span><span class="id">&quot;subOrder&quot;</span>)<span class="id">]</span><br/>
<span class="id">HB</span>.<span class="id">structure</span><span class="vernacular"> Definition</span><span class="id"> SubOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">{</span><span class="id"> U</span><span class="id"> of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> &amp;</span><span class="id"> Total</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> }</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubLattice_isSubOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubLattice</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubLattice_isSubOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="vernacular">Lemma</span><span class="id"> totalU</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> U</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> -!le_val</span><span class="id"> le_total</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_isTotal</span>.<span class="id">Build</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> totalU</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubPOrder_isSubOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> d</span>)<span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubPOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubPOrder_isSubOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="vernacular">Fact</span><span class="id"> opredI</span><span class="id"> :</span><span class="id"> meet_closed</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> Sx</span><span class="id"> Sy;</span><span class="id"> rewrite</span><span class="id"> meetEtotal;</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<span class="vernacular">Fact</span><span class="id"> opredU</span><span class="id"> :</span><span class="id"> join_closed</span><span class="id"> S</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> Sx</span><span class="id"> Sy;</span><span class="id"> rewrite</span><span class="id"> joinEtotal;</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isSubLattice</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> opredI</span><span class="id"> opredU</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubLattice_isSubOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">factory</span><span class="vernacular"> Record</span><span class="id"> SubChoice_isSubOrder</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> d</span>)<span class="id"> S</span> (<span class="id">d'</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span><span class="id"> @SubChoice</span><span class="id"> T</span><span class="id"> S</span><span class="id"> U</span><span class="id"> :=</span><span class="id"> {}</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">builders</span><span class="vernacular"> Context</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span><span class="id"> of</span><span class="id"> SubChoice_isSubOrder</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubChoice_isSubPOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> SubPOrder_isSubOrder</span>.<span class="id">Build</span><span class="id"> d</span><span class="id"> T</span><span class="id"> S</span><span class="id"> d'</span><span class="id"> U</span>.<br/>
<span class="id">HB</span>.<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> SubOrderExports</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubPOrder' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubPOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubPOrder'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubPOrder' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubPOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubPOrder'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span> (<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span> (<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span> (<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span> (<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isBSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span> (<span class="id">opred0</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isBSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isBSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span> (<span class="id">opred0</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isBSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isBSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred0</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isBSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isBSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred0</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isBSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isTSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isTSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span> (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isTSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isTSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isTSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span> (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isTSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isTSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isTSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isTSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isTSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isTSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isTSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isTBSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isTBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span> (<span class="id">opred0</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isTBSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isTBSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isTBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span> (<span class="id">opred0</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isTBSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isTBSubLattice' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isTBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred0</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isTBSubLattice'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isTBSubLattice' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isTBSubLattice</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@opredI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">@opredU</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>) (<span class="id">opred0</span><span class="id"> _</span>) (<span class="id">opred1</span><span class="id"> _</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isTBSubLattice'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubLattice_isSubOrder' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubLattice_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubLattice_isSubOrder'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubLattice_isSubOrder' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubLattice_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubLattice_isSubOrder'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isSubOrder' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isSubOrder'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubPOrder_isSubOrder' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubPOrder_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubPOrder_isSubOrder'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubOrder' 'of' U 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubOrder'  'of'  U  'by'  &lt;: ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'SubChoice_isSubOrder' 'of' U 'by' &lt;: 'with' disp ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">SubChoice_isSubOrder</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> disp</span><span class="id"> U</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'SubChoice_isSubOrder'  'of'  U  'by'  &lt;:  'with'  disp ]&quot;</span>)<br/>
&nbsp;&nbsp;<span class="id">:</span><span class="id"> form_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> SubOrderExports</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> SubOrderExports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DeprecatedSubOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Total</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp}</span> (<span class="id">P</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>) (<span class="id">sT</span><span class="id"> :</span><span class="id"> subType</span><span class="id"> P</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubPOrder_isSubOrder</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> P</span><span class="id"> disp</span> (<span class="id">sub_type</span><span class="id"> sT</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Total</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> DeprecatedSubOrder</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'POrder' 'of' T 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">POrder</span>.<span class="id">copy</span><span class="id"> T%type</span> (<span class="id">sub_type</span><span class="id"> T%type</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;[ 'POrder'  'of'  T  'by'  &lt;: ]&quot;</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;[ 'Order' 'of' T 'by' &lt;: ]&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">Total</span>.<span class="id">copy</span><span class="id"> T%type</span> (<span class="id">sub_type</span><span class="id"> T%type</span>))<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> form_scope</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> DeprecatedSubOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> DeprecatedSubOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<pre class="ssrdoc">
INSTANCES
</pre>
<br/>
<pre class="ssrdoc">
Instances on nat
</pre>
<br/>
<pre class="ssrdoc">
This is an example of creation of multiple instances on the same type,
with distinct displays, using natural numbers.
We declare two distinct canonical orders:
- leq which is total, and where meet and join are minn and maxn, on nat
- dvdn which is partial, and where meet and join are gcdn and lcmn,
  on natdvd
</pre>
<br/>
<pre class="ssrdoc">
The Module NatOrder defines leq as the canonical order on the type nat,
i.e., without creating an alias. We define and use nat_display and proceed
like a standard canonical structure declaration, except that we use this
display. We also use a single factory LeOrderMixin to instantiate three
different canonical declarations porderType, distrLatticeType, orderType.
We finish by providing theorems to convert the operations of ordered and
lattice types to their definition without structure abstraction.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> NatOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> NatOrder</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> nat_display</span><span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltn_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">%N</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id">%N</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltn_neqAle</span><span class="id"> eq_sym</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isOrder</span>.<span class="id">Build</span><span class="id"> nat_display</span><span class="id"> nat</span><span class="id"> ltn_def</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>) (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">anti_leq</span><span class="id"> leq_trans</span><span class="id"> leq_total</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> nat_display</span><span class="id"> nat</span><span class="id"> leq0n</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEnat</span><span class="id"> :</span><span class="id"> le</span><span class="id"> =</span><span class="id"> leq</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> ltEnat</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> =</span><span class="id"> ltn</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> minEnat</span><span class="id"> :</span><span class="id"> min</span><span class="id"> =</span><span class="id"> minn</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> maxEnat</span><span class="id"> :</span><span class="id"> max</span><span class="id"> =</span><span class="id"> maxn</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> botEnat</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> 0%N</span><span class="id"> :&gt;</span><span class="id"> nat</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> NatOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> NatOrder</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leEnat</span><span class="id"> :=</span><span class="id"> leEnat</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEnat</span><span class="id"> :=</span><span class="id"> ltEnat</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> minEnat</span><span class="id"> :=</span><span class="id"> minEnat</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> maxEnat</span><span class="id"> :=</span><span class="id"> maxEnat</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEnat</span><span class="id"> :=</span><span class="id"> botEnat</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> NatOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> NatOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> NatMonotonyTheory</span>.<br/>
<span class="vernacular">Section</span><span class="id"> NatMonotonyTheory</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp}</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">D</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> nat}</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> nat</span><span class="id"> -&gt;</span><span class="id"> T</span>).<br/>
<span class="vernacular">Hypothesis</span><span class="id"> Dconvex</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> i</span><span class="id"> j</span><span class="id"> k,</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> k</span><span class="id"> &lt;</span><span class="id"> j</span><span class="id"> -&gt;</span><span class="id"> k</span><span class="id"> \in</span><span class="id"> D}</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> homo_ltn_lt_in</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homo_ltn_in</span><span class="id"> Dconvex;</span><span class="id"> apply:</span><span class="id"> lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> incn_inP</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> f_inc;</span><span class="id"> apply/le_mono_in/homo_ltn_lt_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nondecn_inP</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homo_leq_in</span><span class="id"> Dconvex</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nhomo_ltn_lt_in</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> f_dec;</span><span class="id"> apply:</span><span class="id"> homo_sym_in</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> homo_ltn_in</span><span class="id"> Dconvex</span><span class="id"> f_dec</span><span class="id"> =&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /lt_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> decn_inP</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> f_dec;</span><span class="id"> apply/le_nmono_in/nhomo_ltn_lt_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nonincn_inP</span><span class="id"> :</span><span class="id"> {in</span><span class="id"> D,</span><span class="gallina-kwd"> forall</span><span class="id"> i,</span><span class="id"> i</span>.<span class="id">+1</span><span class="id"> \in</span><span class="id"> D</span><span class="id"> -&gt;</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> D</span><span class="id"> &amp;,</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> /=</span><span class="id"> f_dec;</span><span class="id"> apply:</span><span class="id"> homo_sym_in</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> homo_leq_in</span><span class="id"> Dconvex</span><span class="id"> f_dec</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /le_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> homo_ltn_lt</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homo_ltn;</span><span class="id"> apply:</span><span class="id"> lt_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> incnP</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> f_inc;</span><span class="id"> apply/le_mono/homo_ltn_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nondecnP</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> homo_leq</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> le_trans</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nhomo_ltn_lt</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> f_dec;</span><span class="id"> apply:</span><span class="id"> homo_sym</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> homo_ltn</span><span class="id"> f_dec</span><span class="id"> =&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /lt_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> decnP</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> f_dec;</span><span class="id"> apply/le_nmono/nhomo_ltn_lt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nonincnP</span><span class="id"> :</span> (<span class="gallina-kwd">forall</span><span class="id"> i,</span><span class="id"> f</span><span class="id"> i</span><span class="id"> &gt;=</span><span class="id"> f</span><span class="id"> i</span>.<span class="id">+1</span>)<span class="id"> -&gt;</span><span class="id"> {homo</span><span class="id"> f</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /~</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> /=</span><span class="id"> f_dec;</span><span class="id"> apply:</span><span class="id"> homo_sym</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> homo_leq</span><span class="id"> f_dec</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> /le_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> NatMonotonyTheory</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> homo_ltn_lt_in</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> incn_inP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nondecn_inP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nhomo_ltn_lt_in</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> decn_inP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nonincn_inP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [D</span><span class="id"> f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> homo_ltn_lt</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> incnP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nondecnP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nhomo_ltn_lt</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> decnP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> nonincnP</span><span class="id"> {disp</span><span class="id"> T}</span><span class="id"> [f]</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> NatMonotonyTheory</span>.<br/>
<br/>
<pre class="ssrdoc">
The Module DvdSyntax introduces a new set of notations using the newly
created display dvd_display. We first define the display as an opaque
definition of type disp_t, and we use it as the first argument of the
operator which display we want to change from the default one (here le,
lt, dvd sdvd, meet, join, top and bottom, as well as big op notations on
gcd and lcm). This notations will now be used for any ordered type which
first parameter is set to dvd_display.
</pre>
<br/>
<span class="vernacular">Fact</span><span class="id"> dvd_display</span><span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact</span>. Qed.</div></details>
<br/>
<span class="vernacular">Module</span><span class="id"> DvdSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> dvd</span><span class="id"> :=</span> (<span class="id">@le</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;@ 'dvd' T&quot;</span><span class="id"> :=</span> (<span class="id">@le</span><span class="id"> dvd_display</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 10,</span><span class="id"> T</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 8,</span><span class="id"> only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> sdvd</span><span class="id"> :=</span> (<span class="id">@lt</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;@ 'sdvd' T&quot;</span><span class="id"> :=</span> (<span class="id">@lt</span><span class="id"> dvd_display</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 10,</span><span class="id"> T</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 8,</span><span class="id"> only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x %| y&quot;</span><span class="id"> :=</span> (<span class="id">dvd</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x %&lt;| y&quot;</span><span class="id"> :=</span> (<span class="id">sdvd</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> gcd</span><span class="id"> :=</span> (<span class="id">@meet</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;@ 'gcd' T&quot;</span><span class="id"> :=</span> (<span class="id">@meet</span><span class="id"> dvd_display</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 10,</span><span class="id"> T</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 8,</span><span class="id"> only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> lcm</span><span class="id"> :=</span> (<span class="id">@join</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;@ 'lcm' T&quot;</span><span class="id"> :=</span> (<span class="id">@join</span><span class="id"> dvd_display</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 10,</span><span class="id"> T</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 8,</span><span class="id"> only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> nat0</span><span class="id"> :=</span> (<span class="id">@top</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> nat1</span><span class="id"> :=</span> (<span class="id">@bottom</span><span class="id"> dvd_display</span><span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\gcd_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[gcd/nat0]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\lcm_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[lcm/nat1]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DvdSyntax</span>.<br/>
<br/>
<pre class="ssrdoc">
The Module NatDvd defines dvdn as the canonical order on NatDvd.t, which
is abbreviated using the notation natdvd at the end of the module.
We use the newly defined dvd_display, described above.
We first recover structures that are common to both nat and natdvd
(eqType, choiceType, countType) through the copy mechanism, then we use
a single factory MeetJoinMixin to instantiate both porderType and
distrLatticeType canonical structures, and end with top and bottom.
We finish by providing theorems to convert the operations of ordered and
lattice types to their definition without structure abstraction.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> NatDvd</span>.<br/>
<span class="vernacular">Section</span><span class="id"> NatDvd</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">m</span><span class="id"> n</span><span class="id"> p</span><span class="id"> :</span><span class="id"> nat</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lcmnn</span><span class="id"> n</span><span class="id"> :</span><span class="id"> lcmn</span><span class="id"> n</span><span class="id"> n</span><span class="id"> =</span><span class="id"> n</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> n</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> n;</span><span class="id"> rewrite</span><span class="id"> /lcmn</span><span class="id"> gcdnn</span><span class="id"> mulnK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_def</span><span class="id"> m</span><span class="id"> n</span><span class="id"> :</span><span class="id"> m</span><span class="id"> %|</span><span class="id"> n</span><span class="id"> =</span> (<span class="id">gcdn</span><span class="id"> m</span><span class="id"> n</span><span class="id"> ==</span><span class="id"> m</span>)<span class="id">%N</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/gcdn_idPl/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinKI</span><span class="id"> n</span><span class="id"> m</span><span class="id"> :</span><span class="id"> gcdn</span><span class="id"> m</span> (<span class="id">lcmn</span><span class="id"> m</span><span class="id"> n</span>)<span class="id"> =</span><span class="id"> m</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">gcdn_idPl</span><span class="id"> _</span>)<span class="id">//</span><span class="id"> dvdn_lcml</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetKU</span><span class="id"> n</span><span class="id"> m</span><span class="id"> :</span><span class="id"> lcmn</span><span class="id"> m</span> (<span class="id">gcdn</span><span class="id"> m</span><span class="id"> n</span>)<span class="id"> =</span><span class="id"> m</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">lcmn_idPl</span><span class="id"> _</span>)<span class="id">//</span><span class="id"> dvdn_gcdl</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span><span class="id"> gcdn</span><span class="id"> lcmn</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> [|m']</span><span class="id"> [|n']</span><span class="id"> [|p']</span><span class="id"> //=;</span><span class="id"> rewrite</span><span class="id"> ?lcmnn</span><span class="id"> ?lcm0n</span><span class="id"> ?lcmn0</span><span class="id"> ?gcd0n</span><span class="id"> ?gcdn0//</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> gcdnC</span><span class="id"> meetKU</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lcmnC</span><span class="id"> gcdnC</span><span class="id"> meetKU</span>.<br/>
<span class="id">apply:</span><span class="id"> eqn_from_log;</span><span class="id"> rewrite</span><span class="id"> ?</span>(<span class="id">gcdn_gt0,</span><span class="id"> lcmn_gt0</span>)<span class="id">//=</span><span class="id"> =&gt;</span><span class="id"> p</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">logn_gcd,</span><span class="id"> logn_lcm</span>)<span class="id"> ?</span>(<span class="id">gcdn_gt0,</span><span class="id"> lcmn_gt0</span>)<span class="id">//</span><span class="id"> minn_maxl</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> t</span><span class="id"> :=</span><span class="id"> nat</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">copy</span><span class="id"> t</span><span class="id"> nat</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isMeetJoinDistrLattice</span>.<span class="id">Build</span><br/>
&nbsp;&nbsp;<span class="id">dvd_display</span><span class="id"> t</span><span class="id"> dvdn</span><span class="id"> _</span><span class="id"> gcdn</span><span class="id"> lcmn</span><span class="id"> le_def</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>)<br/>
&nbsp;&nbsp;<span class="id">gcdnC</span><span class="id"> lcmnC</span><span class="id"> gcdnA</span><span class="id"> lcmnA</span><span class="id"> joinKI</span><span class="id"> meetKU</span><span class="id"> meetUl</span><span class="id"> gcdnn</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasBottom</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> t</span><span class="id"> 1</span><span class="id"> dvd1n</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasTop</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> t</span><span class="id"> 0</span><span class="id"> dvdn0</span>.<br/>
<br/>
<span class="vernacular">Import</span><span class="id"> DvdSyntax</span>.<br/>
<span class="vernacular">Lemma</span><span class="id"> dvdE</span><span class="id"> :</span><span class="id"> dvd</span><span class="id"> =</span><span class="id"> dvdn</span><span class="id"> :&gt;</span><span class="id"> rel</span><span class="id"> t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> sdvdE</span> (<span class="id">m</span><span class="id"> n</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> :</span><span class="id"> m</span><span class="id"> %&lt;|</span><span class="id"> n</span><span class="id"> =</span> (<span class="id">n</span><span class="id"> !=</span><span class="id"> m</span>)<span class="id"> &amp;&amp;</span> (<span class="id">m</span><span class="id"> %|</span><span class="id"> n</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> gcdE</span><span class="id"> :</span><span class="id"> gcd</span><span class="id"> =</span><span class="id"> gcdn</span><span class="id"> :&gt;</span> (<span class="id">t</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> t</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> lcmE</span><span class="id"> :</span><span class="id"> lcm</span><span class="id"> =</span><span class="id"> lcmn</span><span class="id"> :&gt;</span> (<span class="id">t</span><span class="id"> -&gt;</span><span class="id"> t</span><span class="id"> -&gt;</span><span class="id"> t</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> nat1E</span><span class="id"> :</span><span class="id"> nat1</span><span class="id"> =</span><span class="id"> 1%N</span><span class="id"> :&gt;</span><span class="id"> t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> nat0E</span><span class="id"> :</span><span class="id"> nat0</span><span class="id"> =</span><span class="id"> 0%N</span><span class="id"> :&gt;</span><span class="id"> t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> NatDvd</span>.<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> NatDvd</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> natdvd</span><span class="id"> :=</span><span class="id"> t</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> dvdEnat</span><span class="id"> :=</span><span class="id"> dvdE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> sdvdEnat</span><span class="id"> :=</span><span class="id"> sdvdE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> gcdEnat</span><span class="id"> :=</span><span class="id"> gcdE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lcmEnat</span><span class="id"> :=</span><span class="id"> lcmE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> nat1E</span><span class="id"> :=</span><span class="id"> nat1E</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> nat0E</span><span class="id"> :=</span><span class="id"> nat0E</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> NatDvd</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> NatDvd</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<pre class="ssrdoc">
Instances on ordinal
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> OrdinalOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> OrdinalOrder</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> ord_display</span><span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact</span>. Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> PossiblyTrivial</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[SubChoice_isSubOrder</span><span class="id"> of</span><span class="id"> 'I_n</span><span class="gallina-kwd"> by</span><span class="id"> &lt;:</span><span class="gallina-kwd"> with</span><span class="id"> ord_display]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEord</span><span class="id"> :</span> (<span class="id">le</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> 'I_n</span>)<span class="id"> =</span><span class="id"> leq</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> ltEord</span><span class="id"> :</span> (<span class="id">lt</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> 'I_n</span>)<span class="id"> =</span> (<span class="gallina-kwd">fun</span><span class="id"> m</span><span class="id"> n</span><span class="id"> =&gt;</span><span class="id"> m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">End</span><span class="id"> PossiblyTrivial</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> NonTrivial</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n'</span><span class="id"> :</span><span class="id"> nat</span>).<br/>
<span class="vernacular">Let</span><span class="id"> n</span><span class="id"> :=</span><span class="id"> n'</span>.<span class="id">+1</span>.<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasBottom</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> 'I_n</span><span class="id"> ord0</span><span class="id"> leq0n</span>.<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasTop</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> 'I_n</span><span class="id"> ord_max</span> (<span class="id">@leq_ord</span><span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEord</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> ord0</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> topEord</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> ord_max</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> NonTrivial</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> OrdinalOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> OrdinalOrder</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leEord</span><span class="id"> :=</span><span class="id"> leEord</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEord</span><span class="id"> :=</span><span class="id"> ltEord</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEord</span><span class="id"> :=</span><span class="id"> botEord</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEord</span><span class="id"> :=</span><span class="id"> topEord</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> OrdinalOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> OrdinalOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<pre class="ssrdoc">
Instances on bool
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> BoolOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> BoolOrder</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> bool</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> bool_display</span><span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> andbE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &amp;&amp;</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">%N</span><span class="gallina-kwd"> then</span><span class="id"> x</span><span class="gallina-kwd"> else</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> orbE</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> ||</span><span class="id"> y</span><span class="id"> =</span><span class="gallina-kwd"> if</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">%N</span><span class="gallina-kwd"> then</span><span class="id"> y</span><span class="gallina-kwd"> else</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> ltn_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">%N</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id">%N</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> []</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span> (<span class="id">leq</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> bool</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /anti_leq</span><span class="id"> /</span>(<span class="id">congr1</span><span class="id"> odd</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> !oddb</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isOrder</span>.<span class="id">Build</span><span class="id"> bool_display</span><span class="id"> bool</span><br/>
&nbsp;&nbsp;&nbsp;_<span class="id"> _</span><span class="id"> andb</span><span class="id"> orb</span><span class="id"> ltn_def</span><span class="id"> andbE</span><span class="id"> orbE</span><span class="id"> anti</span><span class="id"> leq_trans</span><span class="id"> leq_total</span>.<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasBottom</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> bool</span><span class="id"> false</span><span class="id"> leq0n</span>.<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @hasTop</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> bool</span><span class="id"> true</span><span class="id"> leq_b1</span>.<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@TBDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> bool</span><span class="id"> negb</span><span class="id"> orbN</span><span class="id"> andbN</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEbool</span><span class="id"> :</span><span class="id"> le</span><span class="id"> =</span> (<span class="id">leq</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> bool</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> ltEbool</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id">%N</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> andEbool</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> =</span><span class="id"> andb</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> orEbool</span><span class="id"> :</span><span class="id"> meet</span><span class="id"> =</span><span class="id"> andb</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> subEbool</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> =</span><span class="id"> x</span><span class="id"> &amp;&amp;</span><span class="id"> ~~</span><span class="id"> y</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> complEbool</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> =</span><span class="id"> negb</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BoolOrder</span>.<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> BoolOrder</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leEbool</span><span class="id"> :=</span><span class="id"> leEbool</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEbool</span><span class="id"> :=</span><span class="id"> ltEbool</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> andEbool</span><span class="id"> :=</span><span class="id"> andEbool</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> orEbool</span><span class="id"> :=</span><span class="id"> orEbool</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> subEbool</span><span class="id"> :=</span><span class="id"> subEbool</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> complEbool</span><span class="id"> :=</span><span class="id"> complEbool</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> BoolOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> BoolOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<pre class="ssrdoc">
Definition of prod_display
</pre>
<br/>
<span class="vernacular">Fact</span><span class="id"> prod_display_unit</span> (_<span class="id"> _</span><span class="id"> :</span><span class="id"> unit</span>)<span class="id"> :</span><span class="id"> unit</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tt</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> prod_display</span> (<span class="id">displ</span><span class="id"> dispr</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :</span><span class="id"> disp_t</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Disp</span> (<span class="id">prod_display_unit</span> (<span class="id">d1</span><span class="id"> displ</span>) (<span class="id">d1</span><span class="id"> dispr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">prod_display_unit</span> (<span class="id">d2</span><span class="id"> displ</span>) (<span class="id">d2</span><span class="id"> dispr</span>)).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> seqprod_display</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> disp</span>. Qed.</div></details>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> ProdSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@le</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>) <span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>) <span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@lt</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@gt</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@leif</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^p%O&quot;</span><span class="id"> :=</span> (<span class="id">@comparable</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^p%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span> (<span class="id">@comparable</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^p y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^p%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^p y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;=^p%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^p y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^p%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^p y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^p%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^p%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^p y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=^p</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^p y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^p y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;^p%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^p y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^p y&quot;</span> <span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;^p</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^p y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y &lt;=^p z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^p</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^p</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^p y &lt;=^p z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^p</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^p</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y &lt;^p z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^p</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^p</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^p y &lt;^p z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^p</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^p</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?=^p%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^p y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^p y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> &gt;=&lt;^p%O</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt;^p y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^p%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^p y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span> (<span class="id">&gt;=&lt;^p%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^p y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;^p</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt;^p y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">&gt;&lt;^p%O</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span> (<span class="id">@bottom</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span> (<span class="id">@top</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> meet</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> join</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> min</span><span class="id"> :=</span> (<span class="id">@min</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> max</span><span class="id"> :=</span> (<span class="id">@max</span> (<span class="id">prod_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;^p` y&quot;</span><span class="id"> :=</span>  (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|^p` y&quot;</span><span class="id"> :=</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^p_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^p_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^p_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^p_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> ProdSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> SeqProdSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@le</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>) <span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>) <span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@lt</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@gt</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@leif</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^sp%O&quot;</span><span class="id"> :=</span> (<span class="id">@comparable</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^sp%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span> (<span class="id">@comparable</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^sp y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^sp%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^sp y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;=^sp%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^sp y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^sp%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^sp y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^sp%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^sp%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^sp y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=^sp</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^sp y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^sp y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;^sp%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^sp y&quot;</span> <span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;^sp</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y &lt;=^sp z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^sp</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^sp</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^sp y &lt;=^sp z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^sp</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^sp</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y &lt;^sp z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^sp</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^sp</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^sp y &lt;^sp z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^sp</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^sp</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?=^sp%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^sp y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^sp y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> &gt;=&lt;^sp%O</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt;^sp y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^sp%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^sp y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span> (<span class="id">&gt;=&lt;^sp%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^sp y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;^sp</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt;^sp y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">&gt;&lt;^sp%O</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span> (<span class="id">@bottom</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span> (<span class="id">@top</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> meet</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> join</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> min</span><span class="id"> :=</span> (<span class="id">@min</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> max</span><span class="id"> :=</span> (<span class="id">@max</span> (<span class="id">seqprod_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;^sp` y&quot;</span><span class="id"> :=</span>  (<span class="id">meet</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|^sp` y&quot;</span><span class="id"> :=</span> (<span class="id">join</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^sp_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^sp_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^sp_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^sp_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> SeqProdSyntax</span>.<br/>
<br/>
<pre class="ssrdoc">
Definition of lexi_display
</pre>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexi_display</span> (<span class="id">disp</span><span class="id"> _</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> disp</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> seqlexi_display</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> disp</span>. Qed.</div></details>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> LexiSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@le</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@lt</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@gt</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@leif</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@comparable</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span> (<span class="id">@comparable</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;=^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^l y&quot;</span> <span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y &lt;=^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y &lt;=^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y &lt;^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y &lt;^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?=^l%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> &gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span> (<span class="id">&gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">&gt;&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> meetlexi</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> joinlexi</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;^l` y&quot;</span><span class="id"> :=</span>  (<span class="id">meetlexi</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|^l` y&quot;</span><span class="id"> :=</span> (<span class="id">joinlexi</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span> (<span class="id">@bottom</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span> (<span class="id">@top</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> meet</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> join</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> min</span><span class="id"> :=</span> (<span class="id">@min</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> max</span><span class="id"> :=</span> (<span class="id">@max</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> LexiSyntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> SeqLexiSyntax</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@le</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@ge</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@lt</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@gt</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;?=^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@leif</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="id">@comparable</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>)<span class="id"> :</span><span class="id"> function_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l%O&quot;</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> ~~</span> (<span class="id">@comparable</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">function_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;=^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;^l%O</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">&lt;=^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^l y&quot;</span><span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y&quot;</span> <span class="id"> :=</span> (<span class="id">&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^l y&quot;</span> <span class="id"> :=</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> x</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;^l y :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &gt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y &lt;=^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y &lt;=^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;=^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y &lt;^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;=^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;^l y &lt;^l z&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> &lt;^l</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">y</span><span class="id"> &lt;^l</span><span class="id"> z</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' C&quot;</span><span class="id"> :=</span> (<span class="id">&lt;?=^l%O</span><span class="id"> x</span><span class="id"> y</span><span class="id"> C</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &lt;=^l y ?= 'iff' C :&gt; T&quot;</span><span class="id"> :=</span> ((<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> &lt;=^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> ?=</span><span class="id"> iff</span><span class="id"> C</span>)<br/>
&nbsp;&nbsp;(<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> &gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;=&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;=&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">&gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l y&quot;</span><span class="id"> :=</span><span class="id"> [pred</span><span class="id"> x</span><span class="id"> |</span><span class="id"> ~~</span> (<span class="id">&gt;=&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>)<span class="id">]</span><span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;&gt;&lt;^l y :&gt; T&quot;</span><span class="id"> :=</span> (<span class="id">&gt;&lt;^l</span> (<span class="id">y</span><span class="id"> :</span><span class="id"> T</span>)) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x &gt;&lt;^l y&quot;</span><span class="id"> :=</span> (<span class="id">~~</span> (<span class="id">&gt;&lt;^l%O</span><span class="id"> x</span><span class="id"> y</span>))<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> meetlexi</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Notation</span><span class="id"> joinlexi</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">seqlexi_display</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `&amp;^l` y&quot;</span><span class="id"> :=</span>  (<span class="id">meetlexi</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;x `|^l` y&quot;</span><span class="id"> :=</span> (<span class="id">joinlexi</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\bot&quot;</span><span class="id"> :=</span> (<span class="id">@bottom</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;\top&quot;</span><span class="id"> :=</span> (<span class="id">@top</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> meet</span><span class="id"> :=</span> (<span class="id">@meet</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> join</span><span class="id"> :=</span> (<span class="id">@join</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> min</span><span class="id"> :=</span> (<span class="id">@min</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> max</span><span class="id"> :=</span> (<span class="id">@max</span> (<span class="id">lexi_display</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\join^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[join</span><span class="id"> /</span><span class="id"> \bot]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt;- r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i : I | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i : I ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> I</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\meet^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;(<span class="id">\big[meet</span><span class="id"> /</span><span class="id"> \top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_i</span><span class="id"> F</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\min^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[min/top]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ i F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_i</span><span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt;- r | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; r ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;-</span><span class="id"> r</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( m &lt;= i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">m</span><span class="id"> &lt;=</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i : t | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i : t ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> :</span><span class="id"> t</span>)<span class="id"> F%O</span>) (<span class="id">only</span><span class="id"> parsing</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i &lt; n ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A | P ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span><span class="id"> |</span><span class="id"> P%B</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;\max^l_ ( i 'in' A ) F&quot;</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;(<span class="id">\big[max/bottom]_</span>(<span class="id">i</span><span class="gallina-kwd"> in</span><span class="id"> A</span>)<span class="id"> F%O</span>)<span class="id"> :</span><span class="id"> order_scope</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> SeqLexiSyntax</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the cartesian product
which has canonical product order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> ProdOrder</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> type_scope</span>. <br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>)<span class="id"> :=</span><span class="id"> T</span><span class="id"> *</span><span class="id"> T'</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span><br/>
&nbsp;&nbsp;(<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">prod_display</span><span class="id"> disp1</span><span class="id"> disp2</span>)<span class="id"> T</span><span class="id"> T'</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Basis</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T * T'&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> T'</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><span class="id"> Countable</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><span class="id"> Finite</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Basis</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)<span class="id"> ||</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /lt</span><span class="id"> /le</span><span class="id"> eqE</span><span class="id"> negb_and</span><span class="id"> !lt_def</span><span class="id"> andb_orl</span><span class="id"> andbCA</span><span class="id"> -andbA</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> /le</span><span class="id"> !lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> [?</span><span class="id"> ?]</span><span class="id"> [?</span><span class="id"> ?];</span><span class="id"> rewrite</span><span class="id"> andbACA</span><span class="id"> =&gt;</span><span class="id"> /andP</span><span class="id"> []</span><span class="id"> /=</span><span class="id"> /le_anti</span><span class="id"> -&gt;</span><span class="id"> /le_anti</span><span class="id"> -&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /le</span><span class="id"> =&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> /andP</span><span class="id"> []</span><span class="id"> hxy</span><span class="id"> ?</span><span class="id"> /andP</span><span class="id"> []</span><span class="id"> /</span>(<span class="id">le_trans</span><span class="id"> hxy</span>)<span class="id"> -&gt;</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> le_trans</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)<span class="id"> ||</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isDuallyPOrder</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> le</span><span class="id"> lt</span><br/>
&nbsp;&nbsp;(<span class="id">@lt_def</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@lt_def</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@refl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@refl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@trans</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@trans</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span><span class="id"> [&amp;&amp;</span><span class="id"> x</span><span class="id"> !=</span><span class="id"> y,</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span><span class="id"> &amp;</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_pair</span> (<span class="id">x1</span><span class="id"> y1</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">x2</span><span class="id"> y2</span><span class="id"> :</span><span class="id"> T2</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x1,</span><span class="id"> x2</span>)<span class="id"> &lt;=</span> (<span class="id">y1,</span><span class="id"> y2</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> y1</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x2</span><span class="id"> &lt;=</span><span class="id"> y2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_pair</span> (<span class="id">x1</span><span class="id"> y1</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">x2</span><span class="id"> y2</span><span class="id"> :</span><span class="id"> T2</span>)<span class="id"> :</span> (<span class="id">x1,</span><span class="id"> x2</span>)<span class="id"> &lt;</span> (<span class="id">y1,</span><span class="id"> y2</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><span class="id"> =</span><br/>
&nbsp;&nbsp;<span class="id">[&amp;&amp;</span> (<span class="id">x1</span><span class="id"> !=</span><span class="id"> y1</span>)<span class="id"> ||</span> (<span class="id">x2</span><span class="id"> !=</span><span class="id"> y2</span>)<span class="id">,</span><span class="id"> x1</span><span class="id"> &lt;=</span><span class="id"> y1</span><span class="id"> &amp;</span><span class="id"> x2</span><span class="id"> &lt;=</span><span class="id"> y2]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltEprod</span><span class="id"> negb_and</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">\bot,</span><span class="id"> \bot</span>)<span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEprod</span><span class="id"> !le0x</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> BPOrder</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> BPOrder</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@hasBottom</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>) (<span class="id">\bot,</span><span class="id"> \bot</span>) (<span class="id">@le0x</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEprod</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span> (<span class="id">\bot,</span><span class="id"> \bot</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@hasTop</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>) (<span class="id">\top,</span><span class="id"> \top</span>) (<span class="id">@le0x</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEprod</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span> (<span class="id">\top,</span><span class="id"> \top</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrder</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> MeetSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexI</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> y</span><span class="id"> z</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> z</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEprod</span><span class="id"> !lexI</span><span class="id"> andbACA</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> MeetSemilattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> MeetSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> MeetSemilattice</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> MeetSemilattice</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@POrder_isMeetSemilattice</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> meet</span> (<span class="id">@lexI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<span class="id">2</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> MeetSemilattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> JoinSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> join</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `|`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `|`</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@POrder_isJoinSemilattice</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> join</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =&gt;</span><span class="id"> @lexI</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span><span class="id"> z</span><span class="id"> x</span><span class="id"> y</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `|`</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `|`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `|`</span><span class="id"> y</span>.<span class="id">2</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> JoinSemilattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> DistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> @left_distributive</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> _</span><span class="id"> Order</span>.<span class="id">meet</span><span class="id"> Order</span>.<span class="id">join</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> meetEprod</span><span class="id"> !meetUl</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> DistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> DistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> DistrLattice</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> DistrLattice</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_isDistributive</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<br/>
&nbsp;&nbsp;(<span class="id">@meetUl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@meetUl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DistrLattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :=</span> (<span class="id">rcompl</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1</span><span class="id"> z</span>.<span class="id">1,</span><span class="id"> rcompl</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span><span class="id"> z</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">meetEprod,</span><span class="id"> joinEprod</span>)<span class="id"> !rcomplPmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CDistrLattice</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CDistrLattice</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :=</span> (<span class="id">rcompl</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1</span><span class="id"> z</span>.<span class="id">1,</span><span class="id"> rcompl</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span><span class="id"> z</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@DistrLattice_hasRelativeComplement</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rcompl</span> (<span class="id">@rcomplPmeet</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> @rcomplPmeet</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span><span class="id"> y</span><span class="id"> x</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span> (<span class="id">Order</span>.<span class="id">rcompl</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1</span><span class="id"> z</span>.<span class="id">1,</span><span class="id"> Order</span>.<span class="id">rcompl</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span><span class="id"> z</span>.<span class="id">2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">diff</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> diff</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> diffErcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> \bot</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /diff</span><span class="id"> !diffErcompl</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CBDistrLattice</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CBDistrLattice</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> diff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">diff</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> diff</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">diff</span> (<span class="id">@diffErcompl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> `\`</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> `\`</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> `\`</span><span class="id"> y</span>.<span class="id">2</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CTDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">codiff</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> codiff</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">codiff</span> (<span class="id">@diffErcompl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> codiffEprod</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">codiff</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">Order</span>.<span class="id">codiff</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> y</span>.<span class="id">1,</span><span class="id"> Order</span>.<span class="id">codiff</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> y</span>.<span class="id">2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CTBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> :=</span> (<span class="id">~`</span><span class="id"> x</span>.<span class="id">1,</span><span class="id"> ~`</span><span class="id"> x</span>.<span class="id">2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEdiff</span><span class="id"> x</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> `\`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /compl</span><span class="id"> !complEdiff</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CTBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CTBDistrLattice</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> CTBDistrLattice</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> compl</span><span class="id"> x</span><span class="id"> :=</span> (<span class="id">~`</span><span class="id"> x</span>.<span class="id">1,</span><span class="id"> ~`</span><span class="id"> x</span>.<span class="id">2</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @CDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> compl</span><br/>
&nbsp;&nbsp;(<span class="id">@complEdiff</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@complEdiff</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complEprod</span><span class="id"> x</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> x</span><span class="id"> =</span> (<span class="id">~`</span><span class="id"> x</span>.<span class="id">1,</span><span class="id"> ~`</span><span class="id"> x</span>.<span class="id">2</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> FinOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> FinOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> ProdOrder</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;T *prod[ d ] T'&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> d</span><span class="id"> T</span><span class="id"> T'</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> d</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><span class="id"> format</span> <span class="id">&quot;T  *prod[ d ]  T'&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;T *p T'&quot;</span><span class="id"> :=</span> (<span class="id">type_</span><span class="id"> T</span><span class="id"> T'</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> format</span> <span class="id">&quot;T  *p  T'&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leEprod</span><span class="id"> :=</span><span class="id"> @leEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEprod</span><span class="id"> :=</span><span class="id"> @ltEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> le_pair</span><span class="id"> :=</span><span class="id"> @le_pair</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lt_pair</span><span class="id"> :=</span><span class="id"> @lt_pair</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> meetEprod</span><span class="id"> :=</span><span class="id"> @meetEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> joinEprod</span><span class="id"> :=</span><span class="id"> @joinEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEprod</span><span class="id"> :=</span><span class="id"> @botEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEprod</span><span class="id"> :=</span><span class="id"> @topEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> rcomplEprod</span><span class="id"> :=</span><span class="id"> @rcomplEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> diffEprod</span><span class="id"> :=</span><span class="id"> @diffEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> codiffEprod</span><span class="id"> :=</span><span class="id"> @codiffEprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> complEprod</span><span class="id"> :=</span><span class="id"> @complEprod</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> ProdOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> ProdOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultProdOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultProdOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> prod</span><span class="id"> T1</span><span class="id"> T2</span><span class="id"> :=</span><span class="id"> T1</span><span class="id"> *prod[prod_display</span><span class="id"> disp1</span><span class="id"> disp2]</span><span class="id"> T2</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">MeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">JoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CBDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CTDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinCDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinCTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prod</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultProdOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultProdOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare lexicographic ordering on dependent pairs.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> SigmaOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> SigmaOrder</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> porderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">tag</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span><br/>
&nbsp;&nbsp;((<span class="id">tag</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> ==&gt;</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tagged_as</span><span class="id"> x</span><span class="id"> y</span>)).<br/>
<span class="vernacular">Definition</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">tag</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span><br/>
&nbsp;&nbsp;((<span class="id">tag</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> ==&gt;</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> tagged_as</span><span class="id"> x</span><span class="id"> y</span>)).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> [x</span><span class="id"> x'];</span><span class="id"> rewrite</span><span class="id"> /le</span><span class="id"> tagged_asE/=</span><span class="id"> !lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /le</span><span class="id"> =&gt;</span><span class="id"> -[x</span><span class="id"> x']</span><span class="id"> [y</span><span class="id"> y']/=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> eq_xy</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> _</span><span class="id"> /</span><span class="id"> eq_xy</span><span class="gallina-kwd"> in</span><span class="id"> y'</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !tagged_asE</span><span class="id"> =&gt;</span><span class="id"> /le_anti</span><span class="id"> -&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> [y</span><span class="id"> y']</span><span class="id"> [x</span><span class="id"> x']</span><span class="id"> [z</span><span class="id"> z']</span><span class="id"> /andP[/=</span><span class="id"> lexy</span><span class="id"> lexy']</span><span class="id"> /andP[/=</span><span class="id"> leyz</span><span class="id"> leyz']</span>.<br/>
<span class="id">rewrite</span><span class="id"> /=</span><span class="id"> /le</span> (<span class="id">le_trans</span><span class="id"> lexy</span>)<span class="id"> //=;</span><span class="id"> apply/implyP</span><span class="id"> =&gt;</span><span class="id"> lezx</span>.<br/>
<span class="id">elim:</span><span class="id"> _</span><span class="id"> /</span> (<span class="id">@le_anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> x</span><span class="id"> y</span>)<span class="gallina-kwd"> in</span><span class="id"> y'</span><span class="id"> z'</span><span class="id"> lexy'</span><span class="id"> leyz'</span><span class="id"> *;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lexy</span> (<span class="id">le_trans</span><span class="id"> leyz</span>).<br/>
<span class="id">elim:</span><span class="id"> _</span><span class="id"> /</span> (<span class="id">@le_anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> x</span><span class="id"> z</span>)<span class="gallina-kwd"> in</span><span class="id"> z'</span><span class="id"> leyz'</span><span class="id"> *;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> lexy</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lexx</span><span class="id"> !tagged_asE/=</span><span class="gallina-kwd"> in</span><span class="id"> lexy'</span><span class="id"> leyz'</span><span class="id"> *;</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> lexy'</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /lt</span><span class="id"> /le;</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> [x</span><span class="id"> x']</span><span class="id"> [y</span><span class="id"> y']//=;</span><span class="id"> rewrite</span><span class="id"> andbCA</span>.<br/>
<span class="id">case:</span> (<span class="id">comparableP</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> xy;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> _</span><span class="id"> /</span><span class="id"> xy</span><span class="gallina-kwd"> in</span><span class="id"> y'</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> !tagged_asE</span><span class="id"> eq_Tagged/=</span><span class="id"> lt_def</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> andbT;</span><span class="id"> symmetry;</span><span class="id"> apply:</span><span class="id"> contraTneq</span><span class="id"> xy</span><span class="id"> =&gt;</span><span class="id"> -[yx</span><span class="id"> _];</span><span class="id"> rewrite</span><span class="id"> yx</span><span class="id"> ltxx</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isPOrder</span>.<span class="id">Build</span><span class="id"> disp2</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span><span class="id"> lt_def</span><span class="id"> refl</span><span class="id"> anti</span><span class="id"> trans</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEsig</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> =</span><br/>
&nbsp;&nbsp;(<span class="id">tag</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">tag</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> ==&gt;</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tagged_as</span><span class="id"> x</span><span class="id"> y</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltEsig</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> =</span><br/>
&nbsp;&nbsp;(<span class="id">tag</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">tag</span><span class="id"> x</span><span class="id"> &gt;=</span><span class="id"> tag</span><span class="id"> y</span>)<span class="id"> ==&gt;</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> tagged_as</span><span class="id"> x</span><span class="id"> y</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_Taggedl</span><span class="id"> x</span> (<span class="id">u</span><span class="id"> :</span><span class="id"> T'</span> (<span class="id">tag</span><span class="id"> x</span>))<span class="id"> :</span> (<span class="id">Tagged</span><span class="id"> T'</span><span class="id"> u</span><span class="id"> &lt;=</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">u</span><span class="id"> &lt;=</span><span class="id"> tagged</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> [t</span><span class="id"> v]/=</span><span class="gallina-kwd"> in</span><span class="id"> u</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> leEsig/=</span><span class="id"> lexx/=</span><span class="id"> tagged_asE</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_Taggedr</span><span class="id"> x</span> (<span class="id">u</span><span class="id"> :</span><span class="id"> T'</span> (<span class="id">tag</span><span class="id"> x</span>))<span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> Tagged</span><span class="id"> T'</span><span class="id"> u</span>)<span class="id"> =</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> u</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> [t</span><span class="id"> v]/=</span><span class="gallina-kwd"> in</span><span class="id"> u</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> leEsig/=</span><span class="id"> lexx/=</span><span class="id"> tagged_asE</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_Taggedl</span><span class="id"> x</span> (<span class="id">u</span><span class="id"> :</span><span class="id"> T'</span> (<span class="id">tag</span><span class="id"> x</span>))<span class="id"> :</span> (<span class="id">Tagged</span><span class="id"> T'</span><span class="id"> u</span><span class="id"> &lt;</span><span class="id"> x</span>)<span class="id"> =</span> (<span class="id">u</span><span class="id"> &lt;</span><span class="id"> tagged</span><span class="id"> x</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> [t</span><span class="id"> v]/=</span><span class="gallina-kwd"> in</span><span class="id"> u</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> ltEsig/=</span><span class="id"> lexx/=</span><span class="id"> tagged_asE</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_Taggedr</span><span class="id"> x</span> (<span class="id">u</span><span class="id"> :</span><span class="id"> T'</span> (<span class="id">tag</span><span class="id"> x</span>))<span class="id"> :</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> Tagged</span><span class="id"> T'</span><span class="id"> u</span>)<span class="id"> =</span> (<span class="id">tagged</span><span class="id"> x</span><span class="id"> &lt;</span><span class="id"> u</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> [t</span><span class="id"> v]/=</span><span class="gallina-kwd"> in</span><span class="id"> u</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> ltEsig/=</span><span class="id"> lexx/=</span><span class="id"> tagged_asE</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>)<span class="id"> :</span><span class="id"> Tagged</span><span class="id"> T'</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> \bot</span>)<span class="id"> &lt;=</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEsig</span><span class="id"> /=</span><span class="id"> !le0x</span><span class="id"> implybT</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span><span class="id"> le0x</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEsig</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> Tagged</span><span class="id"> T'</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> \bot</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> tPOrderType</span><span class="id"> disp2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lex1</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>)<span class="id"> :</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> Tagged</span><span class="id"> T'</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> \top</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> leEsig</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span> (<span class="id">lex1</span> (<span class="id">tag</span><span class="id"> x</span>))<span class="id"> =&gt;</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> x</span><span class="id"> px</span><span class="id"> x0;</span><span class="id"> rewrite</span><span class="id"> x0</span><span class="gallina-kwd"> in</span><span class="id"> px</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> tagged_asE</span><span class="id"> lex1</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasTop</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span><span class="id"> lex1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEsig</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> Tagged</span><span class="id"> T'</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> T'</span><span class="id"> \top</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Total</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> orderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !leEsig;</span><span class="id"> case:</span> (<span class="id">ltgtP</span> (<span class="id">tag</span><span class="id"> x</span>) (<span class="id">tag</span><span class="id"> y</span>))<span class="id"> =&gt;</span><span class="id"> //=</span>.<br/>
<span class="id">case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> [x</span><span class="id"> x']</span><span class="id"> [y</span><span class="id"> y']/=</span><span class="id"> eqxy;</span><span class="id"> elim:</span><span class="id"> _</span><span class="id"> /eqxy</span><span class="gallina-kwd"> in</span><span class="id"> y'</span><span class="id"> *</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !tagged_asE</span><span class="id"> le_total</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isTotal</span>.<span class="id">Build</span><span class="id"> _</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span><span class="id"> total</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Total</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> bOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> tOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> tbOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finTPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finTBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> finTBOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> {t</span><span class="id"> :</span><span class="id"> T</span><span class="id"> &amp;</span><span class="id"> T'</span><span class="id"> t}</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> SigmaOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> SigmaOrder</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> leEsig</span><span class="id"> :=</span><span class="id"> @leEsig</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEsig</span><span class="id"> :=</span><span class="id"> @ltEsig</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> le_Taggedl</span><span class="id"> :=</span><span class="id"> @le_Taggedl</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lt_Taggedl</span><span class="id"> :=</span><span class="id"> @lt_Taggedl</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> le_Taggedr</span><span class="id"> :=</span><span class="id"> @le_Taggedr</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lt_Taggedr</span><span class="id"> :=</span><span class="id"> @lt_Taggedr</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEsig</span><span class="id"> :=</span><span class="id"> @topEsig</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEsig</span><span class="id"> :=</span><span class="id"> @botEsig</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> SigmaOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> SigmaOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the cartesian product,
which has canonical lexicographic order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> ProdLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> type_scope</span>. <br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span>)<span class="id"> :=</span><span class="id"> T</span><span class="id"> *</span><span class="id"> T'</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span><br/>
&nbsp;&nbsp;(<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">lexi_display</span><span class="id"> disp1</span><span class="id"> disp2</span>)<span class="id"> T</span><span class="id"> T'</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Basis</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T * T'&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp</span><span class="id"> T</span><span class="id"> T'</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><span class="id"> Countable</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><span class="id"> Finite</span>.<span class="id">on</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Basis</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<span class="vernacular">Let</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> /le</span><span class="id"> !lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> /le</span><span class="id"> =&gt;</span><span class="id"> -[x</span><span class="id"> x']</span><span class="id"> [y</span><span class="id"> y']</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;</span><span class="id"> /le_anti-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> y</span><span class="id"> x</span><span class="id"> z</span><span class="id"> /andP</span><span class="id"> [hxy</span><span class="id"> /implyP</span><span class="id"> hxy']</span><span class="id"> /andP</span><span class="id"> [hyz</span><span class="id"> /implyP</span><span class="id"> hyz']</span>.<br/>
<span class="id">rewrite</span><span class="id"> /le</span> (<span class="id">le_trans</span><span class="id"> hxy</span>)<span class="id"> //=;</span><span class="id"> apply/implyP</span><span class="id"> =&gt;</span><span class="id"> hzx</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/le_trans/hxy'/</span>(<span class="id">le_trans</span><span class="id"> hyz</span>)<span class="id">:</span> (<span class="id">hyz'</span> (<span class="id">le_trans</span><span class="id"> hzx</span><span class="id"> hxy</span>)).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> lt_def</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =</span> (<span class="id">y</span><span class="id"> !=</span><span class="id"> x</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> /lt</span><span class="id"> /le;</span><span class="id"> case:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> [x1</span><span class="id"> x2]</span><span class="id"> [y1</span><span class="id"> y2]//=;</span><span class="id"> rewrite</span><span class="id"> xpair_eqE</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> x1</span><span class="id"> y1</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> lt_def</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> le</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<span class="vernacular">Definition</span><span class="id"> lt</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :=</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @isDuallyPOrder</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> le</span><span class="id"> lt</span><br/>
&nbsp;&nbsp;(<span class="id">@lt_def</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@lt_def</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@refl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@refl</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@anti</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>)<br/>
&nbsp;&nbsp;(<span class="id">@trans</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>) (<span class="id">@trans</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEprodlexi</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltEprodlexi</span><span class="id"> x</span><span class="id"> y</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>)<span class="id"> =</span> (<span class="id">x</span>.<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x</span>.<span class="id">1</span><span class="id"> &gt;=</span><span class="id"> y</span>.<span class="id">1</span>)<span class="id"> ==&gt;</span> (<span class="id">x</span>.<span class="id">2</span><span class="id"> &lt;</span><span class="id"> y</span>.<span class="id">2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexi_pair</span> (<span class="id">x1</span><span class="id"> y1</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">x2</span><span class="id"> y2</span><span class="id"> :</span><span class="id"> T2</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">x1,</span><span class="id"> x2</span>)<span class="id"> &lt;=</span> (<span class="id">y1,</span><span class="id"> y2</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> y1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> y1</span>)<span class="id"> ==&gt;</span> (<span class="id">x2</span><span class="id"> &lt;=</span><span class="id"> y2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi_pair</span> (<span class="id">x1</span><span class="id"> y1</span><span class="id"> :</span><span class="id"> T1</span>) (<span class="id">x2</span><span class="id"> y2</span><span class="id"> :</span><span class="id"> T2</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">x1,</span><span class="id"> x2</span>)<span class="id"> &lt;</span> (<span class="id">y1,</span><span class="id"> y2</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> y1</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> y1</span>)<span class="id"> ==&gt;</span> (<span class="id">x2</span><span class="id"> &lt;</span><span class="id"> y2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span> (<span class="id">Disp</span><span class="id"> tt</span><span class="id"> tt</span>)<span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">\bot,</span><span class="id"> \bot</span>)<span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEprodlexi</span><span class="id"> !le0x</span><span class="id"> implybT</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> T1'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T1</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> BPOrder</span>.<span class="id">on</span><span class="id"> T1'</span>.<br/>
<span class="vernacular">Let</span><span class="id"> T2'</span><span class="id"> :</span><span class="gallina-kwd"> Type</span><span class="id"> :=</span><span class="id"> T2</span>.<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> BPOrder</span>.<span class="id">on</span><span class="id"> T2'</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@hasBottom</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>) (<span class="id">\bot,</span><span class="id"> \bot</span>) (<span class="id">@le0x</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1'</span><span class="id"> T2'</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEprodlexi</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span> (<span class="id">\bot,</span><span class="id"> \bot</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@hasTop</span>.<span class="id">Build</span><span class="id"> disp3</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>) (<span class="id">\top,</span><span class="id"> \top</span>) (<span class="id">@le0x</span><span class="id"> _</span><span class="id"> _</span><span class="id"> T1^d</span><span class="id"> T2^d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEprodlexi</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span> (<span class="id">\top,</span><span class="id"> \top</span>)<span class="id"> :&gt;</span><span class="id"> T1</span><span class="id"> *</span><span class="id"> T2</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrder</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Total</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<span class="vernacular">Context</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp2</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;T1 * T2&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y;</span><span class="id"> rewrite</span><span class="id"> !leEprodlexi;</span><span class="id"> case:</span><span class="id"> ltgtP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> _;</span><span class="id"> exact:</span><span class="id"> le_total</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isTotal</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id"> total</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Total</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_prod_lexi</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> disp4</span><span class="id"> :</span><span class="id"> disp_t</span>)<br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">subrel</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">T1</span><span class="id"> *prod[disp3]</span><span class="id"> T2</span>)) (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">type</span><span class="id"> disp4</span><span class="id"> T1</span><span class="id"> T2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> case=&gt;</span><span class="id"> [x1</span><span class="id"> x2]</span><span class="id"> [y1</span><span class="id"> y2];</span><span class="id"> rewrite</span><span class="id"> leEprod</span><span class="id"> leEprodlexi</span><span class="id"> /=;</span><span class="id"> case:</span><span class="id"> comparableP</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> ProdLexiOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">disp1</span><span class="id"> disp2</span><span class="id"> disp3</span><span class="id"> :</span><span class="id"> disp_t</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp1</span>)<br/>
&nbsp;&nbsp;(<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">type</span><span class="id"> disp3</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> ProdLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> ProdLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;T *lexi[ d ] T'&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> d</span><span class="id"> T</span><span class="id"> T'</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> d</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><span class="id"> format</span> <span class="id">&quot;T  *lexi[ d ]  T'&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;T *l T'&quot;</span><span class="id"> :=</span> (<span class="id">type_</span><span class="id"> T</span><span class="id"> T'</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 70,</span><span class="id"> format</span> <span class="id">&quot;T  *l  T'&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> leEprodlexi</span><span class="id"> :=</span><span class="id"> @leEprodlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEprodlexi</span><span class="id"> :=</span><span class="id"> @ltEprodlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lexi_pair</span><span class="id"> :=</span><span class="id"> @lexi_pair</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi_pair</span><span class="id"> :=</span><span class="id"> @ltxi_pair</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEprodlexi</span><span class="id"> :=</span><span class="id"> @topEprodlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEprodlexi</span><span class="id"> :=</span><span class="id"> @botEprodlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> sub_prod_lexi</span><span class="id"> :=</span><span class="id"> @sub_prod_lexi</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> ProdLexiOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> ProdLexiOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultProdLexiOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultProdLexiOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp1</span><span class="id"> disp2</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> prodlexi</span><span class="id"> T1</span><span class="id"> T2</span><span class="id"> :=</span><span class="id"> T1</span><span class="id"> *lexi[lexi_display</span><span class="id"> disp1</span><span class="id"> disp2]</span><span class="id"> T2</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Total</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BTotal</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TTotal</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T1</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBTotal</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBPOrder</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTotal</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><br/>
&nbsp;&nbsp;(<span class="id">T1</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp1</span>) (<span class="id">T2</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp2</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBTotal</span>.<span class="id">copy</span> (<span class="id">T1</span><span class="id"> *</span><span class="id"> T2</span>)<span class="id">%type</span> (<span class="id">prodlexi</span><span class="id"> T1</span><span class="id"> T2</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultProdLexiOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultProdLexiOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the sequences,
which has canonical product order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> SeqProdOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> SeqProdOrder</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> :=</span><span class="id"> seq</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">seqprod_display</span><span class="id"> disp</span>)<span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> seq</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp'</span>).<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><span class="id"> Countable</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fixpoint</span><span class="id"> le</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> s1'</span><span class="id"> s2'</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl</span><span class="id"> :</span><span class="id"> reflexive</span><span class="id"> le</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim=&gt;</span><span class="id"> //=</span><span class="id"> ?</span><span class="id"> ?</span><span class="id"> ?;</span><span class="id"> rewrite</span><span class="id"> !lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti</span><span class="id"> :</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> elim=&gt;</span><span class="id"> [|x</span><span class="id"> s</span><span class="id"> ihs]</span><span class="id"> [|y</span><span class="id"> s']</span><span class="id"> //=;</span><span class="id"> rewrite</span><span class="id"> andbACA</span><span class="id"> =&gt;</span><span class="id"> /andP[/le_anti-&gt;</span><span class="id"> /ihs-&gt;]</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> trans</span><span class="id"> :</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim=&gt;</span><span class="id"> [|y</span><span class="id"> ys</span><span class="id"> ihs]</span><span class="id"> [|x</span><span class="id"> xs]</span><span class="id"> [|z</span><span class="id"> zs]</span><span class="id"> //=</span><span class="id"> /andP[xy</span><span class="id"> xys]</span><span class="id"> /andP[yz</span><span class="id"> yzs]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">le_trans</span><span class="id"> xy</span>)<span class="id">//</span><span class="id"> ihs</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">isPOrder</span>.<span class="id">Build</span><span class="id"> disp'</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">rrefl</span><span class="id"> _</span>)<span class="id"> refl</span><span class="id"> anti</span><span class="id"> trans</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> s2</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> (<span class="id">s1'</span><span class="id"> &lt;=</span><span class="id"> s2'</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> s1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le0s</span><span class="id"> s</span><span class="id"> :</span><span class="id"> [::]</span><span class="id"> &lt;=</span><span class="id"> s</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> les0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> s</span><span class="id"> &lt;=</span><span class="id"> [::]</span><span class="id"> =</span> (<span class="id">s</span><span class="id"> ==</span><span class="id"> [::]</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEseq</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_cons</span><span class="id"> x1</span><span class="id"> s1</span><span class="id"> x2</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">x1</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> le0s</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEseq</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> [::]</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> MeetSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fixpoint</span><span class="id"> meet</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> s1,</span><span class="id"> s2</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1',</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="id"> =&gt;</span> (<span class="id">x1</span><span class="id"> `&amp;`</span><span class="id"> x2</span>)<span class="id"> ::</span><span class="id"> meet</span><span class="id"> s1'</span><span class="id"> s2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> _,</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> [::]</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexI</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> s3</span><span class="id"> :</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> s2</span><span class="id"> s3</span>)<span class="id"> =</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s2</span>)<span class="id"> &amp;&amp;</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s3</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> s3</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> s1</span><span class="id"> IHs1]</span><span class="id"> [|y</span><span class="id"> s2]</span><span class="id"> [|z</span><span class="id"> s3]</span><span class="id"> //=;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> andbF</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> leEseq</span><span class="id"> lexI</span><span class="id"> IHs1</span><span class="id"> andbACA</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isMeetSemilattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> meet</span><span class="id"> lexI</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetEseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> s1</span><span class="id"> `&amp;`</span><span class="id"> s2</span><span class="id"> =</span> <span class="id"> [seq</span><span class="id"> x</span>.<span class="id">1</span><span class="id"> `&amp;`</span><span class="id"> x</span>.<span class="id">2</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;-</span><span class="id"> zip</span><span class="id"> s1</span><span class="id"> s2]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim:</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> s1</span><span class="id"> ihs1]</span><span class="id"> [|y</span><span class="id"> s2]//=;</span><span class="id"> rewrite</span><span class="id"> -ihs1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meet_cons</span><span class="id"> x1</span><span class="id"> s1</span><span class="id"> x2</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> `&amp;`</span> (<span class="id">x2</span><span class="id"> ::</span><span class="id"> s2</span>)<span class="id"> =</span> (<span class="id">x1</span><span class="id"> `&amp;`</span><span class="id"> x2</span>)<span class="id"> ::</span><span class="id"> s1</span><span class="id"> `&amp;`</span><span class="id"> s2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> MeetSemilattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> JoinSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fixpoint</span><span class="id"> join</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> s1,</span><span class="id"> s2</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [::],</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> s2</span><span class="id"> |</span><span class="id"> _,</span><span class="id"> [::]</span><span class="id"> =&gt;</span><span class="id"> s1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1',</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="id"> =&gt;</span> (<span class="id">x1</span><span class="id"> `|`</span><span class="id"> x2</span>)<span class="id"> ::</span><span class="id"> join</span><span class="id"> s1'</span><span class="id"> s2'</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> leUx</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> s3</span><span class="id"> :</span> (<span class="id">join</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> &lt;=</span><span class="id"> s3</span>)<span class="id"> =</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s3</span>)<span class="id"> &amp;&amp;</span> (<span class="id">s2</span><span class="id"> &lt;=</span><span class="id"> s3</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim</span><span class="id"> :</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> s3</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> s1</span><span class="id"> IHs1]</span><span class="id"> [|y</span><span class="id"> s2]</span><span class="id"> [|z</span><span class="id"> s3]</span><span class="id"> //=;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> andbT</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> leEseq</span><span class="id"> leUx</span><span class="id"> IHs1</span><span class="id"> andbACA</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> @POrder_isJoinSemilattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> join</span><span class="id"> leUx</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinEseq</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> s1</span><span class="id"> `|`</span><span class="id"> s2</span><span class="id"> =</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> s1,</span><span class="id"> s2</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [::],</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> s2</span><span class="id"> |</span><span class="id"> _,</span><span class="id"> [::]</span><span class="id"> =&gt;</span><span class="id"> s1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1',</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="id"> =&gt;</span> (<span class="id">x1</span><span class="id"> `|`</span><span class="id"> x2</span>)<span class="id"> ::</span> ((<span class="id">s1'</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> _</span>)<span class="id"> `|`</span><span class="id"> s2'</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> s1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> join_cons</span><span class="id"> x1</span><span class="id"> s1</span><span class="id"> x2</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> `|`</span> (<span class="id">x2</span><span class="id"> ::</span><span class="id"> s2</span>)<span class="id"> =</span> (<span class="id">x1</span><span class="id"> `|`</span><span class="id"> x2</span>)<span class="id"> ::</span><span class="id"> s1</span><span class="id"> `|`</span><span class="id"> s2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> JoinSemilattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><span class="id"> POrder</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> DistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">@meet</span><span class="id"> T</span>) (<span class="id">@join</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim=&gt;</span><span class="id"> [|?</span><span class="id"> ?</span><span class="id"> ih]</span><span class="id"> [|?</span><span class="id"> ?]</span><span class="id"> [|?</span><span class="id"> ?]</span><span class="id"> //=;</span><span class="id"> rewrite</span><span class="id"> meetUl</span><span class="id"> ih</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Lattice_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> meetUl</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DistrLattice</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> SeqProdOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> SeqProdOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> seqprod_with</span><span class="id"> :=</span><span class="id"> type</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> seqprod</span><span class="id"> :=</span><span class="id"> type_</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> leEseq</span><span class="id"> :=</span><span class="id"> @leEseq</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> le0s</span><span class="id"> :=</span><span class="id"> @le0s</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> les0</span><span class="id"> :=</span><span class="id"> @les0</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> le_cons</span><span class="id"> :=</span><span class="id"> @le_cons</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEseq</span><span class="id"> :=</span><span class="id"> @botEseq</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> meetEseq</span><span class="id"> :=</span><span class="id"> @meetEseq</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> meet_cons</span><span class="id"> :=</span><span class="id"> @meet_cons</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> joinEseq</span><span class="id"> :=</span><span class="id"> @joinEseq</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> SeqProdOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> SeqProdOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultSeqProdOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultSeqProdOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> seqprod</span><span class="id"> :=</span> (<span class="id">seqprod_with</span> (<span class="id">seqprod_display</span><span class="id"> disp</span>)).<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BLattice</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BDistrLattice</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqprod</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultSeqProdOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultSeqProdOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the sequences,
which has canonical lexicographic order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> SeqLexiOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> SeqLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> T</span><span class="id"> :=</span><span class="id"> seq</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">seqlexi_display</span><span class="id"> disp</span>)<span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> seq</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp'</span>).<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><span class="id"> Countable</span>.<span class="id">on</span> (<span class="id">seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">s</span><span class="id"> :</span><span class="id"> seq</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fixpoint</span><span class="id"> le</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span><span class="id"> le</span><span class="id"> s1'</span><span class="id"> s2'</span>).<br/>
<span class="vernacular">Fixpoint</span><span class="id"> lt</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :=</span><span class="gallina-kwd"> if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span><span class="id"> lt</span><span class="id"> s1'</span><span class="id"> s2'</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> refl:</span><span class="id"> reflexive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> elim</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> s</span><span class="id"> ih]</span><span class="id"> //=;</span><span class="id"> rewrite</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> anti:</span><span class="id"> antisymmetric</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /andP</span><span class="id"> [];</span><span class="id"> elim:</span><span class="id"> x</span><span class="id"> y</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> sx</span><span class="id"> ih]</span><span class="id"> [|y</span><span class="id"> sy]</span><span class="id"> //=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> -&gt;</span><span class="id"> lesxsy</span><span class="id"> /</span>(<span class="id">ih</span><span class="id"> _</span><span class="id"> lesxsy</span>)<span class="id"> -&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> trans:</span><span class="id"> transitive</span><span class="id"> le</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim=&gt;</span><span class="id"> [|y</span><span class="id"> sy</span><span class="id"> ihs]</span><span class="id"> [|x</span><span class="id"> sx]</span><span class="id"> [|z</span><span class="id"> sz]</span><span class="id"> //=;</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> x</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> [xy|-&gt;]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> _</span><span class="id"> /andP[/</span>(<span class="id">lt_le_trans</span><span class="id"> xy</span>)<span class="id"> xz</span><span class="id"> _];</span><span class="id"> rewrite</span> (<span class="id">ltW</span><span class="id"> xz</span>)<span class="id">//</span><span class="id"> lt_geF</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> _;</span><span class="id"> apply:</span><span class="id"> ihs</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_def</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> lt</span> <span class="id"> s1</span><span class="id"> s2</span><span class="id"> =</span> (<span class="id">s2</span><span class="id"> !=</span><span class="id"> s1</span>)<span class="id"> &amp;&amp;</span><span class="id"> le</span><span class="id"> s1</span><span class="id"> s2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> =&gt;</span><span class="id"> [|x</span><span class="id"> s1</span><span class="id"> ihs1]</span><span class="id"> [|y</span><span class="id"> s2]//=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> eqseq_cons</span><span class="id"> ihs1;</span><span class="id"> case:</span><span class="id"> comparableP</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isPOrder</span>.<span class="id">Build</span><span class="id"> disp'</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> lt_def</span><span class="id"> refl</span><span class="id"> anti</span><span class="id"> trans</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEseqlexi</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s2</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span> (<span class="id">s1'</span><span class="id"> &lt;=</span><span class="id"> s2'</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> s1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltEseqlexi</span><span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s1</span><span class="id"> &lt;</span><span class="id"> s2</span><span class="id"> =</span><span class="gallina-kwd"> if</span><span class="id"> s2</span><span class="id"> isn't</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2'</span><span class="gallina-kwd"> then</span><span class="id"> false</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span><span class="id"> s1</span><span class="id"> isn't</span><span class="id"> x1</span><span class="id"> ::</span><span class="id"> s1'</span><span class="gallina-kwd"> then</span><span class="id"> true</span><span class="gallina-kwd"> else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span> (<span class="id">s1'</span><span class="id"> &lt;</span><span class="id"> s2'</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> s1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexi0s</span><span class="id"> s</span><span class="id"> :</span><span class="id"> [::]</span><span class="id"> &lt;=</span><span class="id"> s</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexis0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> s</span><span class="id"> &lt;=</span><span class="id"> [::]</span><span class="id"> =</span> (<span class="id">s</span><span class="id"> ==</span><span class="id"> [::]</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEseqlexi</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi0s</span><span class="id"> s</span><span class="id"> :</span> (<span class="id">[::]</span><span class="id"> &lt;</span><span class="id"> s</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span>)<span class="id"> =</span> (<span class="id">s</span><span class="id"> !=</span><span class="id"> [::]</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> s</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxis0</span><span class="id"> s</span><span class="id"> :</span><span class="id"> s</span><span class="id"> &lt;</span><span class="id"> [::]</span><span class="id"> =</span><span class="id"> false</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltEseqlexi</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexi_cons</span><span class="id"> x1</span><span class="id"> s1</span><span class="id"> x2</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x1</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi_cons</span><span class="id"> x1</span><span class="id"> s1</span><span class="id"> x2</span><span class="id"> s2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">x1</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;</span><span class="id"> x2</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span><span class="id"> =</span> (<span class="id">x1</span><span class="id"> &lt;=</span><span class="id"> x2</span>)<span class="id"> &amp;&amp;</span> ((<span class="id">x1</span><span class="id"> &gt;=</span><span class="id"> x2</span>)<span class="id"> ==&gt;</span> (<span class="id">s1</span><span class="id"> &lt;</span><span class="id"> s2</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexi_lehead</span><span class="id"> x</span><span class="id"> s1</span><span class="id"> y</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexi_cons</span><span class="id"> =&gt;</span><span class="id"> /andP[]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi_lehead</span><span class="id"> x</span><span class="id"> s1</span><span class="id"> y</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltxi_cons</span><span class="id"> =&gt;</span><span class="id"> /andP[]</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eqhead_lexiE</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> x</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span>)<span class="id"> =</span> (<span class="id">s1</span><span class="id"> &lt;=</span><span class="id"> s2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexi_cons</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eqhead_ltxiE</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span> (<span class="id">x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;</span><span class="id"> x</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span>)<span class="id"> =</span> (<span class="id">s1</span><span class="id"> &lt;</span><span class="id"> s2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltxi_cons</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> neqhead_lexiE</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> !=</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;=</span><span class="id"> y</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lexi_cons;</span><span class="id"> case:</span><span class="id"> comparableP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> neqhead_ltxiE</span> (<span class="id">x</span><span class="id"> y</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> s1</span><span class="id"> s2</span><span class="id"> :</span><span class="id"> x</span><span class="id"> !=</span><span class="id"> y</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;(<span class="id">x</span><span class="id"> ::</span><span class="id"> s1</span><span class="id"> &lt;</span><span class="id"> y</span><span class="id"> ::</span><span class="id"> s2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _</span>)<span class="id"> =</span> (<span class="id">x</span><span class="id"> &lt;</span><span class="id"> y</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ltxi_cons;</span><span class="id"> case:</span> (<span class="id">comparableP</span><span class="id"> x</span><span class="id"> y</span>). Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> lexi0s</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Total</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">seq</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> elim=&gt;</span><span class="id"> [|x1</span><span class="id"> s1</span><span class="id"> ihs1]</span><span class="id"> [|x2</span><span class="id"> s2]//=;</span><span class="id"> rewrite</span><span class="id"> !lexi_cons;</span><span class="id"> case:</span><span class="id"> ltgtP</span><span class="id"> =&gt;</span><span class="id"> /=</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> POrder_isTotal</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">seq</span><span class="id"> T</span>)<span class="id"> total</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> Total</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_seqprod_lexi</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">subrel</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">seqprod_with</span><span class="id"> d</span><span class="id"> T</span>)) (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">seq</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim=&gt;</span><span class="id"> [|x1</span><span class="id"> s1</span><span class="id"> ihs1]</span><span class="id"> [|x2</span><span class="id"> s2]//=;</span><span class="id"> rewrite</span><span class="id"> le_cons</span><span class="id"> lexi_cons</span><span class="id"> /=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> /andP[-&gt;</span><span class="id"> /ihs1-&gt;];</span><span class="id"> rewrite</span><span class="id"> implybT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> SeqLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> SeqLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> seqlexi_with</span><span class="id"> :=</span><span class="id"> type</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> seqlexi</span><span class="id"> :=</span><span class="id"> type_</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> leEseqlexi</span><span class="id"> :=</span><span class="id"> @leEseqlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lexi0s</span><span class="id"> :=</span><span class="id"> @lexi0s</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lexis0</span><span class="id"> :=</span><span class="id"> @lexis0</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lexi_cons</span><span class="id"> :=</span><span class="id"> @lexi_cons</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> lexi_lehead</span><span class="id"> :=</span><span class="id"> @lexi_lehead</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> eqhead_lexiE</span><span class="id"> :=</span><span class="id"> @eqhead_lexiE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> neqhead_lexiE</span><span class="id"> :=</span><span class="id"> @neqhead_lexiE</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> ltEseqltxi</span><span class="id"> :=</span><span class="id"> @ltEseqlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi0s</span><span class="id"> :=</span><span class="id"> @ltxi0s</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxis0</span><span class="id"> :=</span><span class="id"> @ltxis0</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi_cons</span><span class="id"> :=</span><span class="id"> @ltxi_cons</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi_lehead</span><span class="id"> :=</span><span class="id"> @ltxi_lehead</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> eqhead_ltxiE</span><span class="id"> :=</span><span class="id"> @eqhead_ltxiE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> neqhead_ltxiE</span><span class="id"> :=</span><span class="id"> @neqhead_ltxiE</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> sub_seqprod_lexi</span><span class="id"> :=</span><span class="id"> @sub_seqprod_lexi</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> SeqLexiOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> SeqLexiOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultSeqLexiOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultSeqLexiOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> seqlexi</span><span class="id"> :=</span> (<span class="id">seqlexi_with</span> (<span class="id">seqlexi_display</span><span class="id"> disp</span>)).<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqlexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BTotal</span>.<span class="id">copy</span> (<span class="id">seq</span><span class="id"> T</span>) (<span class="id">seqlexi</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultSeqLexiOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultSeqLexiOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the tuples,
which has canonical product order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> TupleProdOrder</span>.<br/>
<span class="vernacular">Import</span><span class="id"> DefaultSeqProdOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TupleProdOrder</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> n</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">seqprod_display</span><span class="id"> disp</span>)<span class="id"> n</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;n .-tuple&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp'</span><span class="id"> n</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Basics</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> SubEquality</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubChoice</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubCountable</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><span class="id"> SubFinite</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="vernacular">End</span><span class="id"> Basics</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>).<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[SubChoice_isSubPOrder</span><span class="id"> of</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="gallina-kwd"> by</span><span class="id"> &lt;:</span><span class="gallina-kwd"> with</span><span class="id"> disp']</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEtprod</span><span class="id"> n</span><span class="id"> T</span> (<span class="id">t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [forall</span><span class="id"> i,</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> n</span><span class="id"> =&gt;</span><span class="id"> [|n</span><span class="id"> IHn]</span><span class="gallina-kwd"> in</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> *</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> tuple0</span><span class="id"> [t2]tuple0/=</span><span class="id"> lexx;</span><span class="id"> symmetry;</span><span class="id"> apply/forallP</span><span class="id"> =&gt;</span><span class="id"> []</span>.<br/>
<span class="id">case:</span> (<span class="id">tupleP</span><span class="id"> t1</span>) (<span class="id">tupleP</span><span class="id"> t2</span>)<span class="id"> =&gt;</span><span class="id"> [x1</span><span class="id"> {}t1]</span><span class="id"> [x2</span><span class="id"> {}t2]</span>.<br/>
<span class="id">rewrite</span><span class="id"> [_</span><span class="id"> &lt;=</span><span class="id"> _]le_cons</span><span class="id"> [t1</span><span class="id"> &lt;=</span><span class="id"> t2</span><span class="id"> :&gt;</span><span class="id"> seq</span><span class="id"> _]IHn</span>.<br/>
<span class="id">apply/idP/forallP</span><span class="id"> =&gt;</span><span class="id"> [/andP[lex12</span><span class="id"> /forallP/=</span><span class="id"> let12</span><span class="id"> i]|lext12]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">unliftP</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id"> =&gt;</span><span class="id"> [j</span><span class="id"> -&gt;|-&gt;]//;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
<span class="id">rewrite</span> (<span class="id">lext12</span><span class="id"> ord0</span>)<span class="id">/=;</span><span class="id"> apply/forallP=&gt;</span><span class="id"> i</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> lext12</span> (<span class="id">lift</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltEtprod</span><span class="id"> n</span><span class="id"> T</span> (<span class="id">t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">t1</span><span class="id"> &lt;</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [exists</span><span class="id"> i,</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> !=</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i]</span><span class="id"> &amp;&amp;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[forall</span><span class="id"> i,</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> leEtprod</span><span class="id"> eqEtuple</span><span class="id"> negb_forall</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span><span class="id"> t</span><span class="id"> :</span><span class="id"> [tuple</span><span class="id"> \bot</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEtprod;</span><span class="id"> apply/forallP</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> le0x</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> le0x</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEtprod</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> \bot</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lex1</span><span class="id"> t</span><span class="id"> :</span><span class="id"> t</span><span class="id"> &lt;=</span><span class="id"> [tuple</span><span class="id"> \top</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> leEtprod;</span><span class="id"> apply/forallP</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> lex1</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasTop</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> lex1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEtprod</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> \top</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrder</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> MeetSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> meet</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `&amp;`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lexI</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> :</span> (<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> meet</span><span class="id"> t2</span><span class="id"> t3</span>)<span class="id"> =</span> (<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> t2</span>)<span class="id"> &amp;&amp;</span> (<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> t3</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> !leEtprod;</span><span class="id"> apply/forallP/andP</span><span class="id"> =&gt;</span><span class="id"> [H|[Ht12</span><span class="id"> Ht13]</span><span class="id"> i];</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> lexI</span> (<span class="id">forallP</span><span class="id"> Ht12</span>) (<span class="id">forallP</span><span class="id"> Ht13</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> split;</span><span class="id"> apply/forallP</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> move:</span> (<span class="id">H</span><span class="id"> i</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> lexI</span><span class="id"> =&gt;</span><span class="id"> /andP[]</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@POrder_isMeetSemilattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> meet</span><span class="id"> lexI</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_meet</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> :</span><span class="id"> tnth</span> (<span class="id">t1</span><span class="id"> `&amp;`</span><span class="id"> t2</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `&amp;`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tnth_mktuple</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> meetEtprod</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> t1</span><span class="id"> `&amp;`</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `&amp;`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> MeetSemilattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> JoinSemilattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> join</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `|`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> leUx</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> :</span> (<span class="id">join</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> &lt;=</span><span class="id"> t3</span>)<span class="id"> =</span> (<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> t3</span>)<span class="id"> &amp;&amp;</span> (<span class="id">t2</span><span class="id"> &lt;=</span><span class="id"> t3</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> !leEtprod;</span><span class="id"> apply/forallP/andP</span><span class="id"> =&gt;</span><span class="id"> [H|[Ht13</span><span class="id"> Ht23]</span><span class="id"> i];</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> leUx</span> (<span class="id">forallP</span><span class="id"> Ht13</span>) (<span class="id">forallP</span><span class="id"> Ht23</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> split;</span><span class="id"> apply/forallP</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> move:</span> (<span class="id">H</span><span class="id"> i</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> tnth_mktuple</span><span class="id"> leUx</span><span class="id"> =&gt;</span><span class="id"> /andP[]</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@POrder_isJoinSemilattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> join</span><span class="id"> leUx</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_join</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> :</span><span class="id"> tnth</span> (<span class="id">t1</span><span class="id"> `|`</span><span class="id"> t2</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `|`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tnth_mktuple</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> joinEtprod</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> t1</span><span class="id"> `|`</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `|`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> JoinSemilattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> DistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> meetUl</span><span class="id"> :</span><span class="id"> left_distributive</span> (<span class="id">@meet</span><span class="id"> n</span><span class="id"> T</span>) (<span class="id">@join</span><span class="id"> n</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3;</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> !tnth_mktuple</span><span class="id"> meetUl</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice_Meet_isDistrLattice</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> meetUl</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DistrLattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> rcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[tuple</span><span class="id"> rcompl</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t3</span><span class="id"> i</span>)<span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPmeet</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">x</span><span class="id"> `&amp;`</span><span class="id"> y</span>)<span class="id"> `|`</span><span class="id"> z</span>)<span class="id"> `&amp;`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> x</span><span class="id"> `&amp;`</span><span class="id"> y</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> !tnth_mktuple</span><span class="id"> rcomplPmeet</span>. Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> rcomplPjoin</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> :</span> ((<span class="id">y</span><span class="id"> `|`</span><span class="id"> x</span>)<span class="id"> `&amp;`</span><span class="id"> z</span>)<span class="id"> `|`</span><span class="id"> rcompl</span><span class="id"> x</span><span class="id"> y</span><span class="id"> z</span><span class="id"> =</span><span class="id"> y</span><span class="id"> `|`</span><span class="id"> x</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> !tnth_mktuple</span><span class="id"> rcomplPjoin</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@DistrLattice_hasRelativeComplement</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rcompl</span><span class="id"> rcomplPmeet</span><span class="id"> rcomplPjoin</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_rcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> i</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">tnth</span> (<span class="id">Order</span>.<span class="id">rcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span>)<span class="id"> i</span><span class="id"> =</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Order</span>.<span class="id">rcompl</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t3</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tnth_mktuple</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rcomplEtprod</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">Order</span>.<span class="id">rcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> t3</span><span class="id"> =</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[tuple</span><span class="id"> Order</span>.<span class="id">rcompl</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t3</span><span class="id"> i</span>)<span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> diff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `\`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> diffErcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> diff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> \bot</span><span class="id"> t1</span><span class="id"> t2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> !tnth_mktuple</span><span class="id"> diffErcompl</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> diff</span><span class="id"> diffErcompl</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_diff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> :</span><span class="id"> tnth</span> (<span class="id">diff</span><span class="id"> t1</span><span class="id"> t2</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `\`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tnth_mktuple</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> diffEtprod</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> t1</span><span class="id"> `\`</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> `\`</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CBDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CTDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> codiff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[tuple</span><span class="id"> Order</span>.<span class="id">codiff</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>)<span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> codiffErcompl</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> codiff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> rcompl</span><span class="id"> t1</span><span class="id"> \top</span><span class="id"> t2</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> !tnth_mktuple</span><span class="id"> codiffErcompl</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasDualSectionalComplement</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">codiff</span><span class="id"> codiffErcompl</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_codiff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">tnth</span> (<span class="id">Order</span>.<span class="id">codiff</span><span class="id"> t1</span><span class="id"> t2</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> Order</span>.<span class="id">codiff</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> tnth_mktuple</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> codiffEtprod</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">Order</span>.<span class="id">codiff</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> Order</span>.<span class="id">codiff</span> (<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span>) (<span class="id">tnth</span><span class="id"> t2</span><span class="id"> i</span>)<span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTDistrLattice</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> CTBDistrLattice</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> compl</span><span class="id"> t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> map_tuple</span><span class="id"> compl</span><span class="id"> t</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEdiff</span><span class="id"> t</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> t</span><span class="id"> =</span> (<span class="id">\top</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> `\`</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> tnth_map</span><span class="id"> !tnth_mktuple</span><span class="id"> complEdiff</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Fact</span><span class="id"> complEcodiff</span><span class="id"> t</span><span class="id"> :</span><span class="id"> compl</span><span class="id"> t</span><span class="id"> =</span><span class="id"> codiff</span> (<span class="id">\bot</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_from_tnth</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> tnth_map</span><span class="id"> !tnth_mktuple</span><span class="id"> complEcodiff</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@CDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compl</span><span class="id"> complEdiff</span><span class="id"> complEcodiff</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> tnth_compl</span><span class="id"> t</span><span class="id"> i</span><span class="id"> :</span><span class="id"> tnth</span> (<span class="id">~`</span><span class="id"> t</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> ~`</span><span class="id"> tnth</span><span class="id"> t</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> tnth_map</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> complEtprod</span><span class="id"> t</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> t</span><span class="id"> =</span><span class="id"> map_tuple</span><span class="id"> Order</span>.<span class="id">compl</span><span class="id"> t</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> CTBDistrLattice</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> TupleProdOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> TupleProdOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tupleprod[ disp ]&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp</span><span class="id"> n</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 2,</span><span class="id"> disp</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><span class="id"> format</span> <span class="id">&quot;n .-tupleprod[ disp ]&quot;</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tupleprod&quot;</span><span class="id"> :=</span> (<span class="id">type_</span><span class="id"> n</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 2,</span><span class="id"> format</span> <span class="id">&quot;n .-tupleprod&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> leEtprod</span><span class="id"> :=</span><span class="id"> @leEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltEtprod</span><span class="id"> :=</span><span class="id"> @ltEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEtprod</span><span class="id"> :=</span><span class="id"> @botEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEtprod</span><span class="id"> :=</span><span class="id"> @topEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_meet</span><span class="id"> :=</span><span class="id"> @tnth_meet</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> meetEtprod</span><span class="id"> :=</span><span class="id"> @meetEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_join</span><span class="id"> :=</span><span class="id"> @tnth_join</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> joinEtprod</span><span class="id"> :=</span><span class="id"> @joinEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_rcompl</span><span class="id"> :=</span><span class="id"> @tnth_rcompl</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> rcomplEtprod</span><span class="id"> :=</span><span class="id"> @rcomplEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_diff</span><span class="id"> :=</span><span class="id"> @tnth_diff</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> diffEtprod</span><span class="id"> :=</span><span class="id"> @diffEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_codiff</span><span class="id"> :=</span><span class="id"> @tnth_codiff</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> codiffEtprod</span><span class="id"> :=</span><span class="id"> @codiffEtprod</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> tnth_compl</span><span class="id"> :=</span><span class="id"> @tnth_compl</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> complEtprod</span><span class="id"> :=</span><span class="id"> @complEtprod</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> TupleProdOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> TupleProdOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultTupleProdOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultTupleProdOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tupleprod&quot;</span><span class="id"> :=</span><span class="id"> n</span>.<span class="id">-tupleprod[seqprod_display</span><span class="id"> disp]</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> meetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">MeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> joinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">JoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> latticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Lattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> distrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">DistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> cDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> cbDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CBDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> ctDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CTDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> ctbDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finBMeetSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBMeetSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTJoinSemilatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTJoinSemilattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finCDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinCDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finCTBDistrLatticeType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinCTBDistrLattice</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultTupleProdOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultTupleProdOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the tuples,
which has canonical lexicographic order.
</pre>
<br/>
<span class="vernacular">Module</span><span class="id"> TupleLexiOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> TupleLexiOrder</span>.<br/>
<span class="vernacular">Import</span><span class="id"> DefaultSeqLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> n</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> type_</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>)<span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">type</span> (<span class="id">seqlexi_display</span><span class="id"> disp</span>)<span class="id"> n</span><span class="id"> T</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;n .-tuple&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp'</span><span class="id"> n</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Basics</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> eqType</span>)<span class="id"> :=</span><span class="id"> Equality</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> choiceType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubChoice</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> countType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubCountable</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">SubFinite</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="vernacular">End</span><span class="id"> Basics</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> POrder</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>).<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span><span class="id"> T</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[SubChoice_isSubPOrder</span><span class="id"> of</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="gallina-kwd"> by</span><span class="id"> &lt;:</span><span class="gallina-kwd"> with</span><span class="id"> disp']</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lexi_tupleP</span><span class="id"> n</span><span class="id"> T</span> (<span class="id">t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">exists</span><span class="id"> k</span><span class="id"> :</span><span class="id"> 'I_n</span>.<span class="id">+1,</span><span class="gallina-kwd"> forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_n,</span> (<span class="id">i</span><span class="id"> &lt;=</span><span class="id"> k</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> ?=</span><span class="id"> iff</span> (<span class="id">i</span><span class="id"> !=</span><span class="id"> k</span><span class="id"> :&gt;</span><span class="id"> nat</span>)) (<span class="id">t1</span><span class="id"> &lt;=</span><span class="id"> t2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> n</span><span class="id"> =&gt;</span><span class="id"> [|n</span><span class="id"> IHn]</span><span class="gallina-kwd"> in</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> *</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> tuple0</span><span class="id"> [t2]tuple0/=</span><span class="id"> lexx;</span><span class="id"> constructor;</span><span class="gallina-kwd"> exists</span><span class="id"> ord0</span><span class="id"> =&gt;</span><span class="id"> -[]</span>.<br/>
<span class="id">case:</span> (<span class="id">tupleP</span><span class="id"> t1</span>) (<span class="id">tupleP</span><span class="id"> t2</span>)<span class="id"> =&gt;</span><span class="id"> [x1</span><span class="id"> {}t1]</span><span class="id"> [x2</span><span class="id"> {}t2]</span>.<br/>
<span class="id">rewrite</span><span class="id"> [_</span><span class="id"> &lt;=</span><span class="id"> _]lexi_cons;</span><span class="id"> apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [|[k</span><span class="id"> leif_xt12]]</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span><span class="id"> comparableP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> [ltx12</span><span class="id"> _|-&gt;</span><span class="id"> /IHn[k</span><span class="id"> kP]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span><span class="id"> ord0</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> leqn0</span><span class="id"> =&gt;</span><span class="id"> /eqP/</span>(<span class="id">@ord_inj</span><span class="id"> n</span>.<span class="id">+1</span><span class="id"> i</span><span class="id"> ord0</span>)<span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/leifP;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">lift</span><span class="id"> ord0</span><span class="id"> k</span>)<span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> case:</span> (<span class="id">unliftP</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id"> =&gt;</span><span class="id"> [j</span><span class="id"> -&gt;|-&gt;</span><span class="id"> _]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !ltnS</span><span class="id"> =&gt;</span><span class="id"> /kP;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/leifP;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span><span class="id"> eqxx</span>.<br/>
<span class="id">have</span><span class="id"> /=</span><span class="id"> :=</span><span class="id"> leif_xt12</span><span class="id"> ord0</span><span class="id"> isT;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span><span class="id"> =&gt;</span><span class="id"> leif_x12</span>.<br/>
<span class="id">rewrite</span><span class="id"> leif_x12/=;</span><span class="id"> move:</span><span class="id"> leif_x12</span><span class="id"> leif_xt12</span><span class="id"> =&gt;</span><span class="id"> /leifP</span>.<br/>
<span class="id">case:</span> (<span class="id">unliftP</span><span class="id"> ord0</span><span class="id"> k</span>)<span class="id"> =&gt;</span><span class="id"> {k}</span><span class="id"> [k-&gt;</span><span class="id"> /eqP&lt;-{x2}|-&gt;</span><span class="id"> /lt_geF-&gt;//]</span><span class="id"> leif_xt12</span>.<br/>
<span class="id">rewrite</span><span class="id"> lexx</span><span class="id"> implyTb;</span><span class="id"> apply/IHn;</span><span class="gallina-kwd"> exists</span><span class="id"> k</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> le_ik</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> leif_xt12</span> (<span class="id">lift</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id"> le_ik;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi_tupleP</span><span class="id"> n</span><span class="id"> T</span> (<span class="id">t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">reflect</span> (<span class="gallina-kwd">exists</span><span class="id"> k</span><span class="id"> :</span><span class="id"> 'I_n,</span><span class="gallina-kwd"> forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_n,</span> (<span class="id">i</span><span class="id"> &lt;=</span><span class="id"> k</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><span class="id"> ?=</span><span class="id"> iff</span> (<span class="id">i</span><span class="id"> !=</span><span class="id"> k</span><span class="id"> :&gt;</span><span class="id"> nat</span>)) (<span class="id">t1</span><span class="id"> &lt;</span><span class="id"> t2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">elim:</span><span class="id"> n</span><span class="id"> =&gt;</span><span class="id"> [|n</span><span class="id"> IHn]</span><span class="gallina-kwd"> in</span><span class="id"> t1</span><span class="id"> t2</span><span class="id"> *</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> tuple0</span><span class="id"> [t2]tuple0/=</span><span class="id"> ltxx;</span><span class="id"> constructor</span><span class="id"> =&gt;</span><span class="id"> -</span><span class="id"> []</span><span class="id"> []</span>.<br/>
<span class="id">case:</span> (<span class="id">tupleP</span><span class="id"> t1</span>) (<span class="id">tupleP</span><span class="id"> t2</span>)<span class="id"> =&gt;</span><span class="id"> [x1</span><span class="id"> {}t1]</span><span class="id"> [x2</span><span class="id"> {}t2]</span>.<br/>
<span class="id">rewrite</span><span class="id"> [_</span><span class="id"> &lt;</span><span class="id"> _]ltxi_cons;</span><span class="id"> apply:</span> (<span class="id">iffP</span><span class="id"> idP</span>)<span class="id"> =&gt;</span><span class="id"> [|[k</span><span class="id"> leif_xt12]]</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> (<span class="id">comparableP</span><span class="id"> x1</span><span class="id"> x2</span>)<span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> [ltx12</span><span class="id"> _|-&gt;</span><span class="id"> /IHn[k</span><span class="id"> kP]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span><span class="id"> ord0</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> rewrite</span><span class="id"> leqn0</span><span class="id"> =&gt;</span><span class="id"> /eqP/</span>(<span class="id">@ord_inj</span><span class="id"> n</span>.<span class="id">+1</span><span class="id"> i</span><span class="id"> ord0</span>)<span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/leifP;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">lift</span><span class="id"> ord0</span><span class="id"> k</span>)<span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> case:</span> (<span class="id">unliftP</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id"> =&gt;</span><span class="id"> {i}</span><span class="id"> [i</span><span class="id"> -&gt;|-&gt;</span><span class="id"> _]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !ltnS</span><span class="id"> =&gt;</span><span class="id"> /kP;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/leifP;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span><span class="id"> eqxx</span>.<br/>
<span class="id">have</span><span class="id"> /=</span><span class="id"> :=</span><span class="id"> leif_xt12</span><span class="id"> ord0</span><span class="id"> isT;</span><span class="id"> rewrite</span><span class="id"> !tnth0</span><span class="id"> =&gt;</span><span class="id"> leif_x12</span>.<br/>
<span class="id">rewrite</span><span class="id"> leif_x12/=;</span><span class="id"> move:</span><span class="id"> leif_x12</span><span class="id"> leif_xt12</span><span class="id"> =&gt;</span><span class="id"> /leifP</span>.<br/>
<span class="id">case:</span> (<span class="id">unliftP</span><span class="id"> ord0</span><span class="id"> k</span>)<span class="id"> =&gt;</span><span class="id"> {k}</span><span class="id"> [k-&gt;</span><span class="id"> /eqP&lt;-{x2}|-&gt;</span><span class="id"> /lt_geF-&gt;//]</span><span class="id"> leif_xt12</span>.<br/>
<span class="id">rewrite</span><span class="id"> lexx</span><span class="id"> implyTb;</span><span class="id"> apply/IHn;</span><span class="gallina-kwd"> exists</span><span class="id"> k</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> le_ik</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> :=</span><span class="id"> leif_xt12</span> (<span class="id">lift</span><span class="id"> ord0</span><span class="id"> i</span>)<span class="id"> le_ik;</span><span class="id"> rewrite</span><span class="id"> !tnthS</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> ltxi_tuplePlt</span><span class="id"> n</span><span class="id"> T</span> (<span class="id">t1</span><span class="id"> t2</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> reflect</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">exists2</span><span class="id"> k</span><span class="id"> :</span><span class="id"> 'I_n,</span><span class="gallina-kwd"> forall</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_n,</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> k</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> i</span><span class="id"> =</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">&amp;</span><span class="id"> tnth</span><span class="id"> t1</span><span class="id"> k</span><span class="id"> &lt;</span><span class="id"> tnth</span><span class="id"> t2</span><span class="id"> k</span>)<br/>
&nbsp;&nbsp;(<span class="id">t1</span><span class="id"> &lt;</span><span class="id"> t2</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span> (<span class="id">iffP</span> (<span class="id">ltxi_tupleP</span><span class="id"> _</span><span class="id"> _</span>))<span class="id"> =&gt;</span><span class="id"> [[k</span><span class="id"> kP]|[k</span><span class="id"> kP</span><span class="id"> ltk12]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span><span class="id"> k</span><span class="id"> =&gt;</span><span class="id"> [i</span><span class="id"> i_lt|];</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">lt_leif</span> (<span class="id">kP</span><span class="id"> _</span><span class="id"> _</span>))<span class="id"> ?eqxx</span><span class="id"> ?leqnn</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> /eqTleif-&gt;//</span><span class="id"> :=</span><span class="id"> kP</span><span class="id"> i</span> (<span class="id">ltnW</span><span class="id"> i_lt</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ltn_eqF</span>.<br/>
<span class="gallina-kwd">by</span><span class="gallina-kwd"> exists</span><span class="id"> k</span><span class="id"> =&gt;</span><span class="id"> i;</span><span class="id"> case:</span><span class="id"> ltngtP</span><span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> [/kP-&gt;</span><span class="id"> _|/ord_inj-&gt;</span><span class="id"> _];</span><span class="id"> apply/leifP</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> POrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> BPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> le0x</span><span class="id"> t</span><span class="id"> :</span><span class="id"> [tuple</span><span class="id"> \bot</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> &lt;=</span><span class="id"> t</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_seqprod_lexi;</span><span class="id"> apply:</span><span class="id"> le0x</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>). Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> le0x</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> botEtlexi</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> \bot</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> BPOrder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> TPOrder</span>.<br/>
<span class="vernacular">Context</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> lex1</span><span class="id"> t</span><span class="id"> :</span><span class="id"> t</span><span class="id"> &lt;=</span><span class="id"> [tuple</span><span class="id"> \top</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> sub_seqprod_lexi;</span><span class="id"> apply:</span><span class="id"> lex1</span> (<span class="id">t</span><span class="id"> :</span><span class="id"> n</span>.<span class="id">-tupleprod</span><span class="id"> T</span>). Qed.</div></details>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasTop</span>.<span class="id">Build</span><span class="id"> _</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)<span class="id"> lex1</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> topEtlexi</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> [tuple</span><span class="id"> \top</span><span class="id"> |</span><span class="id"> _</span><span class="id"> &lt;</span><span class="id"> n]</span><span class="id"> :&gt;</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TPOrder</span>.<br/>
<br/>
<span class="id">#[export]</span><span class="id"> HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">[SubChoice_isSubOrder</span><span class="id"> of</span><span class="id"> n</span>.<span class="id">-tuple</span><span class="id"> T</span><span class="gallina-kwd"> by</span><span class="id"> &lt;:</span><span class="gallina-kwd"> with</span><span class="id"> disp']</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">on</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sub_tprod_lexi</span><span class="id"> d</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">subrel</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">n</span>.<span class="id">-tupleprod[d]</span><span class="id"> T</span>)) (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> sub_seqprod_lexi</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> TupleLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span><span class="id"> TupleLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tuplelexi[ disp ]&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp</span><span class="id"> n</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 2,</span><span class="id"> disp</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><span class="id"> format</span> <span class="id">&quot;n .-tuplelexi[ disp ]&quot;</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tuplelexi&quot;</span><span class="id"> :=</span> (<span class="id">type_</span><span class="id"> n</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 2,</span><span class="id"> format</span> <span class="id">&quot;n .-tuplelexi&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> lexi_tupleP</span><span class="id"> :=</span><span class="id"> @lexi_tupleP</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> lexi_tupleP</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> n</span><span class="id"> T</span><span class="id"> t1</span><span class="id"> t2}</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi_tupleP</span><span class="id"> :=</span><span class="id"> @ltxi_tupleP</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> ltxi_tupleP</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> n</span><span class="id"> T</span><span class="id"> t1</span><span class="id"> t2}</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> ltxi_tuplePlt</span><span class="id"> :=</span><span class="id"> @ltxi_tuplePlt</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> ltxi_tuplePlt</span><span class="id"> {disp</span><span class="id"> disp'</span><span class="id"> n</span><span class="id"> T</span><span class="id"> t1</span><span class="id"> t2}</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEtlexi</span><span class="id"> :=</span><span class="id"> @topEtlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEtlexi</span><span class="id"> :=</span><span class="id"> @botEtlexi</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> sub_tprod_lexi</span><span class="id"> :=</span><span class="id"> @sub_tprod_lexi</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> TupleLexiOrder</span>.<br/>
<span class="id">HB</span>.<span class="id">export</span><span class="id"> TupleLexiOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultTupleLexiOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> DefaultTupleLexiOrder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;n .-tuplelexi&quot;</span><span class="id"> :=</span><span class="id"> n</span>.<span class="id">-tuplelexi[seqlexi_display</span><span class="id"> disp]</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">POrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> orderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">Total</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> bOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">BTotal</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TTotal</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> tbOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">TBTotal</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBPOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBPOrder</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTotal</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> n</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finTBOrderType</span><span class="id"> disp</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">FinTBTotal</span>.<span class="id">copy</span> (<span class="id">n</span>.<span class="id">-tuple</span><span class="id"> T</span>) (<span class="id">n</span>.<span class="id">-tuplelexi</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultTupleLexiOrder</span>.<br/>
<span class="vernacular">End</span><span class="id"> DefaultTupleLexiOrder</span>.<br/>
<br/>
<pre class="ssrdoc">
We declare an alias of the sets,
which is canonically ordered by inclusion
</pre>
<span class="vernacular">Module</span><span class="id"> SetSubsetOrder</span>.<br/>
<span class="vernacular">Section</span><span class="id"> SetSubsetOrder</span>.<br/>
<br/>
<span class="vernacular">Fact</span><span class="id"> subset_display</span><span class="id"> :</span><span class="id"> disp_t</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> type</span> (<span class="id">disp</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><span class="id"> {set</span><span class="id"> T}</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {disp</span><span class="id"> :</span><span class="id"> disp_t}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> finType}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;{ 'subset' T }&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> disp</span><span class="id"> T</span>).<br/>
<span class="vernacular">Implicit</span><span class="gallina-kwd"> Type</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> C</span><span class="id"> :</span><span class="id"> {subset</span><span class="id"> T}</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_def</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> A</span><span class="id"> \subset</span><span class="id"> B</span><span class="id"> =</span> (<span class="id">A</span><span class="id"> :&amp;:</span><span class="id"> B</span><span class="id"> ==</span><span class="id"> A</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/setIidPl/eqP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> setKUC</span><span class="id"> B</span><span class="id"> A</span><span class="id"> :</span><span class="id"> A</span><span class="id"> :&amp;:</span> (<span class="id">A</span><span class="id"> :|:</span><span class="id"> B</span>)<span class="id"> =</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> setUC</span><span class="id"> setKU</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> setKIC</span><span class="id"> B</span><span class="id"> A</span><span class="id"> :</span><span class="id"> A</span><span class="id"> :|:</span> (<span class="id">A</span><span class="id"> :&amp;:</span><span class="id"> B</span>)<span class="id"> =</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> setIC</span><span class="id"> setKI</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> Choice</span>.<span class="id">on</span><span class="id"> {subset</span><span class="id"> T}</span>.<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> isMeetJoinDistrLattice</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> {subset</span><span class="id"> T}</span><br/>
&nbsp;&nbsp;<span class="id">le_def</span> (<span class="gallina-kwd">fun</span><span class="id"> _</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> erefl</span>) (<span class="id">@setIC</span><span class="id"> _</span>) (<span class="id">@setUC</span><span class="id"> _</span>) (<span class="id">@setIA</span><span class="id"> _</span>) (<span class="id">@setUA</span><span class="id"> _</span>)<br/>
&nbsp;&nbsp;<span class="id">setKUC</span><span class="id"> setKIC</span> (<span class="id">@setIUl</span><span class="id"> _</span>) (<span class="id">@setIid</span><span class="id"> _</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasBottom</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> {subset</span><span class="id"> T}</span> (<span class="id">@sub0set</span><span class="id"> _</span>).<br/>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><span class="id"> hasTop</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> {subset</span><span class="id"> T}</span> (<span class="id">@subsetT</span><span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> setIDv</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> B</span><span class="id"> :&amp;:</span> (<span class="id">A</span><span class="id"> :\:</span><span class="id"> B</span>)<span class="id"> =</span><span class="id"> set0</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply/eqP;</span><span class="id"> rewrite</span><span class="id"> -subset0;</span><span class="id"> apply/subsetP</span><span class="id"> =&gt;</span><span class="id"> x</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !inE</span><span class="id"> =&gt;</span><span class="id"> /and3P[-&gt;]</span>.<br/>
Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">@BDistrLattice_hasSectionalComplement</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> {subset</span><span class="id"> T}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@setD</span><span class="id"> _</span>)<span class="id"> setIDv</span> (<span class="id">@setID</span><span class="id"> _</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> setTDsym</span><span class="id"> A</span><span class="id"> :</span><span class="id"> ~:</span><span class="id"> A</span><span class="id"> =</span><span class="id"> setT</span><span class="id"> :\:</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> setTD</span>. Qed.</div></details>
<br/>
<span class="id">#[export]</span><br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CBDistrLattice_hasComplement</span>.<span class="id">Build</span><span class="id"> disp</span><span class="id"> {subset</span><span class="id"> T}</span><span class="id"> setTDsym</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> leEsubset</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span> (<span class="id">A</span><span class="id"> &lt;=</span><span class="id"> B</span>)<span class="id"> =</span> (<span class="id">A</span><span class="id"> \subset</span><span class="id"> B</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> meetEsubset</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> A</span><span class="id"> `&amp;`</span><span class="id"> B</span><span class="id"> =</span><span class="id"> A</span><span class="id"> :&amp;:</span><span class="id"> B</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> joinEsubset</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> A</span><span class="id"> `|`</span><span class="id"> B</span><span class="id"> =</span><span class="id"> A</span><span class="id"> :|:</span><span class="id"> B</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> botEsubset</span><span class="id"> :</span><span class="id"> \bot</span><span class="id"> =</span><span class="id"> set0</span><span class="id"> :&gt;</span><span class="id"> {subset</span><span class="id"> T}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> topEsubset</span><span class="id"> :</span><span class="id"> \top</span><span class="id"> =</span><span class="id"> setT</span><span class="id"> :&gt;</span><span class="id"> {subset</span><span class="id"> T}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> subEsubset</span><span class="id"> A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> A</span><span class="id"> `\`</span><span class="id"> B</span><span class="id"> =</span><span class="id"> A</span><span class="id"> :\:</span><span class="id"> B</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> complEsubset</span><span class="id"> A</span><span class="id"> :</span><span class="id"> ~`</span><span class="id"> A</span><span class="id"> =</span><span class="id"> ~:</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> []</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> SetSubsetOrder</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> type</span><span class="id"> disp</span><span class="id"> T%_type</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'subset' [ d ] T }&quot;</span><span class="id"> :=</span> (<span class="id">type</span><span class="id"> d</span><span class="id"> T</span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> d</span><span class="gallina-kwd"> at</span><span class="id"> next</span><span class="id"> level,</span><span class="id"> format</span> <span class="id">&quot;{ 'subset' [ d ]  T }&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;{ 'subset' T }&quot;</span><span class="id"> :=</span><span class="id"> {subset[subset_display]</span><span class="id"> T}</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 0,</span><span class="id"> format</span> <span class="id">&quot;{ 'subset' T }&quot;</span>)<span class="id"> :</span><span class="id"> type_scope</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">reexport</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> leEsubset</span><span class="id"> :=</span><span class="id"> @leEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> meetEsubset</span><span class="id"> :=</span><span class="id"> @meetEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> joinEsubset</span><span class="id"> :=</span><span class="id"> @joinEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> botEsubset</span><span class="id"> :=</span><span class="id"> @botEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> topEsubset</span><span class="id"> :=</span><span class="id"> @topEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> subEsubset</span><span class="id"> :=</span><span class="id"> @subEsubset</span>.<br/>
<span class="vernacular">Definition</span><span class="id"> complEsubset</span><span class="id"> :=</span><span class="id"> @complEsubset</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> SetSubsetOrder</span>.<br/>
<span class="vernacular">Export</span><span class="id"> SetSubsetOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultSetSubsetOrder</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">instance</span><span class="vernacular"> Definition</span><span class="id"> _</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finType</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">CTBDistrLattice</span>.<span class="id">copy</span><span class="id"> {set</span><span class="id"> T}</span><span class="id"> {subset</span><span class="id"> T}</span>.<br/>
<br/>
<span class="vernacular">End</span><span class="id"> DefaultSetSubsetOrder</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> enum</span><span class="id"> A</span><span class="id"> :=</span> (<span class="id">sort</span><span class="id"> &lt;=%O</span> (<span class="id">enum</span><span class="id"> A</span>)).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Enum</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> d</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> cardE</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> #|A|</span><span class="id"> =</span><span class="id"> size</span> (<span class="id">enum</span><span class="id"> A</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> size_sort</span><span class="id"> cardE</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mem_enum</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> enum</span><span class="id"> A</span><span class="id"> =i</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> mem_sort</span><span class="id"> mem_enum</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_uniq</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> uniq</span> (<span class="id">enum</span><span class="id"> A</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> sort_uniq</span><span class="id"> enum_uniq</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> cardT</span><span class="id"> :</span><span class="id"> #|T|</span><span class="id"> =</span><span class="id"> size</span> (<span class="id">enum</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> cardT</span><span class="id"> size_sort</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enumT</span><span class="id"> :</span><span class="id"> enum</span><span class="id"> T</span><span class="id"> =</span><span class="id"> sort</span><span class="id"> &lt;=%O</span> (<span class="id">Finite</span>.<span class="id">enum</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enumT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum0</span><span class="id"> :</span><span class="id"> enum</span> (<span class="id">pred0</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> =</span><span class="id"> [::]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum1</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> enum</span> (<span class="id">pred1</span><span class="id"> x</span>)<span class="id"> =</span><span class="id"> [::</span><span class="id"> x]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum1</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_enum</span> (<span class="id">A</span><span class="id"> B</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> A</span><span class="id"> =i</span><span class="id"> B</span><span class="id"> -&gt;</span><span class="id"> enum</span><span class="id"> A</span><span class="id"> =</span><span class="id"> enum</span><span class="id"> B</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /eq_enum-&gt;</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_cardT</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> A</span><span class="id"> =i</span><span class="id"> predT</span><span class="id"> -&gt;</span><span class="id"> #|A|</span><span class="id"> =</span><span class="id"> size</span> (<span class="id">enum</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /eq_enum&lt;-;</span><span class="id"> rewrite</span><span class="id"> cardE</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> set_enum</span> (<span class="id">A</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> T}</span>)<span class="id"> :</span><span class="id"> [set</span><span class="id"> x</span><span class="gallina-kwd"> in</span><span class="id"> enum</span><span class="id"> A]</span><span class="id"> =</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply/setP</span><span class="id"> =&gt;</span><span class="id"> x;</span><span class="id"> rewrite</span><span class="id"> inE</span><span class="id"> mem_enum</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_set0</span><span class="id"> :</span><span class="id"> enum</span> (<span class="id">set0</span><span class="id"> :</span><span class="id"> {set</span><span class="id"> T}</span>)<span class="id"> =</span><span class="id"> [::]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_set0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_setT</span><span class="id"> :</span><span class="id"> enum</span><span class="id"> [set:</span><span class="id"> T]</span><span class="id"> =</span><span class="id"> sort</span><span class="id"> &lt;=%O</span> (<span class="id">Finite</span>.<span class="id">enum</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_setT</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_set1</span> (<span class="id">a</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> :</span><span class="id"> enum</span><span class="id"> [set</span><span class="id"> a]</span><span class="id"> =</span><span class="id"> [::</span><span class="id"> a]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_set1</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Enum</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Ordinal</span>.<br/>
<span class="vernacular">Import</span><span class="id"> OrdinalOrder</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_ord</span><span class="id"> n</span><span class="id"> :</span><span class="id"> enum</span><span class="id"> 'I_n</span><span class="id"> =</span><span class="id"> fintype</span>.<span class="id">enum</span><span class="id"> 'I_n</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span> (<span class="id">sorted_sort</span><span class="id"> le_trans</span>)<span class="id">//</span><span class="id"> -</span>(<span class="id">@sorted_map</span><span class="id"> _</span><span class="id"> _</span> (<span class="id">val</span><span class="id"> :</span><span class="id"> 'I_n</span><span class="id"> -&gt;</span><span class="id"> nat</span>))<span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> val_enum_ord</span><span class="id"> iota_sorted</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> val_enum_ord</span><span class="id"> n</span><span class="id"> :</span><span class="id"> [seq</span><span class="id"> val</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> enum</span><span class="id"> 'I_n]</span><span class="id"> =</span><span class="id"> iota</span><span class="id"> 0</span><span class="id"> n</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_ord</span><span class="id"> val_enum_ord</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> size_enum_ord</span><span class="id"> n</span><span class="id"> :</span><span class="id"> size</span> (<span class="id">enum</span><span class="id"> 'I_n</span>)<span class="id"> =</span><span class="id"> n</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -cardE</span><span class="id"> card_ord</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_enum_ord</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">i0</span><span class="id"> :</span><span class="id"> 'I_n</span>) (<span class="id">m</span><span class="id"> :</span><span class="id"> nat</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">m</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span><span class="id"> -&gt;</span><span class="id"> nth</span><span class="id"> i0</span> (<span class="id">enum</span><span class="id"> 'I_n</span>)<span class="id"> m</span><span class="id"> =</span><span class="id"> m</span><span class="id"> :&gt;</span><span class="id"> nat</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> lemn;</span><span class="id"> rewrite</span><span class="id"> enum_ord</span><span class="id"> nth_enum_ord</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_ord_enum</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">i0</span><span class="id"> i</span><span class="id"> :</span><span class="id"> 'I_n</span>)<span class="id"> :</span><span class="id"> nth</span><span class="id"> i0</span> (<span class="id">enum</span><span class="id"> 'I_n</span>)<span class="id"> i</span><span class="id"> =</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_ord</span><span class="id"> nth_ord_enum</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> index_enum_ord</span> (<span class="id">n</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">i</span><span class="id"> :</span><span class="id"> 'I_n</span>)<span class="id"> :</span><span class="id"> index</span><span class="id"> i</span> (<span class="id">enum</span><span class="id"> 'I_n</span>)<span class="id"> =</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> enum_ord</span><span class="id"> index_enum_ord</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Ordinal</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mono_sorted_enum</span><span class="id"> d</span><span class="id"> d'</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">T'</span><span class="id"> :</span><span class="id"> porderType</span><span class="id"> d'</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span> (<span class="id">x</span><span class="id"> &lt;=</span><span class="id"> y</span>)<span class="id">%O}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">sorted</span><span class="id"> &lt;=%O</span><span class="id"> [seq</span><span class="id"> f</span><span class="id"> x</span><span class="id"> |</span><span class="id"> x</span><span class="id"> &lt;-</span><span class="id"> Order</span>.<span class="id">enum</span><span class="id"> T]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> /sort_sorted</span><span class="id"> ss_sorted</span><span class="id"> lef;</span><span class="id"> wlog</span><span class="id"> [x0</span><span class="id"> x'0]</span><span class="id"> :</span><span class="id"> /</span> (<span class="id">T</span><span class="id"> *</span><span class="id"> T'</span>)<span class="id">%type</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">Order</span>.<span class="id">enum</span><span class="id"> T</span>)<span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> x</span><span class="id"> ?</span><span class="id"> =&gt;</span><span class="id"> /</span>(_ (<span class="id">x,</span><span class="id"> f</span><span class="id"> x</span>)).<br/>
<span class="id">rewrite</span> (<span class="id">sorted_pairwise</span><span class="id"> le_trans</span>).<br/>
<span class="id">apply/</span>(<span class="id">pairwiseP</span><span class="id"> x'0</span>)<span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> j;</span><span class="id"> rewrite</span><span class="id"> !inE</span><span class="id"> !size_map</span><span class="id"> -!Order</span>.<span class="id">cardT</span>.<br/>
<span class="id">move=&gt;</span><span class="id"> ilt</span><span class="id"> jlt</span><span class="id"> ij;</span><span class="id"> rewrite</span><span class="id"> !</span>(<span class="id">nth_map</span><span class="id"> x0</span>)<span class="id"> -?Order</span>.<span class="id">cardT//</span><span class="id"> lef</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">sorted_leq_nth</span><span class="id"> le_trans</span><span class="id"> le_refl</span>)<span class="id"> ?inE</span><span class="id"> -?Order</span>.<span class="id">cardT//</span><span class="id"> 1?ltnW</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> mono_unique</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> T'</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> d</span>) (<span class="id">f</span><span class="id"> g</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> T'</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)<span class="id"> -&gt;</span> (<span class="id">#|T'|</span><span class="id"> &lt;=</span><span class="id"> #|T|</span>)<span class="id">%N</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{mono</span><span class="id"> f</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><span class="id"> {mono</span><span class="id"> g</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">f</span><span class="id"> =1</span><span class="id"> g</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> le_total</span><span class="id"> leT'T</span><span class="id"> lef</span><span class="id"> leg</span><span class="id"> x0;</span><span class="id"> move:</span><span class="id"> {+}x0</span>.<br/>
<span class="id">suff:</span><span class="id"> finfun</span><span class="id"> f</span><span class="id"> =</span><span class="id"> finfun</span><span class="id"> g</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /ffunP</span><span class="id"> +</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> /</span>(_<span class="id"> x</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> !ffunE</span>.<br/>
<span class="id">apply:</span> (<span class="id">can_inj</span><span class="id"> fgraphK</span>)<span class="id">;</span><span class="id"> apply/val_inj</span><span class="id"> =&gt;</span><span class="id"> /=;</span><span class="id"> rewrite</span><span class="id"> !codomE</span>.<br/>
<span class="id">under</span><span class="id"> eq_map</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> ffunE;</span><span class="id"> under</span><span class="id"> [RHS]eq_map</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> ffunE</span>.<br/>
<span class="id">have</span><span class="id"> [finj</span><span class="id"> ginj]</span><span class="id"> :=</span> (<span class="id">inc_inj</span><span class="id"> lef,</span><span class="id"> inc_inj</span><span class="id"> leg</span>).<br/>
<span class="id">have</span><span class="id"> [f'</span><span class="id"> fK</span><span class="id"> f'K]</span><span class="id"> :=</span><span class="id"> inj_card_bij</span><span class="id"> finj</span><span class="id"> leT'T</span>.<br/>
<span class="id">have</span><span class="id"> [g'</span><span class="id"> gK</span><span class="id"> g'K]</span><span class="id"> :=</span><span class="id"> inj_card_bij</span><span class="id"> ginj</span><span class="id"> leT'T</span>.<br/>
<span class="id">apply/eqP;</span><span class="id"> have</span><span class="id"> :</span><span class="id"> [seq</span><span class="id"> f</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> Order</span>.<span class="id">enum</span><span class="id"> T]</span><span class="id"> =</span><span class="id"> [seq</span><span class="id"> g</span><span class="id"> i</span><span class="id"> |</span><span class="id"> i</span><span class="id"> &lt;-</span><span class="id"> Order</span>.<span class="id">enum</span><span class="id"> T]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@sorted_eq</span><span class="id"> _</span><span class="id"> &lt;=%O</span><span class="id"> le_trans</span><span class="id"> le_anti</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ?mono_sorted_enum//</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> uniq_perm;</span><span class="id"> rewrite</span><span class="id"> ?map_inj_uniq</span><span class="id"> ?sort_uniq</span><span class="id"> ?fintype</span>.<span class="id">enum_uniq//</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span><span class="id"> x;</span><span class="id"> apply/mapP/mapP</span><span class="id"> =&gt;</span><span class="id"> -[y</span><span class="id"> _</span><span class="id"> -&gt;]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="gallina-kwd"> exists</span> (<span class="id">g'</span> (<span class="id">f</span><span class="id"> y</span>))<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ?Order</span>.<span class="id">mem_enum</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="gallina-kwd"> exists</span> (<span class="id">f'</span> (<span class="id">g</span><span class="id"> y</span>))<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ?Order</span>.<span class="id">mem_enum</span>.<br/>
<span class="id">move=&gt;</span><span class="id"> /eqP;</span><span class="id"> rewrite</span><span class="id"> !eq_map_all</span><span class="id"> all_map</span><span class="id"> [in</span><span class="id"> X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> -&gt;</span><span class="id"> X]all_map</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> have</span><span class="id"> /permPl/perm_all-&gt;</span><span class="id"> :=</span><span class="id"> perm_sort</span><span class="id"> &lt;=%O</span> (<span class="id">fintype</span>.<span class="id">enum</span><span class="id"> T</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Import</span><span class="id"> EnumVal</span>.<br/>
<span class="vernacular">Section</span><span class="id"> EnumVal</span>.<br/>
<span class="vernacular">Import</span><span class="id"> OrdinalOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Variables</span> (<span class="id">d</span><span class="id"> :</span><span class="id"> disp_t</span>) (<span class="id">T</span><span class="id"> :</span><span class="id"> finPOrderType</span><span class="id"> d</span>).<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">x</span><span class="id"> :</span><span class="id"> T</span>) (<span class="id">A</span><span class="id"> :</span><span class="id"> {pred</span><span class="id"> T}</span>).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> enum_rank_in</span><span class="id"> x0</span><span class="id"> A</span> (<span class="id">Ax0</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> x</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="id">insubd</span> (<span class="id">Ordinal</span> (<span class="id">@enum_rank_subproof</span><span class="id"> _</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span>)) (<span class="id">index</span><span class="id"> x</span> (<span class="id">enum</span><span class="id"> A</span>)).<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> enum_rank</span><span class="id"> x</span><span class="id"> :=</span><span class="id"> @enum_rank_in</span><span class="id"> x</span><span class="id"> T</span> (<span class="id">erefl</span><span class="id"> true</span>)<span class="id"> x</span>.<br/>
<br/>
<span class="vernacular">Definition</span><span class="id"> enum_val</span><span class="id"> A</span><span class="id"> i</span><span class="id"> :=</span><span class="id"> nth</span> (<span class="id">@enum_default</span><span class="id"> _</span><span class="id"> A</span><span class="id"> i</span>) (<span class="id">enum</span><span class="id"> A</span>)<span class="id"> i</span>.<br/>
<span class="id">Prenex</span><span class="vernacular"> Implicits</span><span class="id"> enum_val</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_valP</span><span class="id"> A</span><span class="id"> i</span><span class="id"> :</span><span class="id"> @enum_val</span><span class="id"> A</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> A</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">suff:</span><span class="id"> enum_val</span><span class="id"> i</span><span class="id"> \in</span><span class="id"> enum</span><span class="id"> A</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> mem_enum</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> mem_nth;</span><span class="id"> rewrite</span><span class="id"> -cardE</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_val_nth</span><span class="id"> A</span><span class="id"> x</span><span class="id"> i</span><span class="id"> :</span><span class="id"> @enum_val</span><span class="id"> A</span><span class="id"> i</span><span class="id"> =</span><span class="id"> nth</span><span class="id"> x</span> (<span class="id">enum</span><span class="id"> A</span>)<span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> set_nth_default;</span><span class="id"> rewrite</span><span class="id"> cardE</span><span class="gallina-kwd"> in</span><span class="id"> i</span><span class="id"> *</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_enum_rank_in</span><span class="id"> x00</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A,</span><span class="id"> cancel</span> (<span class="id">@enum_rank_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span>) (<span class="id">nth</span><span class="id"> x00</span> (<span class="id">enum</span><span class="id"> A</span>))<span class="id">}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> Ax;</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> insubdK</span><span class="id"> ?nth_index</span><span class="id"> ?mem_enum</span><span class="id"> //</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> cardE</span><span class="id"> [_</span><span class="id"> \in</span><span class="id"> _]index_mem</span><span class="id"> mem_enum</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> nth_enum_rank</span><span class="id"> x0</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> enum_rank</span> (<span class="id">nth</span><span class="id"> x0</span> (<span class="id">enum</span><span class="id"> T</span>)).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply:</span><span class="id"> nth_enum_rank_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_rankK_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A,</span><span class="id"> cancel</span> (<span class="id">@enum_rank_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span>)<span class="id"> enum_val}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply:</span><span class="id"> nth_enum_rank_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_rankK</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> enum_rank</span><span class="id"> enum_val</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply:</span><span class="id"> enum_rankK_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_valK_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> enum_val</span> (<span class="id">@enum_rank_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> Ax0</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> x;</span><span class="id"> apply:</span><span class="id"> ord_inj;</span><span class="id"> rewrite</span><span class="id"> insubdK;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> cardE</span><span class="id"> [_</span><span class="id"> \in</span><span class="id"> _]index_mem</span><span class="id"> mem_nth</span><span class="id"> //</span><span class="id"> -cardE</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> index_uniq</span><span class="id"> ?enum_uniq</span><span class="id"> //</span><span class="id"> -cardE</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_valK</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> enum_val</span><span class="id"> enum_rank</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x;</span><span class="id"> apply:</span><span class="id"> enum_valK_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_rank_inj</span><span class="id"> :</span><span class="id"> injective</span><span class="id"> enum_rank</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> can_inj</span><span class="id"> enum_rankK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_val_inj</span><span class="id"> A</span><span class="id"> :</span><span class="id"> injective</span> (<span class="id">@enum_val</span><span class="id"> A</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i;</span><span class="id"> apply:</span><span class="id"> can_inj</span> (<span class="id">enum_valK_in</span> (<span class="id">enum_valP</span><span class="id"> i</span>)) (<span class="id">i</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_val_bij_in</span><span class="id"> x0</span><span class="id"> A</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> \in</span><span class="id"> A</span><span class="id"> -&gt;</span><span class="id"> {on</span><span class="id"> A,</span><span class="id"> bijective</span> (<span class="id">@enum_val</span><span class="id"> A</span>)<span class="id">}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> Ax0;</span><span class="gallina-kwd"> exists</span> (<span class="id">enum_rank_in</span><span class="id"> Ax0</span>)<span class="id"> =&gt;</span><span class="id"> [i</span><span class="id"> _|];</span><span class="id"> last</span><span class="id"> exact:</span><span class="id"> enum_rankK_in</span>.<br/>
<span class="id">exact:</span><span class="id"> enum_valK_in</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_enum_rank_in</span> (<span class="id">x0</span><span class="id"> y0</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> A</span> (<span class="id">Ax0</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> \in</span><span class="id"> A</span>) (<span class="id">Ay0</span><span class="id"> :</span><span class="id"> y0</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A,</span><span class="id"> enum_rank_in</span><span class="id"> Ax0</span><span class="id"> =1</span><span class="id"> enum_rank_in</span><span class="id"> Ay0}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> xA;</span><span class="id"> apply:</span><span class="id"> enum_val_inj;</span><span class="id"> rewrite</span><span class="id"> !enum_rankK_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_rank_in_inj</span> (<span class="id">x0</span><span class="id"> y0</span><span class="id"> :</span><span class="id"> T</span>)<span class="id"> A</span> (<span class="id">Ax0</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> \in</span><span class="id"> A</span>) (<span class="id">Ay0</span><span class="id"> :</span><span class="id"> y0</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="gallina-kwd"> forall</span><span class="id"> x</span><span class="id"> y,</span><span class="id"> enum_rank_in</span><span class="id"> Ax0</span><span class="id"> x</span><span class="id"> =</span><span class="id"> enum_rank_in</span><span class="id"> Ay0</span><span class="id"> y</span><span class="id"> -&gt;</span><span class="id"> x</span><span class="id"> =</span><span class="id"> y}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> y</span><span class="id"> xA</span><span class="id"> yA</span><span class="id"> /</span>(<span class="id">congr1</span><span class="id"> enum_val</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> !enum_rankK_in</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_rank_bij</span><span class="id"> :</span><span class="id"> bijective</span><span class="id"> enum_rank</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move:</span><span class="id"> enum_rankK</span><span class="id"> enum_valK;</span><span class="gallina-kwd"> exists</span> (<span class="id">@enum_val</span><span class="id"> T</span>). Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> enum_val_bij</span><span class="id"> :</span><span class="id"> bijective</span> (<span class="id">@enum_val</span><span class="id"> T</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move:</span><span class="id"> enum_rankK</span><span class="id"> enum_valK;</span><span class="gallina-kwd"> exists</span><span class="id"> enum_rank</span>. Qed.</div></details>
<br/>
<span class="vernacular">Section</span><span class="id"> total</span>.<br/>
<span class="vernacular">Hypothesis</span> (<span class="id">leT_total</span><span class="id"> :</span><span class="id"> total</span> (<span class="id">&lt;=%O</span><span class="id"> :</span><span class="id"> rel</span><span class="id"> T</span>)).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_enum_val</span><span class="id"> A</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> @enum_val</span><span class="id"> A</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span><span class="id"> le_mono</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> j</span><span class="id"> le_ij</span>.<br/>
<span class="id">rewrite</span><span class="id"> /enum_val</span> (<span class="id">set_nth_default</span> (<span class="id">enum_default</span><span class="id"> j</span>))<span class="id"> -?cardE//</span>.<br/>
<span class="id">apply:</span> (<span class="id">sorted_ltn_nth</span><span class="id"> lt_trans</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> -?topredE/=</span><span class="id"> -?cardE//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lt_sorted_uniq_le</span><span class="id"> enum_uniq/=</span><span class="id"> sort_sorted</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_enum_rank_in</span><span class="id"> x0</span><span class="id"> A</span> (<span class="id">Ax0</span><span class="id"> :</span><span class="id"> x0</span><span class="id"> \in</span><span class="id"> A</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">{in</span><span class="id"> A</span><span class="id"> &amp;,</span><span class="id"> {mono</span><span class="id"> enum_rank_in</span><span class="id"> Ax0</span><span class="id"> :</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /</span><span class="id"> x</span><span class="id"> &lt;=</span><span class="id"> y}}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">apply:</span><span class="id"> can_mono_in</span> (<span class="id">@in2W</span><span class="id"> _</span><span class="id"> _</span><span class="id"> predT</span><span class="id"> predT</span><span class="id"> _</span> (<span class="id">@le_enum_val</span><span class="id"> A</span>))<span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
<span class="id">exact/onW_can_in/enum_rankK_in</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_enum_rank</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> enum_rank</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> can_mono</span><span class="id"> enum_rankK</span> (<span class="id">@le_enum_val</span><span class="id"> predT</span>). Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> total</span>.<br/>
<span class="vernacular">End</span><span class="id"> EnumVal</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> enum_val</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> A}</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> enum_rank</span><span class="id"> {d</span><span class="id"> T}</span>.<br/>
<span class="vernacular">End</span><span class="id"> EnumVal</span>.<br/>
<br/>
<span class="vernacular">Notation</span><span class="id"> enum_val</span><span class="id"> :=</span><span class="id"> enum_val</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rank_in</span><span class="id"> :=</span><span class="id"> enum_rank_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rank</span><span class="id"> :=</span><span class="id"> enum_rank</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_valP</span><span class="id"> :=</span><span class="id"> enum_valP</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_val_nth</span><span class="id"> :=</span><span class="id"> enum_val_nth</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> nth_enum_rank_in</span><span class="id"> :=</span><span class="id"> nth_enum_rank_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> nth_enum_rank</span><span class="id"> :=</span><span class="id"> nth_enum_rank</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rankK_in</span><span class="id"> :=</span><span class="id"> enum_rankK_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rankK</span><span class="id"> :=</span><span class="id"> enum_rankK</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_valK_in</span><span class="id"> :=</span><span class="id"> enum_valK_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_valK</span><span class="id"> :=</span><span class="id"> enum_valK</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rank_inj</span><span class="id"> :=</span><span class="id"> enum_rank_inj</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_val_inj</span><span class="id"> :=</span><span class="id"> enum_val_inj</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_val_bij_in</span><span class="id"> :=</span><span class="id"> enum_val_bij_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> eq_enum_rank_in</span><span class="id"> :=</span><span class="id"> eq_enum_rank_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rank_in_inj</span><span class="id"> :=</span><span class="id"> enum_rank_in_inj</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_rank_bij</span><span class="id"> :=</span><span class="id"> enum_rank_bij</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> enum_val_bij</span><span class="id"> :=</span><span class="id"> enum_val_bij</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> le_enum_val</span><span class="id"> :=</span><span class="id"> le_enum_val</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> le_enum_rank_in</span><span class="id"> :=</span><span class="id"> le_enum_rank_in</span>.<br/>
<span class="vernacular">Notation</span><span class="id"> le_enum_rank</span><span class="id"> :=</span><span class="id"> le_enum_rank</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> Syntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> POSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LatticeSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BLatticeSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TLatticeSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CBDistrLatticeSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CTBDistrLatticeSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> DualSyntax</span>.<br/>
<span class="vernacular">Export</span><span class="id"> DvdSyntax</span>.<br/>
<span class="vernacular">End</span><span class="id"> Syntax</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> LTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> POCoercions</span>.<br/>
<span class="vernacular">Export</span><span class="id"> POrderTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BPOrderTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TPOrderTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> MeetTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BMeetTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TMeetTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> JoinTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BJoinTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TJoinTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> DistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BDistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TDistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> DualTotalTheory</span>. <br/>
<span class="vernacular">Export</span><span class="id"> DualOrder</span>. <br/>
<br/>
<span class="vernacular">Export</span><span class="id"> OrderMorphismTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LatticeMorphismTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> BLatticeMorphismTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> TLatticeMorphismTheory</span>.<br/>
<br/>
<span class="vernacular">Export</span><span class="vernacular"> ClosedPredicates</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LatticePred</span>.<br/>
<br/>
<span class="vernacular">Export</span><span class="id"> SubPOrderTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> LTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> CTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CDistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CBDistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CTDistrLatticeTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CTBDistrLatticeTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> CTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> TTheory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> LTheory</span><span class="id"> TotalTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> TTheory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> Theory</span>.<br/>
<span class="vernacular">Export</span><span class="id"> CTheory</span><span class="id"> TotalTheory</span>.<br/>
<span class="vernacular">End</span><span class="id"> Theory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="vernacular"> Exports</span>.<br/>
<span class="id">HB</span>.<span class="id">reexport</span>.<br/>
<span class="vernacular">End</span><span class="vernacular"> Exports</span>.<br/>
<span class="vernacular">End</span><span class="id"> Order</span>.<br/>
<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">Syntax</span>.<br/>
<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">POrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">MeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BMeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TMeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBMeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">JoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BJoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TJoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBJoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">Lattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">DistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">Total</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">BTotal</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TTotal</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">TBTotal</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">CDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">CBDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">CTDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">CTBDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinBPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTBPOrder</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinMeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinBMeetSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinJoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTJoinSemilattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTBLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTBDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTotal</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinTBTotal</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinCDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<span class="vernacular">Export</span><span class="id"> Order</span>.<span class="id">FinCTBDistrLattice</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> DefaultProdOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultProdOrder</span>.<br/>
<span class="vernacular">Module</span><span class="id"> DefaultSeqProdOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultSeqProdOrder</span>.<br/>
<span class="vernacular">Module</span><span class="id"> DefaultTupleProdOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultTupleProdOrder</span>.<br/>
<span class="vernacular">Module</span><span class="id"> DefaultProdLexiOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultProdLexiOrder</span>.<br/>
<span class="vernacular">Module</span><span class="id"> DefaultSeqLexiOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultSeqLexiOrder</span>.<br/>
<span class="vernacular">Module</span><span class="id"> DefaultTupleLexiOrder</span><span class="id"> :=</span><span class="id"> Order</span>.<span class="id">DefaultTupleLexiOrder</span>.<br/>
<br/>
<span class="vernacular">Import</span><span class="id"> Order</span>.<span class="id">Theory</span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> tagnat</span>.<br/>
<span class="vernacular">Section</span><span class="id"> tagnat</span>.<br/>
<span class="vernacular">Import</span><span class="id"> Order</span>.<span class="id">EnumVal</span>.<br/>
<br/>
<span class="vernacular">Context</span><span class="id"> {n</span><span class="id"> :</span><span class="id"> nat}</span><span class="id"> {p_</span><span class="id"> :</span><span class="id"> 'I_n</span><span class="id"> -&gt;</span><span class="id"> nat}</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> ordsum</span><span class="id"> :=</span><span class="id"> 'I_</span>(<span class="id">\sum_i</span><span class="id"> p_</span><span class="id"> i</span>)<span class="id">%N</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span><span class="id"> T</span><span class="id"> :=</span><span class="id"> {i</span><span class="id"> &amp;</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i</span>)<span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">i</span><span class="id"> :</span><span class="id"> 'I_n</span>) (<span class="id">s</span><span class="id"> :</span><span class="id"> ordsum</span>) (<span class="id">p</span><span class="id"> :</span><span class="id"> T</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> card</span><span class="id"> :</span><span class="id"> #|{:</span><span class="id"> T}|</span><span class="id"> =</span><span class="id"> \sum_i</span><span class="id"> p_</span><span class="id"> i</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> card_tagged</span><span class="id"> sumnE/=</span><span class="id"> big_map</span><span class="id"> big_enum</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_bigr</span><span class="id"> =&gt;</span><span class="id"> i</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> card_ord</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> sig</span><span class="id"> :</span><span class="id"> ordsum</span><span class="id"> -&gt;</span><span class="id"> T</span> <span class="id"> :=</span><span class="id"> enum_val</span><span class="id"> \o</span><span class="id"> cast_ord</span> (<span class="id">esym</span><span class="id"> card</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> rank</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> ordsum</span><span class="id"> :=</span><span class="id"> cast_ord</span><span class="id"> card</span><span class="id"> \o</span><span class="id"> enum_rank</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sigK</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> sig</span><span class="id"> rank</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> s;</span><span class="id"> rewrite</span><span class="id"> /sig/rank/=</span><span class="id"> enum_valK</span><span class="id"> cast_ord_comp</span><span class="id"> cast_ord_id</span>.<br/>
Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> sig_inj</span><span class="id"> :</span><span class="id"> injective</span><span class="id"> sig</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> can_inj</span><span class="id"> sigK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rankK</span><span class="id"> :</span><span class="id"> cancel</span><span class="id"> rank</span><span class="id"> sig</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> p;</span><span class="id"> rewrite</span><span class="id"> /sig/rank/=</span><span class="id"> cast_ord_comp</span><span class="id"> cast_ord_id</span><span class="id"> enum_rankK</span>.<br/>
Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> rank_inj</span><span class="id"> :</span><span class="id"> injective</span><span class="id"> rank</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> can_inj</span><span class="id"> rankK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Definition</span><span class="id"> sig1</span><span class="id"> s</span><span class="id"> :</span><span class="id"> 'I_n</span>            <span class="id"> :=</span><span class="id"> tag</span> (<span class="id">sig</span><span class="id"> s</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> sig2</span><span class="id"> s</span><span class="id"> :</span><span class="id"> 'I_</span>(<span class="id">p_</span> (<span class="id">sig1</span><span class="id"> s</span>))<span class="id"> :=</span><span class="id"> tagged</span> (<span class="id">sig</span><span class="id"> s</span>).<br/>
<span class="vernacular">Definition</span><span class="id"> Rank</span><span class="id"> i</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i</span>))   <span class="id"> :=</span><span class="id"> rank</span> (<span class="id">Tagged</span><span class="id"> _</span><span class="id"> j</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sigE12</span><span class="id"> s</span><span class="id"> :</span><span class="id"> sig</span><span class="id"> s</span><span class="id"> =</span><span class="id"> @Tagged</span><span class="id"> _</span> (<span class="id">sig1</span><span class="id"> s</span>)<span class="id"> _</span> (<span class="id">sig2</span><span class="id"> s</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /sig1</span><span class="id"> /sig2;</span><span class="id"> case:</span><span class="id"> sig</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rankE</span><span class="id"> p</span><span class="id"> :</span><span class="id"> rank</span><span class="id"> p</span><span class="id"> =</span><span class="id"> @Rank</span> (<span class="id">tag</span><span class="id"> p</span>) (<span class="id">tagged</span><span class="id"> p</span>)<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> p</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sig2K</span><span class="id"> s</span><span class="id"> :</span><span class="id"> Rank</span> (<span class="id">sig2</span><span class="id"> s</span>)<span class="id"> =</span><span class="id"> s</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -rankE</span><span class="id"> sigK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Rank1K</span><span class="id"> i0</span> (<span class="id">k</span><span class="id"> :</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i0</span>))<span class="id"> :</span><span class="id"> sig1</span> (<span class="id">Rank</span><span class="id"> k</span>)<span class="id"> =</span><span class="id"> i0</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /sig1</span><span class="id"> /Rank/=</span><span class="id"> rankK/=</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Rank2K</span><span class="id"> i0</span> (<span class="id">k</span><span class="id"> :</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i0</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">sig2</span> (<span class="id">Rank</span><span class="id"> k</span>)<span class="id"> =</span><span class="id"> cast_ord</span> (<span class="id">congr1</span><span class="id"> p_</span> (<span class="id">esym</span> (<span class="id">Rank1K</span><span class="id"> k</span>)))<span class="id"> k</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> val_inj;</span><span class="id"> rewrite</span><span class="id"> /sig2/sig1/Rank/=</span><span class="id"> rankK</span>. Qed.</div></details>
<span class="id">#[local]</span><span class="vernacular"> Hint</span><span class="id"> Resolve</span><span class="id"> sigK</span><span class="id"> rankK</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rank_bij</span><span class="id"> :</span><span class="id"> bijective</span><span class="id"> rank</span><br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="gallina-kwd"> exists</span><span class="id"> sig</span>. Qed.</div></details>
<span class="vernacular">Lemma</span><span class="id"> sig_bij</span> <span class="id"> :</span><span class="id"> bijective</span><span class="id"> sig</span><br/>
<details>
&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="gallina-kwd"> exists</span><span class="id"> rank</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rank_bij_on</span><span class="id"> :</span><span class="id"> {on</span><span class="id"> [pred</span><span class="id"> _</span><span class="id"> |</span><span class="id"> true],</span><span class="id"> bijective</span><span class="id"> rank}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/onW_bij/rank_bij</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> sig_bij_on</span><span class="id"> :</span><span class="id"> {on</span><span class="id"> [pred</span><span class="id"> _</span><span class="id"> |</span><span class="id"> true],</span><span class="id"> bijective</span><span class="id"> sig}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact/onW_bij/sig_bij</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sig</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> sig</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i</span><span class="id"> j;</span><span class="id"> rewrite</span><span class="id"> /sig/=</span><span class="id"> le_enum_val//;</span><span class="id"> apply:</span><span class="id"> le_total</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_sig1</span><span class="id"> :</span><span class="id"> {homo</span><span class="id"> sig1</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;=</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i</span><span class="id"> j;</span><span class="id"> rewrite</span><span class="id"> /sig1/=</span><span class="id"> -le_sig</span><span class="id"> leEsig/=;</span><span class="id"> case:</span><span class="id"> leP</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_rank</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> rank</span><span class="id"> :</span><span class="id"> p</span><span class="id"> q</span><span class="id"> /</span><span class="id"> p</span><span class="id"> &lt;=</span><span class="id"> q}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span><span class="id"> can_mono</span><span class="id"> le_sig</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> le_Rank</span><span class="id"> i</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> @Rank</span><span class="id"> i</span><span class="id"> :</span><span class="id"> j</span><span class="id"> k</span><span class="id"> /</span><span class="id"> j</span><span class="id"> &lt;=</span><span class="id"> k}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> j</span><span class="id"> k;</span><span class="id"> rewrite</span><span class="id"> /Rank</span><span class="id"> le_rank/=</span><span class="id"> leEsig/=</span><span class="id"> tagged_asE</span><span class="id"> lexx</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_sig</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> sig</span><span class="id"> :</span><span class="id"> i</span><span class="id"> j</span><span class="id"> /</span><span class="id"> i</span><span class="id"> &lt;</span><span class="id"> j}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> i</span><span class="id"> j;</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> le_sig</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_rank</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> rank</span><span class="id"> :</span><span class="id"> p</span><span class="id"> q</span><span class="id"> /</span><span class="id"> p</span><span class="id"> &lt;</span><span class="id"> q}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> p</span><span class="id"> q;</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> le_rank</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> lt_Rank</span><span class="id"> i</span><span class="id"> :</span><span class="id"> {mono</span><span class="id"> @Rank</span><span class="id"> i</span><span class="id"> :</span><span class="id"> j</span><span class="id"> k</span><span class="id"> /</span><span class="id"> j</span><span class="id"> &lt;</span><span class="id"> k}</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> j</span><span class="id"> k;</span><span class="id"> rewrite</span><span class="id"> !ltNge</span><span class="id"> le_Rank</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_Rank</span><span class="id"> i</span><span class="id"> i'</span> (<span class="id">j</span><span class="id"> :</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i</span>)) (<span class="id">j':</span><span class="id"> 'I_</span>(<span class="id">p_</span><span class="id"> i'</span>))<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">Rank</span><span class="id"> j</span><span class="id"> ==</span><span class="id"> Rank</span><span class="id"> j'</span><span class="id"> :&gt;</span><span class="id"> nat</span>)<span class="id"> =</span> (<span class="id">i</span><span class="id"> ==</span><span class="id"> i'</span>)<span class="id"> &amp;&amp;</span> (<span class="id">j</span><span class="id"> ==</span><span class="id"> j'</span><span class="id"> :&gt;</span><span class="id"> nat</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> val_eqE</span><span class="id"> /Rank</span><span class="id"> -</span>(<span class="id">can_eq</span><span class="id"> sigK</span>)<span class="id"> !rankK</span>.<br/>
<span class="id">case:</span> (<span class="id">i</span><span class="id"> =P</span><span class="id"> i'</span>)<span class="id"> =&gt;</span><span class="id"> ii'</span><span class="id"> /=;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> case:</span><span class="id"> eqVneq</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> -[]</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> _</span><span class="id"> /</span><span class="id"> ii'</span><span class="gallina-kwd"> in</span><span class="id"> j'</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> eq_Tagged</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rankEsum</span><span class="id"> p</span><span class="id"> :</span><span class="id"> rank</span><span class="id"> p</span><span class="id"> =</span><span class="id"> \sum_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> tag</span><span class="id"> p</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> i</span><span class="id"> +</span><span class="id"> tagged</span><span class="id"> p</span><span class="id"> :&gt;</span><span class="id"> nat</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">pose</span><span class="id"> sum</span><span class="id"> p</span><span class="id"> :=</span><span class="id"> \sum_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> tag</span><span class="id"> p</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> i</span><span class="id"> +</span><span class="id"> tagged</span><span class="id"> p</span>.<br/>
<span class="id">rewrite</span><span class="id"> -/</span>(<span class="id">sum</span><span class="id"> _</span>)<span class="id">;</span><span class="id"> have</span><span class="id"> sumlt</span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> p,</span> (<span class="id">sum</span><span class="id"> p</span><span class="id"> &lt;</span><span class="id"> \sum_i</span><span class="id"> p_</span><span class="id"> i</span>)<span class="id">%N</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> /sum</span><span class="id"> =&gt;</span><span class="id"> -[/=</span><span class="id"> i</span><span class="id"> j]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> [ltnRHS]</span>(<span class="id">bigID</span><span class="id"> [pred</span><span class="id"> i'</span><span class="id"> :</span><span class="id"> 'I__</span><span class="id"> |</span> (<span class="id">i'</span><span class="id"> &lt;</span><span class="id"> i</span>)<span class="id">%N]</span>)<span class="id">/=</span><span class="id"> ltn_add2l</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">bigD1</span><span class="id"> i</span>)<span class="id"> ?ltnn//=</span><span class="id"> ltn_addr</span>.<br/>
<span class="id">suff:</span><span class="id"> rank</span><span class="id"> =1</span> (<span class="gallina-kwd">fun</span><span class="id"> p</span><span class="id"> =&gt;</span><span class="id"> Ordinal</span> (<span class="id">sumlt</span><span class="id"> p</span>))<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> /</span>(_<span class="id"> p</span>)<span class="id">/</span>(<span class="id">congr1</span><span class="id"> val</span>).<br/>
<span class="id">apply:</span> (<span class="id">Order</span>.<span class="id">mono_unique</span><span class="id"> _</span><span class="id"> _</span><span class="id"> le_rank</span>)<span class="id"> =&gt;</span><span class="id"> //=</span>.<br/>
<span class="id">-</span><span class="id"> exact:</span><span class="id"> le_total</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> card</span><span class="id"> card_ord</span>.<br/>
<span class="id">apply:</span><span class="id"> le_mono</span><span class="id"> =&gt;</span><span class="id"> /=</span><span class="id"> -[i</span><span class="id"> j]</span><span class="id"> -[i'</span><span class="id"> j'];</span><span class="id"> rewrite</span><span class="id"> ltEsig/=</span><span class="id"> !ltEord/=</span><span class="id"> /sum</span><span class="id"> leEord/=</span>.<br/>
<span class="id">case:</span> (<span class="id">ltngtP</span><span class="id"> i</span><span class="id"> i'</span>)<span class="id"> =&gt;</span><span class="id"> //=</span><span class="id"> [ltii'</span><span class="id"> _|/val_inj</span><span class="id"> ii'];</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -ii'</span><span class="gallina-kwd"> in</span><span class="id"> j'</span><span class="id"> *;</span><span class="id"> rewrite</span><span class="id"> tagged_asE</span><span class="id"> =&gt;</span><span class="id"> ltjj';</span><span class="id"> rewrite</span><span class="id"> ltn_add2l</span>.<br/>
<span class="id">rewrite</span><span class="id"> ltn_addr//</span> (<span class="id">@leq_trans</span> (<span class="id">\sum_</span>(<span class="id">i0</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">i0</span><span class="id"> &lt;</span><span class="id"> i</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> i0</span><span class="id"> +</span><span class="id"> p_</span><span class="id"> i</span>))<span class="id">%N//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> ltn_add2l</span>.<br/>
<span class="id">rewrite</span><span class="id"> [leqRHS]</span>(<span class="id">bigID</span><span class="id"> [pred</span><span class="id"> i'</span><span class="id"> :</span><span class="id"> 'I__</span><span class="id"> |</span> (<span class="id">i'</span><span class="id"> &lt;</span><span class="id"> i</span>)<span class="id">%N]</span>)<span class="id">/=</span>.<br/>
<span class="id">rewrite</span><span class="id"> leq_add//;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">bigD1</span><span class="id"> i</span>)<span class="id"> ?ltnn</span><span class="id"> ?ltii'//=</span><span class="id"> leq_addr</span>.<br/>
<span class="id">rewrite</span><span class="id"> [leqRHS]</span>(<span class="id">eq_bigl</span><span class="id"> [pred</span><span class="id"> k</span><span class="id"> :</span><span class="id"> 'I_n</span><span class="id"> |</span> (<span class="id">k</span><span class="id"> &lt;</span><span class="id"> i</span>)<span class="id">%N]</span>)<span class="id">//</span><span class="id"> =&gt;</span><span class="id"> k/=</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span> (<span class="id">ltnP</span><span class="id"> k</span><span class="id"> i</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> ?andbF//</span><span class="id"> =&gt;</span><span class="id"> /ltn_trans-&gt;</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> RankEsum</span><span class="id"> i</span><span class="id"> j</span><span class="id"> :</span><span class="id"> @Rank</span><span class="id"> i</span><span class="id"> j</span><span class="id"> =</span><span class="id"> \sum_</span>(<span class="id">k</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">k</span><span class="id"> &lt;</span><span class="id"> i</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> k</span><span class="id"> +</span><span class="id"> j</span><span class="id"> :&gt;</span><span class="id"> nat</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /Rank</span><span class="id"> rankEsum/=</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> rect</span><span class="id"> s</span><span class="id"> :</span><span class="id"> s</span><span class="id"> =</span><span class="id"> \sum_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> sig1</span><span class="id"> s</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> i</span><span class="id"> +</span><span class="id"> sig2</span><span class="id"> s</span><span class="id"> :&gt;</span><span class="id"> nat</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -[s]sigK</span><span class="id"> rankEsum</span><span class="id"> /=</span><span class="id"> sigK</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eqRank</span> (<span class="id">i0</span><span class="id"> j</span><span class="id"> :</span><span class="id"> nat</span>) (<span class="id">li0</span><span class="id"> :</span> (<span class="id">i0</span><span class="id"> &lt;</span><span class="id"> n</span>)<span class="id">%N</span>) (<span class="id">lj</span><span class="id"> :</span> (<span class="id">j</span><span class="id"> &lt;</span><span class="id"> p_</span> (<span class="id">Ordinal</span><span class="id"> li0</span>))<span class="id">%N</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;(<span class="id">\sum_</span>(<span class="id">i</span><span class="id"> &lt;</span><span class="id"> n</span><span class="id"> |</span> (<span class="id">i</span><span class="id"> &lt;</span><span class="id"> i0</span>)<span class="id">%N</span>)<span class="id"> p_</span><span class="id"> i</span>)<span class="id"> +</span><span class="id"> j</span><span class="id"> =</span><span class="id"> Rank</span> (<span class="id">Ordinal</span><span class="id"> lj</span>)<span class="id"> :&gt;</span><span class="id"> nat</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> RankEsum</span>. Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> tagnat</span>.<br/>
<span class="vernacular">End</span><span class="id"> tagnat</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> tagnat</span>.<span class="id">Rank</span><span class="id"> {n</span><span class="id"> p_}</span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/affeldt-aist/rocqnavi/">rocqnavi</a></div>
    </div>
  </div>
    </main>
</body>
</html>
